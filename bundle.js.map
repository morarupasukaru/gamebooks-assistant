{"version":3,"sources":["webpack:///bundle.js","webpack:///./app.js","webpack:///./i18n/en.js","webpack:///./i18n/fr.js","webpack:///./components/components.js","webpack:///./components/gui/gui.js","webpack:///./components/gui/components/components.js","webpack:///./components/gui/components/dices/dices.js","webpack:///./components/gui/components/dices/dices.html","webpack:///./components/gui/components/dices/dices.controller.js","webpack:///./components/gui/components/messages/messages.service.js","webpack:///./components/gui/components/messages/messages.html","webpack:///./components/gui/components/messages/messages.controller.js","webpack:///./components/gui/components/navbar/navbar.controller.js","webpack:///./components/gui/components/language-picker/language-picker.js","webpack:///./components/gui/components/language-picker/language-picker.controller.js","webpack:///./components/gui/components/language-picker/language-picker.service.js","webpack:///./components/gui/components/popup/popup.js","webpack:///./components/gui/components/popup/popup.html","webpack:///./components/gui/components/popup/popup.controller.js","webpack:///./components/gui/components/popup/popup.service.js","webpack:///./components/gui/components/items/items.js","webpack:///./components/gui/components/items/items.html","webpack:///./components/gui/components/items/items.controller.js","webpack:///./components/gui/components/stats/stats.js","webpack:///./components/gui/components/stats/stats.controller.js","webpack:///./components/gui/components/paragraph/paragraph.js","webpack:///./components/gui/components/paragraph/paragraph.controller.js","webpack:///./components/gui/components/back-button/back-button.js","webpack:///./components/gui/components/back-button/back-button.controller.js","webpack:///./components/gui/components/end-game-popup/end-game-popup.js","webpack:///./components/gui/components/end-game-popup/end-game-popup.html","webpack:///./components/gui/components/end-game-popup/end-game-popup.controller.js","webpack:///./components/gui/components/end-game-popup/end-game-popup.service.js","webpack:///./components/gui/components/export-data-popup/export-data-popup.js","webpack:///./components/gui/components/export-data-popup/export-data-popup.html","webpack:///./components/gui/components/export-data-popup/export-data-popup.controller.js","webpack:///./components/gui/components/export-data-popup/export-data-popup.service.js","webpack:///./components/gui/components/import-data-popup/import-data-popup.js","webpack:///./components/gui/components/import-data-popup/import-data-popup.html","webpack:///./components/gui/components/import-data-popup/import-data-popup.controller.js","webpack:///./components/gui/components/import-data-popup/import-data-popup.service.js","webpack:///./components/gui/screens/home/home.js","webpack:///./components/gui/screens/home/home.html","webpack:///./components/gui/screens/home/home.controller.js","webpack:///./components/gui/screens/games/list/games-list.js","webpack:///./components/gui/screens/games/list/games-list.html","webpack:///./components/gui/screens/games/list/games-list.controller.js","webpack:///./components/gui/screens/games/detail/game-detail.js","webpack:///./components/gui/screens/games/detail/notes/notes.js","webpack:///./components/gui/screens/games/detail/notes/notes.controller.js","webpack:///./components/gui/screens/games/detail/game-detail.controller.js","webpack:///./components/gui/screens/games/create/create-game-wizard.js","webpack:///./components/gui/screens/games/create/select-adventure/select-adventure.js","webpack:///./components/gui/screens/games/create/select-adventure/select-adventure.controller.js","webpack:///./components/gui/screens/games/create/create-player/create-player.js","webpack:///./components/gui/screens/games/create/create-player/create-player.html","webpack:///./components/gui/screens/games/create/create-player/create-player.controller.js","webpack:///./components/gui/screens/games/create/choose-items/choose-items.js","webpack:///./components/gui/screens/games/create/choose-items/choose-items.controller.js","webpack:///./components/gui/screens/battle/battle.js","webpack:///./components/gui/screens/battle/battle.html","webpack:///./components/gui/screens/battle/battle.controller.js","webpack:///./components/gui/screens/administration/administration.js","webpack:///./components/gui/screens/administration/administration.controller.js","webpack:///./components/gui/screens/choose-language/choose-language.js","webpack:///./components/gui/screens/choose-language/choose-language.html","webpack:///./components/gui/screens/choose-language/choose-language.controller.js","webpack:///./components/gui/screens/about/about.js","webpack:///./components/gui/screens/about/about.controller.js","webpack:///./components/gui/screens/adventures/adventures.js","webpack:///./components/gui/screens/adventures/list/adventures-list.js","webpack:///./components/gui/screens/adventures/list/adventures-list.controller.js","webpack:///./components/gui/screens/adventures/detail/adventure-detail.js","webpack:///./components/gui/screens/adventures/detail/adventure-detail.html","webpack:///./components/gui/screens/adventures/detail/adventure-detail.controller.js","webpack:///./components/gui/screens/libraries/libraries.js","webpack:///./components/gui/screens/libraries/list/libraries-list.js","webpack:///./components/gui/screens/libraries/list/libraries-list.controller.js","webpack:///./components/gui/screens/libraries/detail/library-detail.js","webpack:///./components/gui/screens/libraries/detail/library-detail.html","webpack:///./components/gui/screens/libraries/detail/library-detail.controller.js","webpack:///./components/services/services.js","webpack:///./components/services/language-availability-checker/language-availability-checker.service.js","webpack:///./components/services/software-requirements-checker/software-requirements-checker.service.js","webpack:///./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.js","webpack:///./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.service.js","webpack:///./components/services/persistence/persistence.js","webpack:///./components/services/persistence/game-persistence/game-persistence.js","webpack:///./components/services/persistence/game-persistence/game-persistence.service.js","webpack:///./components/services/persistence/adventure-persistence/adventure-persistence.js","webpack:///./components/services/persistence/adventure-persistence/adventure-persistence.service.js","webpack:///./components/services/persistence/library-persistence/library-persistence.js","webpack:///./components/services/persistence/library-persistence/library-persistence.service.js","webpack:///./components/services/persistence/persistence.service.js","webpack:///./components/services/dices/dices.js","webpack:///./components/services/dices/dices.service.js","webpack:///./components/services/form-helper/form-helper.js","webpack:///./components/services/form-helper/form-helper.service.js","webpack:///./components/services/remote-json-retriever/remote-json-retriever.service.js","webpack:///./components/constants/constants.js","webpack:///./app.component.js","webpack:///./app.css?4676","webpack:///./app.css","webpack:////home/pascal/Documents/dev/gamebooks-assistant/~/string.prototype.startswith/startswith.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_i18nEnJs","_i18nEnJs2","_i18nFrJs","_i18nFrJs2","_angular","_angular2","_angularUiRouter","_angularUiRouter2","_angularTranslate","_angularTranslate2","_angularUiBootstrap","_angularUiBootstrap2","_componentsComponents","_componentsComponents2","_appComponent","_appComponent2","name","config","$translateProvider","translations","preferredLanguage","useSanitizeValueStrategy","$compileProvider","aHrefSanitizationWhitelist","directive","$parse","restrict","scope","link","element","attrs","fn","onReadFile","on","onChangeEvent","reader","FileReader","onload","onLoadEvent","$apply","$fileContent","target","result","readAsText","srcElement","files","Object","defineProperty","value","englishTranslations","yesno_true","yesno_false","NumberOfParagraphs","ChoiceAdventure","ChoosenAdventure","ChoiceGame","ChoosenGame","ChoiceLibrary","ChoosenLibrary","DupplicateParagraph","ExportGame","ExportAdventure","export_file","export_email","export_text","import_file","import_text","error.adventureAlreadyExist","error.libraryAlreadyExist","frenchTranslations","_guiGui","_guiGui2","_servicesServices","_servicesServices2","_constantsConstants","_constantsConstants2","componentModule","_screensScreens","_screensScreens2","guiModule","_dicesDices","_dicesDices2","_messagesMessages","_messagesMessages2","_navbarNavbar","_navbarNavbar2","_languagePickerLanguagePicker","_languagePickerLanguagePicker2","_popupPopup","_popupPopup2","_itemsItems","_itemsItems2","_statsStats","_statsStats2","_paragraphParagraph","_paragraphParagraph2","_backButtonBackButton","_backButtonBackButton2","_endGamePopupEndGamePopup","_endGamePopupEndGamePopup2","_exportDataPopupExportDataPopup","_exportDataPopupExportDataPopup2","_importDataPopupImportDataPopup","_importDataPopupImportDataPopup2","guiComponentsModule","_dicesHtml","_dicesHtml2","_dicesController","_dicesController2","dicesModule","component","template","controller","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","DicesController","dicesService","this","clear","$inject","appendToResult","rollDices","dicesValue","_messagesService","_messagesService2","_messagesHtml","_messagesHtml2","_messagesController","_messagesController2","messagesModule","service","MessagesService","$rootScope","$translate","messages","forEach","msg","index","arr","keepAfterLocationChange","splice","_addMessage","type","translatedMsg","instant","_hasMessage","push","message","hasMessage","MessagesController","messagesService","_this","$on","clearMessages","getMessages","removeMessage","_navbarHtml","_navbarHtml2","_navbarController","_navbarController2","navbarModule","NavbarController","preScreenLoadingInterceptorsCallerService","$location","languagePickerService","intercept","params","search","admin","navCollapsed","initData","supportedLanguages","getSupportedLanguages","changeLanguage","getSelectedLanguage","selectedLanguage","language","_languagePickerHtml","_languagePickerHtml2","_languagePickerController","_languagePickerController2","_languagePickerService","_languagePickerService2","languagePickerModule","LanguagePickerController","LanguagePickerService","gamePersistenceService","constants","initSupportedLanguages","code","navigator","undefined","startsWith","use","setSelectedLanguage","selected","_popupHtml","_popupHtml2","_popupController","_popupController2","_popupService","_popupService2","popupModule","bindings","PopupController","popupService","cfg","JSON","parse","closeOnClickOutsideModal","close","choice","id","PopupService","popups","popupDomElementId","callback","modalElement","window","document","getElementById","style","display","_itemsHtml","_itemsHtml2","_itemsController","_itemsController2","itemsModule","gameId","items","ItemsController","rows","popupDeleteItemConfig","text","choices","yes","no","withCloseButton","row","quantity","addedRow","removedRow","rowToBeRemoved","self","show","removeRow","indexOf","clearEditedRow","saveInPersistence","editedRow","originalRow","description","$invalid","updatedGame","getGame","updateGame","_statsHtml","_statsHtml2","_statsController","_statsController2","statsModule","stats","StatsController","current","save","_paragraphHtml","_paragraphHtml2","_paragraphController","_paragraphController2","paragraphModule","paragraph","ParagraphController","adventurePersistenceService","popupDeleteChoiceConfig","game","adventureId","playerName","descriptionEditable","alreadyChoosen","getChoosenChoices","paragraphNr","inputParagraphNr","inputDescription","saveParagraphChoices","originalDescription","updateParagraph","bookId","setCurrentParagraphNrOfGame","nextUrl","getUrlOfGame","url","_backButtonHtml","_backButtonHtml2","_backButtonController","_backButtonController2","backButtonModule","BackButtonController","$window","history","back","_endGamePopupHtml","_endGamePopupHtml2","_endGamePopupController","_endGamePopupController2","_endGamePopupService","_endGamePopupService2","endGamePopupModule","EndGamePopupController","endGamePopupService","endGameReason","EndGamePopupService","_exportDataPopupHtml","_exportDataPopupHtml2","_exportDataPopupController","_exportDataPopupController2","_exportDataPopupService","_exportDataPopupService2","exportDataPopupModule","constant","file","email","ExportDataPopupController","exportDataPopupService","exportMethods","formHelperService","cancel","ok","methods","exportMethod","form","setErrorFieldsAsDirty","displayExportEmail","href","click","displayDownload","ExportDataPopupService","data","blob","Blob","URL","webkitURL","createObjectURL","_importDataPopupHtml","_importDataPopupHtml2","_importDataPopupController","_importDataPopupController2","_importDataPopupService","_importDataPopupService2","importDataPopupModule","ImportDataPopupController","importDataPopupService","importMethods","importMethod","importData","importTextData","importUploadData","ImportDataPopupService","_homeHome","_homeHome2","_gamesGames","_gamesGames2","_battleBattle","_battleBattle2","_administrationAdministration","_administrationAdministration2","_chooseLanguageChooseLanguage","_chooseLanguageChooseLanguage2","_aboutAbout","_aboutAbout2","_adventuresAdventures","_adventuresAdventures2","_librariesLibraries","_librariesLibraries2","screensModule","_homeHtml","_homeHtml2","_homeController","_homeController2","homeModule","$stateProvider","$urlRouterProvider","otherwise","state","root","HomeController","games","_listGamesList","_listGamesList2","_detailGameDetail","_detailGameDetail2","_createCreateGameWizard","_createCreateGameWizard2","gamesModule","_gamesListHtml","_gamesListHtml2","_gamesListController","_gamesListController2","gamesListModule","GamesListController","popupDeleteGameConfig","popupExportGameConfig","popupImportGameConfig","gamePersistenceKeys","getGamePersistenceKeys","completeAdventureData","adventure","getAdventure","adventureName","serie","errorMessage","adventureKeys","getAdventurePersistenceKeys","selectAdventureForNewGame","getSelectedRow","deleteGame","exportData","stringify","exportDownloadBlobUrl","createDownloadBlobUrl","exportTitle","title","importGame","_notesNotes","_notesNotes2","_gameDetailHtml","_gameDetailHtml2","_gameDetailController","_gameDetailController2","gameDetailModule","gameDetail","_notesHtml","_notesHtml2","_notesController","_notesController2","notesModule","NotesController","popupDeleteNoteConfig","notes","getParagraph","isParagraph","note","concat","noteValue","saveNotes","Number","savePlayerNotes","saveParagraphNotes","savedNotes","GameDetailController","$stateParams","decodeURIComponent","getOrCreateParagraph","popupAbandonGameConfig","checkAvailableAdventure","battle","_selectAdventureSelectAdventure","_selectAdventureSelectAdventure2","_createPlayerCreatePlayer","_createPlayerCreatePlayer2","_chooseItemsChooseItems","_chooseItemsChooseItems2","createGameWizardModule","_selectAdventureHtml","_selectAdventureHtml2","_selectAdventureController","_selectAdventureController2","SelectAdventureModule","SelectAdventureController","$timeout","setInitialFocus","adventurePersistenceKeys","adventures","selectedAdventureId","that","focus","createPlayerForNewGame","encodeURIComponent","_createPlayerHtml","_createPlayerHtml2","_createPlayerController","_createPlayerController2","CreatePlayerModule","CreatePlayerController","loadData","generateStats","_loop","currentStats","generate","init","sixDiceQuantity","invalid","chooseItemsForNewGame","statsParam","_chooseItemsHtml","_chooseItemsHtml2","_chooseItemsController","_chooseItemsController2","ChooseItemsModule","ChooseItemsController","playerItems","displayNotes","startGameNote","infoMessage","buildGame","addGame","startParagraphNr","getStatsInUrlParam","statsParamValue","startPos","endPos","statsValue","substring","_battleHtml","_battleHtml2","_battleController","_battleController2","BattleModule","BattleController","popupDeleteEnemyConfig","initStatsData","initPlayerStats","defaultEnemy","initDefaultEnemy","addEnemy","displayed","enemyDefaultValue","editableForEnemy","statsPlayer","j","currentGameStats","defaultEnemyName","statsDefaultEnemy","lastColumnSizeInPercent","_administrationHtml","_administrationHtml2","_administrationController","_administrationController2","administrationModule","administration","AdministrationController","persistenceService","popupConfirmImportApplicationDataConfig","popupConfirmDeleteApplicationDataConfig","applicationData","computeLocalStorageCapacities","usedLocalStorage","getUsedCapacity","remainingCapacity","getRemainingCapacity","usedLocalStorageInPercent","getUsedCapacityInPercent","location","reload","cleanAllData","_chooseLanguageHtml","_chooseLanguageHtml2","_chooseLanguageController","_chooseLanguageController2","chooseLanguageModule","chooseLanguage","ChooseLanguageController","_aboutHtml","_aboutHtml2","_aboutController","_aboutController2","aboutModule","about","AboutController","appVersion","version","_listAdventuresList","_listAdventuresList2","_detailAdventureDetail","_detailAdventureDetail2","adventuresModule","_adventuresListHtml","_adventuresListHtml2","_adventuresListController","_adventuresListController2","adventuresListModule","AdventuresListController","popupDeleteAdventureConfig","popupExportAdventureConfig","popupImportAdventureConfig","getAdventuresOverview","clearSelection","downloadHistory","downloadStatus","downloadUrl","adventureDetail","deleteAdventure","deleteAdventureAndParagraphs","exportAdventure","importAdventure","promise","downloadAdventure","then","json","reason","selectedRow","_adventureDetailHtml","_adventureDetailHtml2","_adventureDetailController","_adventureDetailController2","adventureDetailModule","AdventureDetailController","popupDeleteStatsConfig","mode","modifiedItems","updateAdventureWithoutParagraphs","error","getEditRow","_listLibrariesList","_listLibrariesList2","_detailLibraryDetail","_detailLibraryDetail2","librariesModule","_librariesListHtml","_librariesListHtml2","_librariesListController","_librariesListController2","librariesListModule","libraries","LibrariesListController","libraryPersistenceService","popupDeleteLibraryConfig","popupExportLibrariesConfig","popupImportLibrariesConfig","getLibraries","lastDownloadStatus","libraryDetail","deleteLibrary","exportLibraries","importLibraries","downloadLibrary","_libraryDetailHtml","_libraryDetailHtml2","_libraryDetailController","_libraryDetailController2","libraryDetailModule","LibraryDetailController","libraryId","library","getLibrary","updateLibrary","_languageAvailabilityCheckerLanguageAvailabilityChecker","_languageAvailabilityCheckerLanguageAvailabilityChecker2","_softwareRequirementsCheckerSoftwareRequirementsChecker","_softwareRequirementsCheckerSoftwareRequirementsChecker2","_preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller","_preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller2","_persistencePersistence","_persistencePersistence2","_formHelperFormHelper","_formHelperFormHelper2","_remoteJsonRetrieverRemoteJsonRetriever","_remoteJsonRetrieverRemoteJsonRetriever2","servicesModule","_languageAvailabilityCheckerService","_languageAvailabilityCheckerService2","languageAvailabilityCheckerModule","LanguageAvailabilityCheckerService","currentUrl","_softwareRequirementsCheckerService","_softwareRequirementsCheckerService2","softwareRequirementsCheckerModule","SoftwareRequirementsCheckerService","hasSoftwareRequirements","isLocalStorageSupported","storage","x","setItem","removeItem","e","_preScreenLoadingInterceptorsCallerService","_preScreenLoadingInterceptorsCallerService2","preScreenLoadingInterceptorsCallerModule","PreScreenLoadingInterceptorsCallerService","languageAvailabilityCheckerService","softwareRequirementsCheckerService","checkSoftwareRequirements","selectLanguageIfMissing","_gamePersistenceGamePersistence","_gamePersistenceGamePersistence2","_adventurePersistenceAdventurePersistence","_adventurePersistenceAdventurePersistence2","_libraryPersistenceLibraryPersistence","_libraryPersistenceLibraryPersistence2","_persistenceService","_persistenceService2","persistenceModule","_gamePersistenceService","_gamePersistenceService2","gamePersistenceModule","GamePersistenceService","get","savedGame","newGameId","currentParagraphNr","initial","gameAsStr","missingMandatoryFields","join","getGamePersistenceKey","deleteParagraphNotesOfGame","deleteParagraphChoicesOfGame","paragraphKeys","getAdventureParagraphKeys","newNotes","localStorage","Date","getTime","toString","urlOfGame","findKeysWithPrefix","fromParagrahNr","toParagraphNr","persistenceKeyChoosenParagraphs","choosenParagraphs","keyArray","choosenBy","path","choosen","_adventurePersistenceService","_adventurePersistenceService2","adventurePersistenceModule","AdventurePersistenceService","$q","remoteJsonRetrieverService","deferred","defer","retrieveJson","resolve","reject","now","$filter","updateDownloadableAdventure","errors","adventureAlreadyExist","existingAdventure","keys","numberOfParagraphs","authors","getAdventurePersistenceKey","adventureAsStr","paragraphs","setParagraph","adventureIdFromFromAdventureName","getAdventureIdFromAdventureName","adventureInfo","replace","toLowerCase","remove","checkDupplicate","getParagraphPersistenceKey","existingParagraph","checkDupplicateChoices","foundParagraph","choiceParagraphNr","keyAdventureId","adventureIdInKey","adventureIdKeyPrefix","currentAdventureIdPrefix","sortParagraphs","sort","compareParagraph","p1","p2","_libraryPersistenceService","_libraryPersistenceService2","libraryPersistenceModule","LibraryPersistenceService","libraryUrl","updateDownloadableAdventures","successMessage","getLibraryPersistenceKey","librariesStr","checkMissingFields","siteName","checkDupplicateLibrary","getIdFromLibrarySiteName","libraryAlreadyExist","lastDownload","getLibraryPersistenceKeys","PersistenceService","keyPrefix","getItem","importDataAsJson","unescape","b10","b100","repeat","b1000","b10k","b100k","b1M","buffers","setLocalStorageWithoutError","capacity","test","usedCapacity","available","string","count","array","_dicesService","_dicesService2","DicesService","qty","maxDiceValue","randomIntInclusive","min","max","Math","floor","random","_formHelperService","_formHelperService2","formHelperModule","FormHelperService","withMessage","angular","$error","field","$setDirty","_remoteJsonRetrieverService","_remoteJsonRetrieverService2","remoteJsonRetrieverModule","RemoteJsonRetrieverService","$http","jsonUrl","response","constantsModule","_appHtml","_appHtml2","appComponent","content","locals","String","object","$defineProperty","call","stringLength","searchString","searchLength","position","arguments","pos","start","charCodeAt"],"mappings":"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","file":"bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Angular-Modul der Hauptkomponente\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 23.10.2015, 2015.\n\t */\n\n\t'use strict';\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _i18nEnJs = __webpack_require__(1);\n\n\tvar _i18nEnJs2 = _interopRequireDefault(_i18nEnJs);\n\n\tvar _i18nFrJs = __webpack_require__(2);\n\n\tvar _i18nFrJs2 = _interopRequireDefault(_i18nFrJs);\n\n\t// Vendor-Imports\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _angularTranslate = __webpack_require__(6);\n\n\tvar _angularTranslate2 = _interopRequireDefault(_angularTranslate);\n\n\tvar _angularUiBootstrap = __webpack_require__(7);\n\n\tvar _angularUiBootstrap2 = _interopRequireDefault(_angularUiBootstrap);\n\n\t// Interne Modul-Imports\n\n\tvar _componentsComponents = __webpack_require__(9);\n\n\tvar _componentsComponents2 = _interopRequireDefault(_componentsComponents);\n\n\tvar _appComponent = __webpack_require__(126);\n\n\tvar _appComponent2 = _interopRequireDefault(_appComponent);\n\n\t// A robust & optimized ES3-compatible polyfill for the String.prototype.startsWith method in ECMAScript 6\n\t__webpack_require__(132);\n\n\t_angular2['default'].module('app', [_angularUiRouter2['default'], _angularTranslate2['default'], _angularUiBootstrap2['default'], _componentsComponents2['default'].name]).config(['$translateProvider', function ($translateProvider) {\n\t    $translateProvider.translations('en', _i18nEnJs2['default']);\n\t    $translateProvider.translations('fr', _i18nFrJs2['default']);\n\t    $translateProvider.preferredLanguage('en');\n\t    $translateProvider.useSanitizeValueStrategy('escape');\n\t}]).config(['$compileProvider', function ($compileProvider) {\n\t    $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|file|blob):/);\n\t}]).directive('onReadFile', function ($parse) {\n\t    return {\n\t        restrict: 'A',\n\t        scope: false,\n\t        link: function link(scope, element, attrs) {\n\t            var fn = $parse(attrs.onReadFile);\n\n\t            element.on('change', function (onChangeEvent) {\n\t                var reader = new FileReader();\n\n\t                reader.onload = function (onLoadEvent) {\n\t                    scope.$apply(function () {\n\t                        fn(scope, { $fileContent: onLoadEvent.target.result });\n\t                    });\n\t                };\n\n\t                reader.readAsText((onChangeEvent.srcElement || onChangeEvent.target).files[0]);\n\t            });\n\t        }\n\t    };\n\t})\n\n\t// Die App als Direktive exportieren\n\t.directive('app', _appComponent2['default']);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tvar englishTranslations = {\n\t    'yesno_true': 'yes',\n\t    'yesno_false': 'no',\n\t    'NumberOfParagraphs': '{{ (!!numberOfParagraphs ? numberOfParagraphs + \" paragraphs\" : \"\") }}',\n\t    'ChoiceAdventure': 'Select the adventure \"{{ adventureName }}\"',\n\t    'ChoosenAdventure': 'The adventure \"{{ adventureName }}\" is choosen',\n\t    'ChoiceGame': 'Select the game \"{{ adventureName }}\" of the player \"{{ playerName }}\"',\n\t    'ChoosenGame': 'The game \"{{ adventureName }}\" of the player \"{{ playerName }}\" is choosen',\n\t    'ChoiceLibrary': 'Select the library \"{{ siteName }}\"',\n\t    'ChoosenLibrary': 'The library \"{{ siteName }}\" is choosen',\n\t    'DupplicateParagraph': 'The paragraph \"{{paragraphNr}}\" already exist',\n\t    'ExportGame': \"Export the game of '{{playerName}}' from the adventure '{{adventureName}}'\",\n\t    'ExportAdventure': \"Export the adventure of '{{adventureName}}'\",\n\t    'export_file': 'Download file',\n\t    'export_email': 'Sent email',\n\t    'export_text': 'Text',\n\t    'import_file': 'Upload file',\n\t    'import_text': 'Text',\n\t    'error.adventureAlreadyExist': 'Adventure already exists',\n\t    'error.libraryAlreadyExist': 'Library already exists (JSON url)'\n\t};\n\n\texports['default'] = englishTranslations;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar frenchTranslations = {};\n\n\texports[\"default\"] = frenchTranslations;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Angular-Modul der Komponenten\n\t * - Hier werden alle Komponenten als einheitliches Modul exportiert\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 04.12.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _guiGui = __webpack_require__(10);\n\n\tvar _guiGui2 = _interopRequireDefault(_guiGui);\n\n\tvar _servicesServices = __webpack_require__(104);\n\n\tvar _servicesServices2 = _interopRequireDefault(_servicesServices);\n\n\tvar _constantsConstants = __webpack_require__(125);\n\n\tvar _constantsConstants2 = _interopRequireDefault(_constantsConstants);\n\n\tvar componentModule = _angular2['default'].module('app.components', [_constantsConstants2['default'].name, _servicesServices2['default'].name, _guiGui2['default'].name]);\n\n\texports['default'] = componentModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _componentsComponents = __webpack_require__(11);\n\n\tvar _componentsComponents2 = _interopRequireDefault(_componentsComponents);\n\n\tvar _screensScreens = __webpack_require__(54);\n\n\tvar _screensScreens2 = _interopRequireDefault(_screensScreens);\n\n\tvar guiModule = _angular2['default'].module('app.components.gui', [_componentsComponents2['default'].name, _screensScreens2['default'].name]);\n\n\texports['default'] = guiModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _dicesDices = __webpack_require__(12);\n\n\tvar _dicesDices2 = _interopRequireDefault(_dicesDices);\n\n\tvar _messagesMessages = __webpack_require__(15);\n\n\tvar _messagesMessages2 = _interopRequireDefault(_messagesMessages);\n\n\tvar _navbarNavbar = __webpack_require__(19);\n\n\tvar _navbarNavbar2 = _interopRequireDefault(_navbarNavbar);\n\n\tvar _languagePickerLanguagePicker = __webpack_require__(22);\n\n\tvar _languagePickerLanguagePicker2 = _interopRequireDefault(_languagePickerLanguagePicker);\n\n\tvar _popupPopup = __webpack_require__(26);\n\n\tvar _popupPopup2 = _interopRequireDefault(_popupPopup);\n\n\tvar _itemsItems = __webpack_require__(30);\n\n\tvar _itemsItems2 = _interopRequireDefault(_itemsItems);\n\n\tvar _statsStats = __webpack_require__(33);\n\n\tvar _statsStats2 = _interopRequireDefault(_statsStats);\n\n\tvar _paragraphParagraph = __webpack_require__(36);\n\n\tvar _paragraphParagraph2 = _interopRequireDefault(_paragraphParagraph);\n\n\tvar _backButtonBackButton = __webpack_require__(39);\n\n\tvar _backButtonBackButton2 = _interopRequireDefault(_backButtonBackButton);\n\n\tvar _endGamePopupEndGamePopup = __webpack_require__(42);\n\n\tvar _endGamePopupEndGamePopup2 = _interopRequireDefault(_endGamePopupEndGamePopup);\n\n\tvar _exportDataPopupExportDataPopup = __webpack_require__(46);\n\n\tvar _exportDataPopupExportDataPopup2 = _interopRequireDefault(_exportDataPopupExportDataPopup);\n\n\tvar _importDataPopupImportDataPopup = __webpack_require__(50);\n\n\tvar _importDataPopupImportDataPopup2 = _interopRequireDefault(_importDataPopupImportDataPopup);\n\n\tvar guiComponentsModule = _angular2['default'].module('app.components.gui.components', [_dicesDices2['default'].name, _messagesMessages2['default'].name, _navbarNavbar2['default'].name, _languagePickerLanguagePicker2['default'].name, _popupPopup2['default'].name, _itemsItems2['default'].name, _statsStats2['default'].name, _paragraphParagraph2['default'].name, _backButtonBackButton2['default'].name, _endGamePopupEndGamePopup2['default'].name, _exportDataPopupExportDataPopup2['default'].name, _importDataPopupImportDataPopup2['default'].name]);\n\n\texports['default'] = guiComponentsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _dicesHtml = __webpack_require__(13);\n\n\tvar _dicesHtml2 = _interopRequireDefault(_dicesHtml);\n\n\tvar _dicesController = __webpack_require__(14);\n\n\tvar _dicesController2 = _interopRequireDefault(_dicesController);\n\n\tvar dicesModule = _angular2['default'].module('app.components.gui.components.dices', []).component('dices', { template: _dicesHtml2['default'], controller: _dicesController2['default'] });\n\n\texports['default'] = dicesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form>\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:85%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>\\n                <ng-include src=\\\"'dice-image.html'\\\"></ng-include>\\n            </th>\\n            <th></th>\\n            <th>{{ 'Sum of dices value' | translate }}</th>\\n            <th></th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll1d6()\\\"\\n                        aria-label=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\">\\n                    {{ 'x1' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll2d6()\\\"\\n                        aria-label=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\">\\n                    {{ 'x2' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                {{ $ctrl.dicesValue }}\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default glyphicon glyphicon-erase\\\"\\n                        title=\\\"{{ 'Clear values' | translate }}\\\"\\n                        aria-label=\\\"{{ 'Clear values' | translate }}\\\"\\n                        ng-click=\\\"$ctrl.clear()\\\">\\n\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n\"\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar DicesController = (function () {\n\t    /*@ngInject*/\n\n\t    DicesController.$inject = [\"dicesService\"];\n\t    function DicesController(dicesService) {\n\t        _classCallCheck(this, DicesController);\n\n\t        this.dicesService = dicesService;\n\t        this.clear();\n\t    }\n\n\t    _createClass(DicesController, [{\n\t        key: 'roll2d6',\n\t        value: function roll2d6() {\n\t            this.appendToResult(this.dicesService.rollDices(2, 6));\n\t        }\n\t    }, {\n\t        key: 'roll1d6',\n\t        value: function roll1d6() {\n\t            this.appendToResult(this.dicesService.rollDices(1, 6));\n\t        }\n\t    }, {\n\t        key: 'clear',\n\t        value: function clear() {\n\t            this.dicesValue = '';\n\t        }\n\t    }, {\n\t        key: 'appendToResult',\n\t        value: function appendToResult(value) {\n\t            if (this.dicesValue !== '') {\n\t                this.dicesValue = this.dicesValue + ',';\n\t            }\n\t            this.dicesValue = this.dicesValue + value;\n\t        }\n\t    }]);\n\n\t    return DicesController;\n\t})();\n\n\texports['default'] = DicesController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Definition der Messages-Komponente\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.2\n\t * @since 06.11.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _messagesService = __webpack_require__(16);\n\n\tvar _messagesService2 = _interopRequireDefault(_messagesService);\n\n\tvar _messagesHtml = __webpack_require__(17);\n\n\tvar _messagesHtml2 = _interopRequireDefault(_messagesHtml);\n\n\tvar _messagesController = __webpack_require__(18);\n\n\tvar _messagesController2 = _interopRequireDefault(_messagesController);\n\n\tvar messagesModule = _angular2['default'].module('app.components.gui.components.messages', []).service('messagesService', _messagesService2['default']).component('messages', { template: _messagesHtml2['default'], controller: _messagesController2['default'] });\n\n\texports['default'] = messagesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar MessagesService = (function () {\n\t    /*@ngInject*/\n\n\t    MessagesService.$inject = [\"$rootScope\", \"$translate\"];\n\t    function MessagesService($rootScope, $translate) {\n\t        _classCallCheck(this, MessagesService);\n\n\t        this.$rootScope = $rootScope;\n\t        this.$translate = $translate;\n\n\t        if (!this.$rootScope.messages) {\n\t            this.$rootScope.messages = [];\n\t        }\n\t    }\n\n\t    _createClass(MessagesService, [{\n\t        key: 'getMessages',\n\t        value: function getMessages() {\n\t            return this.$rootScope.messages || [];\n\t        }\n\t    }, {\n\t        key: 'clearMessages',\n\t        value: function clearMessages() {\n\t            this.$rootScope.messages.forEach(function (msg, index, arr) {\n\t                if (!msg.keepAfterLocationChange) {\n\t                    arr.splice(index, 1);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeMessage',\n\t        value: function removeMessage(index) {\n\t            this.$rootScope.messages.splice(index, 1);\n\t        }\n\t    }, {\n\t        key: 'successMessage',\n\t        value: function successMessage(msg, keepAfterLocationChange) {\n\t            this._addMessage(msg, 'success', keepAfterLocationChange);\n\t        }\n\t    }, {\n\t        key: 'errorMessage',\n\t        value: function errorMessage(msg, keepAfterLocationChange) {\n\t            this._addMessage(msg, 'error', keepAfterLocationChange);\n\t        }\n\t    }, {\n\t        key: 'infoMessage',\n\t        value: function infoMessage(msg, keepAfterLocationChange) {\n\t            this._addMessage(msg, 'info', keepAfterLocationChange);\n\t        }\n\t    }, {\n\t        key: '_addMessage',\n\t        value: function _addMessage(msg, type, keepAfterLocationChange) {\n\t            var translatedMsg = this.$translate.instant(msg);\n\t            if (!this._hasMessage(translatedMsg, type)) {\n\t                this.$rootScope.messages.push({\n\t                    message: translatedMsg,\n\t                    type: type,\n\t                    keepAfterLocationChange: keepAfterLocationChange\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: '_hasMessage',\n\t        value: function _hasMessage(msg, type) {\n\t            var hasMessage = false;\n\t            for (var i = 0; i < this.$rootScope.messages.length; i++) {\n\t                if (this.$rootScope.messages[i].message === msg && this.$rootScope.messages[i].type === type) {\n\t                    hasMessage = true;\n\t                    break;\n\t                }\n\t            }\n\t            return hasMessage;\n\t        }\n\t    }]);\n\n\t    return MessagesService;\n\t})();\n\n\texports['default'] = MessagesService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div ng-repeat=\\\"msg in $ctrl.messages\\\">\\n    <div class=\\\"alert alert-{{ msg.type === 'error' ? 'danger' : msg.type }}\\\">\\n        {{ msg.message }}\\n        <a class=\\\"close\\\" ng-click=\\\"$ctrl.removeMessage($index)\\\">&times;</a>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar MessagesController = (function () {\n\t    /*@ngInject*/\n\n\t    MessagesController.$inject = [\"messagesService\", \"$rootScope\"];\n\t    function MessagesController(messagesService, $rootScope) {\n\t        var _this = this;\n\n\t        _classCallCheck(this, MessagesController);\n\n\t        this.messagesService = messagesService;\n\n\t        $rootScope.$on('$locationChangeStart', function () {\n\t            return _this.messagesService.clearMessages();\n\t        });\n\n\t        this.messages = messagesService.getMessages();\n\t    }\n\n\t    _createClass(MessagesController, [{\n\t        key: 'removeMessage',\n\t        value: function removeMessage(index) {\n\t            this.messagesService.removeMessage(index);\n\t        }\n\t    }]);\n\n\t    return MessagesController;\n\t})();\n\n\texports['default'] = MessagesController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Definition der Navbar-Komponente\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 23.10.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _navbarHtml = __webpack_require__(20);\n\n\tvar _navbarHtml2 = _interopRequireDefault(_navbarHtml);\n\n\tvar _navbarController = __webpack_require__(21);\n\n\tvar _navbarController2 = _interopRequireDefault(_navbarController);\n\n\tvar navbarModule = _angular2['default'].module('app.components.gui.components.navbar', [_angularUiRouter2['default']]).component('navbar', { template: _navbarHtml2['default'], controller: _navbarController2['default'] });\n\n\texports['default'] = navbarModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\" role=\\\"navigation\\\">\\n    <div class=\\\"container-fluid\\\">\\n        <div class=\\\"navbar-header\\\">\\n            <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" data-toggle=\\\"collapse\\\"\\n                    data-target=\\\"#navbar-collapse-1\\\" aria-expanded=\\\"false\\\"\\n                    ng-click=\\\"$ctrl.navCollapsed = !$ctrl.navCollapsed\\\">\\n                <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                <span class=\\\"icon-bar\\\"></span>\\n                <span class=\\\"icon-bar\\\"></span>\\n                <span class=\\\"icon-bar\\\"></span>\\n            </button>\\n        </div>\\n        <div uib-collapse=\\\"$ctrl.navCollapsed\\\" class=\\\"collapse navbar-collapse\\\" id=\\\"navbar-collapse-1\\\">\\n            <ul class=\\\"nav navbar-nav navbar-left\\\">\\n                <li><a ui-sref=\\\"gamesList\\\">{{ 'Games' | translate }}</a></li>\\n                <li><a ui-sref=\\\"adventuresList\\\">{{ 'Adventures' | translate }}</a></li>\\n                <li><a ui-sref=\\\"librariesList\\\">{{ 'Libraries' | translate }}</a></li>\\n                <li ng-if=\\\"$ctrl.admin\\\"><a ui-sref=\\\"administration\\\">{{ 'Administration' | translate }}</a></li>\\n            </ul>\\n            <ul class=\\\"nav navbar-nav navbar-right\\\">\\n                <li>\\n                    <a ui-sref=\\\"about\\\"\\n                       class=\\\"glyphicon glyphicon-info-sign\\\"\\n                       aria-label=\\\"{{ 'About' | translate}}\\\"\\n                       title=\\\"{{ 'About' | translate}}\\\">\\n                    </a>\\n                </li>\\n            </ul>\\n            <p class=\\\"navbar-text navbar-right\\\">\\n                <a ng-repeat=\\\"language in $ctrl.supportedLanguages\\\"\\n                   href ng-click=\\\"$ctrl.changeLanguage(language.code)\\\"\\n                   ng-show=\\\"$ctrl.language !== language.code\\\"\\n                   aria-label=\\\"{{ 'Change language to ' + language.code | translate}}\\\"\\n                   title=\\\"{{ 'Change language to ' + language.code | translate}}\\\">\\n                    {{ language.code }}\\n                </a>\\n            </p>\\n        </div>\\n    </div>\\n</nav>\"\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2016.\n\t */\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar NavbarController = (function () {\n\t    /*@ngInject*/\n\n\t    NavbarController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$location\", \"languagePickerService\"];\n\t    function NavbarController(preScreenLoadingInterceptorsCallerService, $location, languagePickerService) {\n\t        _classCallCheck(this, NavbarController);\n\n\t        this.languagePickerService = languagePickerService;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        var params = $location.search();\n\t        if (!!params.admin) {\n\t            this.admin = true;\n\t        }\n\t        this.navCollapsed = true;\n\t        this.initData();\n\t    }\n\n\t    _createClass(NavbarController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n\t            this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n\t        }\n\t    }, {\n\t        key: \"changeLanguage\",\n\t        value: function changeLanguage(selectedLanguage) {\n\t            this.language = selectedLanguage;\n\t            this.languagePickerService.changeLanguage(selectedLanguage);\n\t        }\n\t    }]);\n\n\t    return NavbarController;\n\t})();\n\n\texports[\"default\"] = NavbarController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _languagePickerHtml = __webpack_require__(23);\n\n\tvar _languagePickerHtml2 = _interopRequireDefault(_languagePickerHtml);\n\n\tvar _languagePickerController = __webpack_require__(24);\n\n\tvar _languagePickerController2 = _interopRequireDefault(_languagePickerController);\n\n\tvar _languagePickerService = __webpack_require__(25);\n\n\tvar _languagePickerService2 = _interopRequireDefault(_languagePickerService);\n\n\tvar languagePickerModule = _angular2['default'].module('app.components.gui.components.language-picker', []).component('languagePicker', { template: _languagePickerHtml2['default'], controller: _languagePickerController2['default'] }).service('languagePickerService', _languagePickerService2['default']);\n\n\texports['default'] = languagePickerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"col-md-12\\\">\\n    <form>\\n        <div>\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"language\\\">{{ 'Choose language' | translate }}</label>\\n                <ul class=\\\"nav nav-pills\\\" role=\\\"tablist\\\" id=\\\"language\\\">\\n                    <li ng-repeat=\\\"language in $ctrl.supportedLanguages\\\" role=\\\"button\\\" ng-class=\\\"{ 'active' : language.selected }\\\" title=\\\"{{ 'Choice' | translate }} {{ language.code | translate }}\\\">\\n                        <a href=\\\"\\\" ng-click=\\\"$ctrl.changeLanguage(language.code)\\\">{{ language.code | translate }}</a></li>\\n                </ul>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\"\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar LanguagePickerController = (function () {\n\t    /*@ngInject*/\n\n\t    LanguagePickerController.$inject = [\"languagePickerService\"];\n\t    function LanguagePickerController(languagePickerService) {\n\t        _classCallCheck(this, LanguagePickerController);\n\n\t        this.languagePickerService = languagePickerService;\n\t        this.initData();\n\t    }\n\n\t    _createClass(LanguagePickerController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n\t            this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n\t        }\n\t    }, {\n\t        key: \"changeLanguage\",\n\t        value: function changeLanguage(selectedLanguage) {\n\t            this.languagePickerService.changeLanguage(selectedLanguage);\n\t        }\n\t    }]);\n\n\t    return LanguagePickerController;\n\t})();\n\n\texports[\"default\"] = LanguagePickerController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar LanguagePickerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    LanguagePickerService.$inject = [\"gamePersistenceService\", \"$translate\", \"constants\"];\n\t    function LanguagePickerService(gamePersistenceService, $translate, constants) {\n\t        _classCallCheck(this, LanguagePickerService);\n\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.$translate = $translate;\n\t        this.constants = constants;\n\t        this.supportedLanguages = this.initSupportedLanguages();\n\t    }\n\n\t    _createClass(LanguagePickerService, [{\n\t        key: \"initSupportedLanguages\",\n\t        value: function initSupportedLanguages() {\n\t            var supportedLanguages = [];\n\t            for (var i = 0; i < this.constants.supportedLanguages.length; i++) {\n\t                supportedLanguages.push({\n\t                    code: this.constants.supportedLanguages[i]\n\t                });\n\t            }\n\t            return supportedLanguages;\n\t        }\n\t    }, {\n\t        key: \"getSupportedLanguages\",\n\t        value: function getSupportedLanguages() {\n\t            return this.supportedLanguages;\n\t        }\n\t    }, {\n\t        key: \"getSelectedLanguage\",\n\t        value: function getSelectedLanguage() {\n\t            var selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n\t            if (!!selectedLanguage) {\n\t                return selectedLanguage;\n\t            } else if (!!navigator.language) {\n\t                var i = undefined;\n\t                for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n\t                    if (this.constants.supportedLanguages[i] === navigator.language) {\n\t                        return this.constants.supportedLanguages[i];\n\t                    }\n\t                }\n\n\t                for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n\t                    if (navigator.language.startsWith(this.constants.supportedLanguages[i])) {\n\t                        return this.constants.supportedLanguages[i];\n\t                    }\n\t                }\n\t            }\n\t            return this.constants.supportedLanguages[0];\n\t        }\n\t    }, {\n\t        key: \"changeLanguage\",\n\t        value: function changeLanguage(selectedLanguage) {\n\t            this.$translate.use(selectedLanguage);\n\t            this.gamePersistenceService.setSelectedLanguage(selectedLanguage);\n\t            for (var i = 0; i < this.supportedLanguages.length; i++) {\n\t                this.supportedLanguages[i].selected = this.supportedLanguages[i].code === selectedLanguage;\n\t            }\n\t        }\n\t    }]);\n\n\t    return LanguagePickerService;\n\t})();\n\n\texports[\"default\"] = LanguagePickerService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _popupHtml = __webpack_require__(27);\n\n\tvar _popupHtml2 = _interopRequireDefault(_popupHtml);\n\n\tvar _popupController = __webpack_require__(28);\n\n\tvar _popupController2 = _interopRequireDefault(_popupController);\n\n\tvar _popupService = __webpack_require__(29);\n\n\tvar _popupService2 = _interopRequireDefault(_popupService);\n\n\tvar popupModule = _angular2['default'].module('app.components.gui.components.popup', []).component('popup', {\n\t    template: _popupHtml2['default'],\n\t    controller: _popupController2['default'],\n\t    bindings: {\n\t        config: '@'\n\t    }\n\t}).service('popupService', _popupService2['default']);\n\n\texports['default'] = popupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <span class=\\\"close glyphicon glyphicon-remove-circle\\\" ng-click=\\\"$ctrl.close()\\\" ng-show=\\\"$ctrl.cfg.withCloseButton\\\"></span>\\n        <p>{{ $ctrl.cfg.text | translate }}</p>\\n        <span ng-repeat=\\\"choice in $ctrl.cfg.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PopupController = (function () {\n\t    /*@ngInject*/\n\n\t    PopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\"];\n\t    function PopupController(preScreenLoadingInterceptorsCallerService, popupService) {\n\t        _classCallCheck(this, PopupController);\n\n\t        this.cfg = JSON.parse(this.config);\n\t        this.popupService = popupService;\n\t        if (this.cfg.closeOnClickOutsideModal) {\n\t            this.close();\n\t        }\n\t    }\n\n\t    _createClass(PopupController, [{\n\t        key: \"select\",\n\t        value: function select(choice) {\n\t            this.close(choice);\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(choice) {\n\t            this.popupService.close(this.cfg.id, choice);\n\t        }\n\t    }]);\n\n\t    return PopupController;\n\t})();\n\n\texports[\"default\"] = PopupController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    function PopupService() {\n\t        _classCallCheck(this, PopupService);\n\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(PopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback) {\n\t                callback(popupDomElementId, choice);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return PopupService;\n\t})();\n\n\texports[\"default\"] = PopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _itemsHtml = __webpack_require__(31);\n\n\tvar _itemsHtml2 = _interopRequireDefault(_itemsHtml);\n\n\tvar _itemsController = __webpack_require__(32);\n\n\tvar _itemsController2 = _interopRequireDefault(_itemsController);\n\n\tvar itemsModule = _angular2['default'].module('app.components.gui.screen.items', []).component('items', {\n\t    template: _itemsHtml2['default'],\n\t    controller: _itemsController2['default'],\n\t    bindings: {\n\t        gameId: '@?',\n\t        items: '='\n\t    }\n\t});\n\n\texports['default'] = itemsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"itemsTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Quantity' | translate }}</th>\\n            <th>{{ 'Item' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\"\\n                        class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add item' | translate}}\\\"\\n                        title=\\\"{{ 'Add item' | translate}}\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.quantity }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"quantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.quantity\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.quantity\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the quantity' | translate }}\\n                </div>\\n            </td>\\n\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.description }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"description\\\" type=\\\"text\\\" class=\\\"form-control description\\\" ng-model=\\\"row.description\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.description\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the description' | translate }}\\n                </div>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                        aria-label=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.saveRowChanges(notesTableForm.$invalid)\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteItemConfig }}\\\"></popup>\\n\"\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ItemsController = (function () {\n\t    /*@ngInject*/\n\n\t    ItemsController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\", \"constants\", \"gamePersistenceService\"];\n\t    function ItemsController(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService) {\n\t        _classCallCheck(this, ItemsController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.rows = this.items;\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.gamePersistenceService = gamePersistenceService;\n\n\t        this.popupDeleteItemConfig = {\n\t            id: 'popupDeleteItem',\n\t            text: 'Are you sure to remove the item?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\t    }\n\n\t    _createClass(ItemsController, [{\n\t        key: 'addRow',\n\t        value: function addRow() {\n\t            var row = { quantity: 1 };\n\t            this.rows.push(row);\n\t            this.addedRow = row;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteItemConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.rows.indexOf(removedRow);\n\t            this.rows.splice(index, 1);\n\t            this.clearEditedRow();\n\t            this.saveInPersistence();\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = { quantity: row.quantity, description: row.description };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid) {\n\t            if ($invalid) {\n\t                return;\n\t            }\n\t            this.clearEditedRow();\n\t            this.saveInPersistence();\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.quantity = this.originalRow.quantity;\n\t                this.editedRow.description = this.originalRow.description;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }, {\n\t        key: 'saveInPersistence',\n\t        value: function saveInPersistence() {\n\t            if (!!this.gameId) {\n\t                var updatedGame = this.gamePersistenceService.getGame(this.gameId);\n\t                updatedGame.items = this.items;\n\t                this.gamePersistenceService.updateGame(updatedGame);\n\t            }\n\t        }\n\t    }]);\n\n\t    return ItemsController;\n\t})();\n\n\texports['default'] = ItemsController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _statsHtml = __webpack_require__(34);\n\n\tvar _statsHtml2 = _interopRequireDefault(_statsHtml);\n\n\tvar _statsController = __webpack_require__(35);\n\n\tvar _statsController2 = _interopRequireDefault(_statsController);\n\n\tvar statsModule = _angular2['default'].module('app.components.gui.screen.stats', []).component('stats', {\n\t    template: _statsHtml2['default'],\n\t    controller: _statsController2['default'],\n\t    bindings: {\n\t        gameId: '@',\n\t        stats: '='\n\t    }\n\t});\n\n\texports['default'] = statsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<table class=\\\"table\\\">\\n    <col style=\\\"width:10%\\\">\\n    <col style=\\\"width:20%\\\">\\n    <col style=\\\"width:10%\\\">\\n    <col style=\\\"width:70%\\\">\\n    <col style=\\\"width:5%\\\">\\n    <col style=\\\"width:5%\\\">\\n    <thead>\\n    <tr>\\n        <th>{{ 'Stats' | translate }}</th>\\n        <th>{{ 'Current' | translate }}</th>\\n        <th>{{ 'Initial' | translate }}</th>\\n        <th></th>\\n        <th></th>\\n        <th></th>\\n    </tr>\\n    </thead>\\n    <tbody>\\n    <tr ng-repeat=\\\"row in $ctrl.stats\\\">\\n        <td>{{ row.name }}</td>\\n        <td>{{ row.current }}</td>\\n        <td>{{ row.initial }}</td>\\n        <td></td>\\n        <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" aria-label=\\\"{{ 'Increment' | translate }} {{ row.name | translate }}\\\" title=\\\"{{ 'Increment' | translate }} {{ row.name | translate }}\\\" ng-click=\\\"$ctrl.increment(row)\\\">\\n                <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n        </td>\\n        <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" aria-label=\\\"{{ 'Decrement' | translate }} {{ row.name | translate }}\\\" title=\\\"{{ 'Decrement' | translate }} {{ row.name | translate }}\\\" ng-click=\\\"$ctrl.decrement(row)\\\">\\n                <span class=\\\"glyphicon glyphicon-minus\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n        </td>\\n    </tr>\\n    </tbody>\\n</table>\\n\"\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar StatsController = (function () {\n\t    /*@ngInject*/\n\n\t    StatsController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"gamePersistenceService\"];\n\t    function StatsController(preScreenLoadingInterceptorsCallerService, gamePersistenceService) {\n\t        _classCallCheck(this, StatsController);\n\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t    }\n\n\t    _createClass(StatsController, [{\n\t        key: \"increment\",\n\t        value: function increment(row) {\n\t            row.current = row.current + 1;\n\t            this.save();\n\t        }\n\t    }, {\n\t        key: \"decrement\",\n\t        value: function decrement(row) {\n\t            row.current = row.current - 1;\n\t            this.save();\n\t        }\n\t    }, {\n\t        key: \"save\",\n\t        value: function save() {\n\t            var updatedGame = this.gamePersistenceService.getGame(this.gameId);\n\t            updatedGame.stats = this.stats;\n\t            this.gamePersistenceService.updateGame(updatedGame);\n\t        }\n\t    }]);\n\n\t    return StatsController;\n\t})();\n\n\texports[\"default\"] = StatsController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _paragraphHtml = __webpack_require__(37);\n\n\tvar _paragraphHtml2 = _interopRequireDefault(_paragraphHtml);\n\n\tvar _paragraphController = __webpack_require__(38);\n\n\tvar _paragraphController2 = _interopRequireDefault(_paragraphController);\n\n\tvar paragraphModule = _angular2['default'].module('app.components.gui.screen.paragraph', []).component('paragraph', {\n\t    template: _paragraphHtml2['default'],\n\t    controller: _paragraphController2['default'],\n\t    bindings: {\n\t        gameId: '@',\n\t        paragraph: '='\n\t    }\n\t});\n\n\texports['default'] = paragraphModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<table class=\\\"table table-borderless\\\">\\n    <col style=\\\"width:95%\\\">\\n    <col style=\\\"width:5%\\\">\\n    <thead>\\n    <tr>\\n        <th>{{ 'Description' | translate }}</th>\\n        <th>\\n        </th>\\n    </tr>\\n    </thead>\\n    <tbody>\\n    <tr>\\n        <td>\\n            <div contenteditable=\\\"true\\\" id=\\\"inputCurrentDescription\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.paragraph.description\\\" ng-readonly=\\\"!$ctrl.isDescriptionEditable()\\\"></div>\\n        </td>\\n        <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                    aria-label=\\\"{{ 'Edit description' | translate}}\\\"\\n                    title=\\\"{{ 'Edit description' | translate}}\\\"\\n                    ng-click=\\\"$ctrl.editDescription()\\\"\\n                    ng-show=\\\"!$ctrl.isDescriptionEditable()\\\">\\n                <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                    aria-label=\\\"{{ 'Save description changes' | translate}}\\\"\\n                    title=\\\"{{ 'Save description changes' | translate}}\\\"\\n                    ng-click=\\\"$ctrl.saveDescriptionChanges()\\\"\\n                    ng-show=\\\"$ctrl.isDescriptionEditable()\\\">\\n                <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                    aria-label=\\\"{{ 'Abort description changes' | translate}}\\\"\\n                    title=\\\"{{ 'Abort description changes' | translate}}\\\"\\n                    ng-click=\\\"$ctrl.abortDescriptionChanges()\\\"\\n                    ng-show=\\\"$ctrl.isDescriptionEditable()\\\">\\n                <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n        </td>\\n    </tr>\\n    </tbody>\\n</table>\\n\\n<form name=\\\"choicesTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Choice' | translate }}</th>\\n            <th>{{ 'Description' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add choice' | translate}}\\\"\\n                        title=\\\"{{ 'Add choice' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n            <tr ng-repeat=\\\"row in $ctrl.paragraph.choices\\\">\\n                <td ng-if=\\\"!$ctrl.isRowEdited(row) && !$ctrl.hasEditedRow()\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                            aria-label=\\\"{{ 'Choice paragragh' | translate}} {{ row.paragraphNr }}\\\"\\n                            title=\\\"{{ 'Choice paragragh' | translate}} '{{ row.paragraphNr }}'\\\"\\n                            ng-click=\\\"$ctrl.goTo(row.paragraphNr)\\\">\\n                        <div ng-if=\\\"!!$ctrl.isAlreadyChoosen(row)\\\">{{ row.paragraphNr }}</div>\\n                        <div ng-if=\\\"!$ctrl.isAlreadyChoosen(row)\\\"><strong>{{ row.paragraphNr }}</strong></div>\\n                    </button>\\n                </td>\\n                <td ng-if=\\\"!$ctrl.isRowEdited(row) && $ctrl.hasEditedRow()\\\">\\n                    {{ row.paragraphNr }}\\n                </td>\\n                <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <input id=\\\"rowParagraphNr\\\" type=\\\"number\\\" required class=\\\"form-control\\\" ng-model=\\\"row.paragraphNr\\\">\\n                    <div class=\\\"error\\\" ng-show=\\\"choicesTableForm.$invalid\\\">\\n                        {{ 'Please fill the paragraph number' | translate }}\\n                    </div>\\n                </td>\\n\\n                <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                    {{ row.description }}\\n                </td>\\n                <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.description\\\">\\n                </td>\\n\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                            aria-label=\\\"{{ 'Save choice changes' | translate}}\\\"\\n                            title=\\\"{{ 'Save choice changes' | translate}}\\\"\\n                            ng-click=\\\"$ctrl.saveRowChanges(choicesTableForm.$invalid)\\\"\\n                            ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                        <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                </td>\\n\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                            aria-label=\\\"{{ 'Abort choice changes' | translate}}\\\"\\n                            title=\\\"{{ 'Abort choice changes' | translate}}\\\"\\n                            ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                            ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                        <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                </td>\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                            aria-label=\\\"{{ 'Edit choice' | translate}} {{ row.paragraphNr }}\\\"\\n                            title=\\\"{{ 'Edit choice' | translate}} '{{ row.paragraphNr }}'\\\"\\n                            ng-click=\\\"$ctrl.editRow(row)\\\"\\n                            ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                        <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                            aria-label=\\\"{{ 'Remove choice' | translate}} {{ row.paragraphNr }}\\\"\\n                            title=\\\"{{ 'Remove choice' | translate}} '{{ row.paragraphNr }}'\\\"\\n                            ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                            ng-disabled=\\\"$ctrl.addedRow\\\"\\n                            ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                        <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                            aria-label=\\\"{{ 'Go to paragraph' | translate}}\\\"\\n                            title=\\\"{{ 'Go to paragraph' | translate}}\\\"\\n                            ng-click=\\\"$ctrl.goTo($ctrl.paragraphNrChoice)\\\"\\n                            ng-disabled=\\\"!$ctrl.paragraphNrChoice\\\">\\n                        {{ 'Go to' | translate}}\\n                    </button>\\n                </td>\\n                <td>\\n                    <input id=\\\"goToParagraphNr\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.paragraphNrChoice\\\">\\n                </td>\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n            </tr>\\n\\n        </tbody>\\n    </table>\\n</form>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteChoiceConfig }}\\\"></popup>\"\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ParagraphController = (function () {\n\t    /*@ngInject*/\n\n\t    ParagraphController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"$location\"];\n\t    function ParagraphController(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService, $location) {\n\t        _classCallCheck(this, ParagraphController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$location = $location;\n\n\t        this.popupDeleteChoiceConfig = {\n\t            id: 'popupDeleteChoice',\n\t            text: 'Are you sure to remove the choice?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(ParagraphController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var game = this.gamePersistenceService.getGame(this.gameId);\n\t            this.adventureId = game.adventureId;\n\t            this.playerName = game.playerName;\n\t            this.descriptionEditable = false;\n\t            this.alreadyChoosen = this.gamePersistenceService.getChoosenChoices(this.gameId, this.paragraph.paragraphNr);\n\t        }\n\t    }, {\n\t        key: 'addRow',\n\t        value: function addRow() {\n\t            var row = { paragraphNr: this.inputParagraphNr, description: this.inputDescription };\n\t            this.paragraph.choices.push(row);\n\t            this.inputParagraphNr = '';\n\t            this.inputDescription = '';\n\t            this.addedRow = row;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteChoiceConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.paragraph.choices.indexOf(removedRow);\n\t            this.paragraph.choices.splice(index, 1);\n\t            this.clearEditedRow();\n\t            this.saveParagraphChoices();\n\t        }\n\t    }, {\n\t        key: 'editDescription',\n\t        value: function editDescription() {\n\t            this.descriptionEditable = true;\n\t            this.originalDescription = this.paragraph.description;\n\t        }\n\t    }, {\n\t        key: 'isDescriptionEditable',\n\t        value: function isDescriptionEditable() {\n\t            return this.descriptionEditable;\n\t        }\n\t    }, {\n\t        key: 'saveDescriptionChanges',\n\t        value: function saveDescriptionChanges() {\n\t            this.originalDescription = null;\n\t            this.descriptionEditable = false;\n\t            this.adventurePersistenceService.updateParagraph(this.bookId, this.paragraph);\n\t        }\n\t    }, {\n\t        key: 'abortDescriptionChanges',\n\t        value: function abortDescriptionChanges() {\n\t            this.paragraph.description = this.originalDescription;\n\t            this.originalDescription = null;\n\t            this.descriptionEditable = false;\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = { paragraphNr: row.paragraphNr, description: row.description };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid) {\n\t            if ($invalid) {\n\t                return;\n\t            }\n\t            this.clearEditedRow();\n\t            this.saveParagraphChoices();\n\t        }\n\t    }, {\n\t        key: 'saveParagraphChoices',\n\t        value: function saveParagraphChoices() {\n\t            this.adventurePersistenceService.updateParagraph(this.adventureId, this.paragraph);\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n\t                this.editedRow.description = this.originalRow.description;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }, {\n\t        key: 'goTo',\n\t        value: function goTo(paragraphNr) {\n\t            this.gamePersistenceService.setCurrentParagraphNrOfGame(this.gameId, this.paragraph.paragraphNr, paragraphNr);\n\t            var nextUrl = this.gamePersistenceService.getUrlOfGame(this.gameId);\n\t            this.$location.url(nextUrl);\n\t        }\n\t    }, {\n\t        key: 'isAlreadyChoosen',\n\t        value: function isAlreadyChoosen(choice) {\n\t            return this.alreadyChoosen.indexOf(choice.paragraphNr) !== -1;\n\t        }\n\t    }]);\n\n\t    return ParagraphController;\n\t})();\n\n\texports['default'] = ParagraphController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _backButtonHtml = __webpack_require__(40);\n\n\tvar _backButtonHtml2 = _interopRequireDefault(_backButtonHtml);\n\n\tvar _backButtonController = __webpack_require__(41);\n\n\tvar _backButtonController2 = _interopRequireDefault(_backButtonController);\n\n\tvar backButtonModule = _angular2['default'].module('app.components.gui.components.back-button', []).component('backButton', { template: _backButtonHtml2['default'], controller: _backButtonController2['default'] });\n\n\texports['default'] = backButtonModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button type=\\\"button\\\"\\n        class=\\\"btn btn-default glyphicon glyphicon-circle-arrow-left\\\"\\n        aria-label=\\\"{{ 'Back' | translate }}\\\"\\n        title=\\\"{{ 'Back' | translate }}\\\"\\n        ng-click=\\\"$ctrl.back()\\\"\\n        ng-disabled=\\\"$ctrl.isBackDisabled()\\\">\\n    {{ 'Back' | translate }}\\n</button>\"\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar BackButtonController = (function () {\n\t    /*@ngInject*/\n\n\t    BackButtonController.$inject = [\"$window\"];\n\t    function BackButtonController($window) {\n\t        _classCallCheck(this, BackButtonController);\n\n\t        this.$window = $window;\n\t    }\n\n\t    _createClass(BackButtonController, [{\n\t        key: \"isBackDisabled\",\n\t        value: function isBackDisabled() {\n\t            return this.$window.history.length < 2;\n\t        }\n\t    }, {\n\t        key: \"back\",\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }]);\n\n\t    return BackButtonController;\n\t})();\n\n\texports[\"default\"] = BackButtonController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _endGamePopupHtml = __webpack_require__(43);\n\n\tvar _endGamePopupHtml2 = _interopRequireDefault(_endGamePopupHtml);\n\n\tvar _endGamePopupController = __webpack_require__(44);\n\n\tvar _endGamePopupController2 = _interopRequireDefault(_endGamePopupController);\n\n\tvar _endGamePopupService = __webpack_require__(45);\n\n\tvar _endGamePopupService2 = _interopRequireDefault(_endGamePopupService);\n\n\tvar endGamePopupModule = _angular2['default'].module('app.components.gui.components.end-game-popup', []).component('endGamePopup', {\n\t    template: _endGamePopupHtml2['default'],\n\t    controller: _endGamePopupController2['default'],\n\t    bindings: {\n\t        config: '@'\n\t    }\n\t}).service('endGamePopupService', _endGamePopupService2['default']);\n\n\texports['default'] = endGamePopupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 43 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <h1>{{ 'Are you sure to abandon this game?' | translate }}</h1>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"endGameReason\\\">{{ \\\"End game's reason\\\" | translate }}</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"endGameReason\\\" ng-model=\\\"$ctrl.endGameReason\\\">\\n        </div>\\n\\n        <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar EndGamePopupController = (function () {\n\t    /*@ngInject*/\n\n\t    EndGamePopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"endGamePopupService\", \"constants\"];\n\t    function EndGamePopupController(preScreenLoadingInterceptorsCallerService, endGamePopupService, constants) {\n\t        _classCallCheck(this, EndGamePopupController);\n\n\t        this.cfg = JSON.parse(this.config);\n\t        this.constants = constants;\n\t        this.endGamePopupService = endGamePopupService;\n\t        this.choices = [constants.choices.yes, constants.choices.no];\n\t    }\n\n\t    _createClass(EndGamePopupController, [{\n\t        key: \"select\",\n\t        value: function select(choice) {\n\t            this.close(choice);\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(choice) {\n\t            this.endGamePopupService.close(this.cfg.id, choice, this.endGameReason);\n\t        }\n\t    }]);\n\n\t    return EndGamePopupController;\n\t})();\n\n\texports[\"default\"] = EndGamePopupController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar EndGamePopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    EndGamePopupService.$inject = [\"constants\"];\n\t    function EndGamePopupService(constants) {\n\t        _classCallCheck(this, EndGamePopupService);\n\n\t        this.constants = constants;\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(EndGamePopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice, endGameReason) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback && choice === this.constants.choices.yes) {\n\t                callback(popupDomElementId, endGameReason);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return EndGamePopupService;\n\t})();\n\n\texports[\"default\"] = EndGamePopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _exportDataPopupHtml = __webpack_require__(47);\n\n\tvar _exportDataPopupHtml2 = _interopRequireDefault(_exportDataPopupHtml);\n\n\tvar _exportDataPopupController = __webpack_require__(48);\n\n\tvar _exportDataPopupController2 = _interopRequireDefault(_exportDataPopupController);\n\n\tvar _exportDataPopupService = __webpack_require__(49);\n\n\tvar _exportDataPopupService2 = _interopRequireDefault(_exportDataPopupService);\n\n\tvar exportDataPopupModule = _angular2['default'].module('app.components.gui.components.export-data-popup', []).component('exportDataPopup', {\n\t    template: _exportDataPopupHtml2['default'],\n\t    controller: _exportDataPopupController2['default'],\n\t    bindings: {\n\t        config: '<'\n\t    }\n\t}).service('exportDataPopupService', _exportDataPopupService2['default']).constant('exportMethods', { file: 'file', text: 'text', email: 'email' });\n\n\texports['default'] = exportDataPopupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 47 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"exportDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.exportTitle}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"exportMethod\\\">{{ 'Select the export method' | translate }}</label>\\n                <select id=\\\"exportMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.exportMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'export_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportText()\\\">\\n                <label for=\\\"exportText\\\">{{ \\\"Export text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"exportText\\\" rows=\\\"4\\\"ng-model=\\\"$ctrl.config.exportData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportEmail()\\\">\\n                <label for=\\\"exportEmail\\\">{{ \\\"Receiver Email\\\" | translate }}</label>\\n                <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"exportEmail\\\" ng-model=\\\"$ctrl.exportEmail\\\" required>\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, exportDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n\\n            <a id=\\\"linkSendEmail\\\" ng-show=\\\"false\\\" href=\\\"mailto:{{$ctrl.exportEmail}}?subject={{$ctrl.config.exportTitle}}&body={{$ctrl.config.exportData}}\\\">{{ 'Sent' | translate }}</a>\\n            <a id=\\\"linkDownload\\\" ng-show=\\\"false\\\" ng-href=\\\"{{$ctrl.config.exportDownloadBlobUrl}}\\\" download=\\\"export.txt\\\">{{ 'Download' | translate }}</a>\\n        </div>\\n    </div>\\n</form>\"\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ExportDataPopupController = (function () {\n\t    /*@ngInject*/\n\n\t    ExportDataPopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"exportDataPopupService\", \"constants\", \"exportMethods\", \"$window\", \"formHelperService\"];\n\t    function ExportDataPopupController(preScreenLoadingInterceptorsCallerService, exportDataPopupService, constants, exportMethods, $window, formHelperService) {\n\t        _classCallCheck(this, ExportDataPopupController);\n\n\t        this.constants = constants;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.exportMethods = exportMethods;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\n\t        this.choices = [constants.choices.cancel, constants.choices.ok];\n\t        this.methods = [exportMethods.text, exportMethods.file, exportMethods.email];\n\t        this.exportMethod = exportMethods.text;\n\t    }\n\n\t    _createClass(ExportDataPopupController, [{\n\t        key: 'select',\n\t        value: function select(choice, form) {\n\t            this.formHelperService.setErrorFieldsAsDirty(form, false);\n\t            if (!form.$invalid) {\n\t                if (choice === this.constants.choices.ok) {\n\t                    if (this.displayExportEmail()) {\n\t                        var href = window.document.getElementById('linkSendEmail');\n\t                        window.document.getElementById('exportDataForm');\n\t                        href.click();\n\t                    } else if (this.displayDownload()) {\n\t                        var href = window.document.getElementById('linkDownload');\n\t                        href.click();\n\t                    }\n\t                }\n\t                this.close(choice);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close(choice) {\n\t            this.exportDataPopupService.close(this.config.id, choice);\n\t        }\n\t    }, {\n\t        key: 'displayExportText',\n\t        value: function displayExportText() {\n\t            return !!this.exportMethod && this.exportMethod === this.exportMethods.text;\n\t        }\n\t    }, {\n\t        key: 'displayDownload',\n\t        value: function displayDownload() {\n\t            return !!this.exportMethod && this.exportMethod === this.exportMethods.file;\n\t        }\n\t    }, {\n\t        key: 'displayExportEmail',\n\t        value: function displayExportEmail() {\n\t            return !!this.exportMethod && this.exportMethod === this.exportMethods.email;\n\t        }\n\t    }]);\n\n\t    return ExportDataPopupController;\n\t})();\n\n\texports['default'] = ExportDataPopupController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ExportDataPopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    ExportDataPopupService.$inject = [\"constants\", \"$window\"];\n\t    function ExportDataPopupService(constants, $window) {\n\t        _classCallCheck(this, ExportDataPopupService);\n\n\t        this.constants = constants;\n\t        this.$window = $window;\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(ExportDataPopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"createDownloadBlobUrl\",\n\t        value: function createDownloadBlobUrl(data) {\n\t            var blob = new Blob([data], { type: 'text/plain' });\n\t            var url = this.$window.URL || this.$window.webkitURL;\n\t            return url.createObjectURL(blob);\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice, endGameReason) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback && choice === this.constants.choices.ok) {\n\t                callback(popupDomElementId, choice);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return ExportDataPopupService;\n\t})();\n\n\texports[\"default\"] = ExportDataPopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _importDataPopupHtml = __webpack_require__(51);\n\n\tvar _importDataPopupHtml2 = _interopRequireDefault(_importDataPopupHtml);\n\n\tvar _importDataPopupController = __webpack_require__(52);\n\n\tvar _importDataPopupController2 = _interopRequireDefault(_importDataPopupController);\n\n\tvar _importDataPopupService = __webpack_require__(53);\n\n\tvar _importDataPopupService2 = _interopRequireDefault(_importDataPopupService);\n\n\tvar importDataPopupModule = _angular2['default'].module('app.components.gui.components.import-data-popup', []).component('importDataPopup', {\n\t    template: _importDataPopupHtml2['default'],\n\t    controller: _importDataPopupController2['default'],\n\t    bindings: {\n\t        config: '<'\n\t    }\n\t}).service('importDataPopupService', _importDataPopupService2['default']).constant('importMethods', { file: 'file', text: 'text' });\n\n\texports['default'] = importDataPopupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 51 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"importDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.title}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"importMethod\\\">{{ 'Select the import method' | translate }}</label>\\n                <select id=\\\"importMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.importMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'import_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayImportText()\\\">\\n                <label for=\\\"importText\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"importText\\\" rows=\\\"4\\\" ng-model=\\\"$ctrl.importTextData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayUpload()\\\">\\n                <label for=\\\"importUpload\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <input id=\\\"importUpload\\\" type=\\\"file\\\" ng-model=\\\"$ctrl.uploadFile\\\" on-read-file=\\\"$ctrl.showContent($fileContent)\\\" />\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, importDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n        </div>\\n    </div>\\n</form>\"\n\n/***/ },\n/* 52 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ImportDataPopupController = (function () {\n\t    /*@ngInject*/\n\n\t    ImportDataPopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"importDataPopupService\", \"constants\", \"importMethods\", \"$window\", \"formHelperService\"];\n\t    function ImportDataPopupController(preScreenLoadingInterceptorsCallerService, importDataPopupService, constants, importMethods, $window, formHelperService) {\n\t        _classCallCheck(this, ImportDataPopupController);\n\n\t        this.constants = constants;\n\t        this.importDataPopupService = importDataPopupService;\n\t        this.importMethods = importMethods;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\n\t        this.choices = [constants.choices.cancel, constants.choices.ok];\n\t        this.methods = [importMethods.text, importMethods.file];\n\t        this.importMethod = importMethods.text;\n\t    }\n\n\t    _createClass(ImportDataPopupController, [{\n\t        key: \"select\",\n\t        value: function select(choice, form) {\n\t            if (choice === this.constants.choices.cancel) {\n\t                this.close(choice);\n\t            } else if (choice === this.constants.choices.ok) {\n\t                this.formHelperService.setErrorFieldsAsDirty(form, false);\n\t                if (!form.$invalid) {\n\t                    var importData = null;\n\t                    if (this.importMethod === this.importMethods.text) {\n\t                        importData = this.importTextData;\n\t                    } else if (this.importMethod === this.importMethods.file) {\n\t                        importData = this.importUploadData;\n\t                    }\n\t                    this.close(choice, importData);\n\t                    this.importTextData = null;\n\t                    this.importUploadData = null;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(choice, importData) {\n\t            this.importDataPopupService.close(this.config.id, choice, importData);\n\t        }\n\t    }, {\n\t        key: \"displayImportText\",\n\t        value: function displayImportText() {\n\t            return !!this.importMethod && this.importMethod === this.importMethods.text;\n\t        }\n\t    }, {\n\t        key: \"displayUpload\",\n\t        value: function displayUpload() {\n\t            return !!this.importMethod && this.importMethod === this.importMethods.file;\n\t        }\n\t    }, {\n\t        key: \"showContent\",\n\t        value: function showContent($fileContent) {\n\t            this.importUploadData = $fileContent;\n\t        }\n\t    }]);\n\n\t    return ImportDataPopupController;\n\t})();\n\n\texports[\"default\"] = ImportDataPopupController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ImportDataPopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    ImportDataPopupService.$inject = [\"constants\"];\n\t    function ImportDataPopupService(constants) {\n\t        _classCallCheck(this, ImportDataPopupService);\n\n\t        this.constants = constants;\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(ImportDataPopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice, data) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback && choice === this.constants.choices.ok) {\n\t                callback(popupDomElementId, data);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return ImportDataPopupService;\n\t})();\n\n\texports[\"default\"] = ImportDataPopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _homeHome = __webpack_require__(55);\n\n\tvar _homeHome2 = _interopRequireDefault(_homeHome);\n\n\tvar _gamesGames = __webpack_require__(58);\n\n\tvar _gamesGames2 = _interopRequireDefault(_gamesGames);\n\n\tvar _battleBattle = __webpack_require__(78);\n\n\tvar _battleBattle2 = _interopRequireDefault(_battleBattle);\n\n\tvar _administrationAdministration = __webpack_require__(81);\n\n\tvar _administrationAdministration2 = _interopRequireDefault(_administrationAdministration);\n\n\tvar _chooseLanguageChooseLanguage = __webpack_require__(84);\n\n\tvar _chooseLanguageChooseLanguage2 = _interopRequireDefault(_chooseLanguageChooseLanguage);\n\n\tvar _aboutAbout = __webpack_require__(87);\n\n\tvar _aboutAbout2 = _interopRequireDefault(_aboutAbout);\n\n\tvar _adventuresAdventures = __webpack_require__(90);\n\n\tvar _adventuresAdventures2 = _interopRequireDefault(_adventuresAdventures);\n\n\tvar _librariesLibraries = __webpack_require__(97);\n\n\tvar _librariesLibraries2 = _interopRequireDefault(_librariesLibraries);\n\n\tvar screensModule = _angular2['default'].module('app.components.gui.screens', [_homeHome2['default'].name, _gamesGames2['default'].name, _battleBattle2['default'].name, _administrationAdministration2['default'].name, _chooseLanguageChooseLanguage2['default'].name, _aboutAbout2['default'].name, _adventuresAdventures2['default'].name, _librariesLibraries2['default'].name]);\n\n\texports['default'] = screensModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _homeHtml = __webpack_require__(56);\n\n\tvar _homeHtml2 = _interopRequireDefault(_homeHtml);\n\n\tvar _homeController = __webpack_require__(57);\n\n\tvar _homeController2 = _interopRequireDefault(_homeController);\n\n\tvar homeModule = _angular2['default'].module('app.components.gui.screen.home', [_angularUiRouter2['default'], \"app.components.constants\"]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('home', {\n\t        url: constants.url.root, template: '<home></home>'\n\t    });\n\t}]).component('home', { template: _homeHtml2['default'], controller: _homeController2['default'] });\n\n\texports['default'] = homeModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n</main>\"\n\n/***/ },\n/* 57 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar HomeController =\n\n\t/*@ngInject*/\n\t[\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", function HomeController($location, preScreenLoadingInterceptorsCallerService, constants) {\n\t    _classCallCheck(this, HomeController);\n\n\t    preScreenLoadingInterceptorsCallerService.intercept();\n\t    $location.url(constants.url.games);\n\t}];\n\n\texports[\"default\"] = HomeController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _listGamesList = __webpack_require__(59);\n\n\tvar _listGamesList2 = _interopRequireDefault(_listGamesList);\n\n\tvar _detailGameDetail = __webpack_require__(62);\n\n\tvar _detailGameDetail2 = _interopRequireDefault(_detailGameDetail);\n\n\tvar _createCreateGameWizard = __webpack_require__(68);\n\n\tvar _createCreateGameWizard2 = _interopRequireDefault(_createCreateGameWizard);\n\n\tvar gamesModule = _angular2['default'].module('app.components.gui.screens.games', [_listGamesList2['default'].name, _detailGameDetail2['default'].name, _createCreateGameWizard2['default'].name]);\n\n\texports['default'] = gamesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _gamesListHtml = __webpack_require__(60);\n\n\tvar _gamesListHtml2 = _interopRequireDefault(_gamesListHtml);\n\n\tvar _gamesListController = __webpack_require__(61);\n\n\tvar _gamesListController2 = _interopRequireDefault(_gamesListController);\n\n\tvar gamesListModule = _angular2['default'].module('app.components.gui.screen.games.list', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('gamesList', {\n\t        url: constants.url.games, template: '<games-list></games-list>'\n\t    });\n\t}]).component('gamesList', { template: _gamesListHtml2['default'], controller: _gamesListController2['default'] });\n\n\texports['default'] = gamesListModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 60 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Games' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:25%\\\">\\n                    <col style=\\\"width:20% \\\">\\n                    <col style=\\\"width:15% \\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Adventure' | translate }}</th>\\n                        <th>{{ 'Serie' | translate }}</th>\\n                        <th>{{ 'Player' | translate }}</th>\\n                        <th>{{ 'State' | translate }}</th>\\n                        <th>{{ 'Paragraph' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td>{{ row.adventureName }}</td>\\n                        <td>{{ row.serie }}</td>\\n                        <td>{{ row.playerName }}</td>\\n                        <td>{{ (!!row.endGameReason ? 'game over' : 'in progress') | translate }}\\n                            {{ (!!row.endGameReason ? \\\": '\\\" + row.endGameReason + \\\"'\\\" : '' ) }}\\n                        </td>\\n                        <td>{{ row.currentParagraphNr }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventurekName, playerName: row.playerName}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-click=\\\"$ctrl.startNewGame()\\\"\\n                aria-label=\\\"{{ 'Start a new game' | translate }}\\\"\\n                title=\\\"{{ 'Start a new game' | translate }}\\\">{{ 'New game' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportGamePopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.continueGame()\\\"\\n                aria-label=\\\"{{ 'Continue the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Continue the selected game' | translate }}\\\">{{ 'Continue' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayRemoveGamePopup()\\\"\\n                aria-label=\\\"{{ 'Remove the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Remove the selected game' | translate }}\\\">{{ 'Remove' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayExportGamePopup()\\\"\\n                aria-label=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Export selected adventure' | translate }}\\\">{{ 'Export' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteGameConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportGameConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportGameConfig\\\"></import-data-popup>\\n\"\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar GamesListController = (function () {\n\t    /*@ngInject*/\n\n\t    GamesListController.$inject = [\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"messagesService\", \"$translate\", \"popupService\", \"exportDataPopupService\", \"importDataPopupService\"];\n\t    function GamesListController($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n\t        _classCallCheck(this, GamesListController);\n\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.popupService = popupService;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.importDataPopupService = importDataPopupService;\n\n\t        this.popupDeleteGameConfig = {\n\t            id: 'popupDeleteGame',\n\t            text: 'Are you sure to remove the selected game?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupExportGameConfig = { id: 'popupExportGame' };\n\t        this.popupImportGameConfig = { id: 'popupImportGame' };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(GamesListController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var gamePersistenceKeys = this.gamePersistenceService.getGamePersistenceKeys();\n\t            this.rows = [];\n\t            for (var i = 0; i < gamePersistenceKeys.length; i++) {\n\t                var game = this.gamePersistenceService.getGame(gamePersistenceKeys[i]);\n\t                this.rows.push(game);\n\t            }\n\n\t            this.completeAdventureData(this.rows);\n\t        }\n\t    }, {\n\t        key: 'completeAdventureData',\n\t        value: function completeAdventureData(games) {\n\t            for (var i = 0; i < games.length; i++) {\n\t                var adventure = this.adventurePersistenceService.getAdventure(games[i].adventureId);\n\t                if (!!adventure) {\n\t                    games[i].adventureName = adventure.name;\n\t                    games[i].serie = adventure.serie;\n\t                } else {\n\t                    this.messagesService.errorMessage(this.$translate.instant('Cannot find adventure') + \" '\" + games[i].adventureId + \"'\", false);\n\t                    games[i].adventureName = games[i].adventureId;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(row) {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                this.rows[i].selected = false;\n\t            }\n\t            row.selected = true;\n\t        }\n\t    }, {\n\t        key: 'startNewGame',\n\t        value: function startNewGame() {\n\t            var adventureKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n\t            if (!adventureKeys || adventureKeys.length === 0) {\n\t                this.messagesService.errorMessage('No adventure available', false);\n\t                return;\n\t            }\n\t            this.$location.url(this.constants.url.selectAdventureForNewGame);\n\t        }\n\t    }, {\n\t        key: 'continueGame',\n\t        value: function continueGame() {\n\t            var game = this.gamePersistenceService.getGame(this.getSelectedRow().id);\n\t            var adventure = this.adventurePersistenceService.getAdventure(game.adventureId);\n\t            if (!adventure) {\n\t                this.messagesService.errorMessage('The adventure is not available', false);\n\t            } else {\n\t                var nextUrl = this.gamePersistenceService.getUrlOfGame(this.getSelectedRow().id);\n\t                this.$location.url(nextUrl);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'displayRemoveGamePopup',\n\t        value: function displayRemoveGamePopup() {\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteGameConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.deleteGame();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'deleteGame',\n\t        value: function deleteGame() {\n\t            this.gamePersistenceService.deleteGame(this.getSelectedRow().id, true, true);\n\t            this.initData();\n\t        }\n\t    }, {\n\t        key: 'displayExportGamePopup',\n\t        value: function displayExportGamePopup() {\n\t            this.popupExportGameConfig.exportData = JSON.stringify(this.gamePersistenceService.getGame(this.getSelectedRow().id));\n\t            this.popupExportGameConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportGameConfig.exportData);\n\t            this.popupExportGameConfig.exportTitle = this.$translate.instant('ExportGame', { playerName: this.getSelectedRow().playerName, adventureName: this.getSelectedRow().adventureName });\n\t            this.exportDataPopupService.show(this.popupExportGameConfig.id);\n\t        }\n\t    }, {\n\t        key: 'displayImportGamePopup',\n\t        value: function displayImportGamePopup() {\n\t            var self = this;\n\t            this.popupImportGameConfig.title = this.$translate.instant('Import a game');\n\t            this.importDataPopupService.show(this.popupImportGameConfig.id, function (popupDomElementId, data) {\n\t                self.gamePersistenceService.importGame(data);\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'hasSelectedRow',\n\t        value: function hasSelectedRow() {\n\t            return !!this.getSelectedRow();\n\t        }\n\t    }, {\n\t        key: 'getSelectedRow',\n\t        value: function getSelectedRow() {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                if (!!this.rows[i].selected) {\n\t                    return this.rows[i];\n\t                }\n\t            }\n\t            return null;\n\t        }\n\t    }]);\n\n\t    return GamesListController;\n\t})();\n\n\texports['default'] = GamesListController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _notesNotes = __webpack_require__(63);\n\n\tvar _notesNotes2 = _interopRequireDefault(_notesNotes);\n\n\tvar _gameDetailHtml = __webpack_require__(66);\n\n\tvar _gameDetailHtml2 = _interopRequireDefault(_gameDetailHtml);\n\n\tvar _gameDetailController = __webpack_require__(67);\n\n\tvar _gameDetailController2 = _interopRequireDefault(_gameDetailController);\n\n\tvar gameDetailModule = _angular2['default'].module('app.components.gui.screen.games.detail', [_angularUiRouter2['default'], _notesNotes2['default'].name]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\t    $stateProvider.state('game-detail', {\n\t        url: constants.url.gameDetail, template: '<game-detail></game-detail>'\n\t    });\n\t}]).component('gameDetail', { template: _gameDetailHtml2['default'], controller: _gameDetailController2['default'] });\n\n\texports['default'] = gameDetailModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _notesHtml = __webpack_require__(64);\n\n\tvar _notesHtml2 = _interopRequireDefault(_notesHtml);\n\n\tvar _notesController = __webpack_require__(65);\n\n\tvar _notesController2 = _interopRequireDefault(_notesController);\n\n\tvar notesModule = _angular2['default'].module('app.components.gui.screen.games.detail.notes', []).component('notes', {\n\t    template: _notesHtml2['default'],\n\t    controller: _notesController2['default'],\n\t    bindings: {\n\t        gameId: '@',\n\t        paragraphNr: '@',\n\t        adventureId: '@'\n\t    }\n\t});\n\n\texports['default'] = notesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"notesTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Note' | translate }}</th>\\n            <th>{{ 'Paragraph' | translate }}</th>\\n            <th>{{ 'Player' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add note' | translate}}\\\"\\n                        title=\\\"{{ 'Add note' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr ng-repeat=\\\"row in $ctrl.notes track by $index\\\">\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.note }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.note\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"notesTableForm.$invalid\\\">\\n                    {{ 'Please fill the note' | translate }}\\n                </div>\\n            </td>\\n\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row) || !$ctrl.gameId || !row.playerName\\\">\\n                {{ row.paragraphNr }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row) && (!!$ctrl.gameId && !!row.playerName)\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.isParagraph\\\" name=\\\"isParagraph\\\" value=\\\"true\\\"><br>\\n            </td>\\n\\n            <td>\\n                {{ row.playerName }}\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                        aria-label=\\\"{{ 'Save note changes' | translate}}\\\"\\n                        title=\\\"{{ 'Save note changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.saveRowChanges(notesTableForm.$invalid, row)\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Abort note changes' | translate}}\\\"\\n                        title=\\\"{{ 'Abort note changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Edit note' | translate}} '{{ row.note | translate }}'\\\"\\n                        title=\\\"{{ 'Edit note' | translate}} '{{ row.note | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Remove note' | translate }} '{{ row.note | translate }}'\\\"\\n                        title=\\\"{{ 'Remove note' | translate }} '{{ row.note | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n<popup config=\\\"{{ $ctrl.popupDeleteNoteConfig }}\\\"></popup>\\n\"\n\n/***/ },\n/* 65 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar NotesController = (function () {\n\t    /*@ngInject*/\n\n\t    NotesController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\"];\n\t    function NotesController(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService) {\n\t        _classCallCheck(this, NotesController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\n\t        this.popupDeleteNoteConfig = {\n\t            id: 'popupDeleteNoteConfig',\n\t            text: 'Are you sure to remove the note?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(NotesController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var game = undefined;\n\t            if (!!this.gameId) {\n\t                game = this.gamePersistenceService.getGame(this.gameId);\n\t            }\n\n\t            this.notes = [];\n\t            var paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n\t            if (!!paragraph && !!paragraph.notes) {\n\t                for (var i = 0; i < paragraph.notes.length; i++) {\n\t                    this.notes.push(paragraph.notes[i]);\n\t                    paragraph.notes[i].paragraphNr = this.paragraphNr;\n\t                    paragraph.notes[i].isParagraph = !!paragraph.notes[i].paragraphNr;\n\t                    if (!paragraph.notes[i].playerName) {\n\t                        paragraph.notes[i].note = paragraph.notes[i].note;\n\t                    }\n\t                }\n\t            }\n\n\t            if (!!game) {\n\t                this.playerName = game.playerName;\n\t                if (!!game.notes) {\n\t                    this.notes = this.notes.concat(game.notes);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addRow',\n\t        value: function addRow(noteValue) {\n\t            var row = { note: noteValue, isParagraph: true, paragraphNr: this.paragraphNr, playerName: this.playerName };\n\t            this.notes.push(row);\n\t            this.addedRow = row;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteNoteConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.notes.indexOf(removedRow);\n\t            this.notes.splice(index, 1);\n\t            this.clearEditedRow();\n\t            this.saveNotes();\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = { note: row.note, paragraphNr: row.paragraphNr, playerName: row.playerName };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid, row) {\n\t            if ($invalid) {\n\t                return;\n\t            }\n\n\t            if (!!row.isParagraph) {\n\t                row.paragraphNr = Number(this.paragraphNr);\n\t            } else {\n\t                row.paragraphNr = undefined;\n\t            }\n\n\t            this.clearEditedRow();\n\t            this.saveNotes();\n\t        }\n\t    }, {\n\t        key: 'saveNotes',\n\t        value: function saveNotes() {\n\t            this.savePlayerNotes();\n\t            this.saveParagraphNotes();\n\t        }\n\t    }, {\n\t        key: 'savePlayerNotes',\n\t        value: function savePlayerNotes() {\n\t            if (!this.gameId) {\n\t                return;\n\t            }\n\n\t            var savedNotes = [];\n\t            for (var i = 0; i < this.notes.length; i++) {\n\t                if (!this.notes[i].paragraphNr) {\n\t                    savedNotes.push({ note: this.notes[i].note, playerName: this.notes[i].playerName });\n\t                }\n\t            }\n\t            var game = this.gamePersistenceService.getGame(this.gameId);\n\t            game.notes = savedNotes;\n\t            this.gamePersistenceService.updateGame(game);\n\t        }\n\t    }, {\n\t        key: 'saveParagraphNotes',\n\t        value: function saveParagraphNotes() {\n\t            var savedNotes = [];\n\t            for (var i = 0; i < this.notes.length; i++) {\n\t                if (!!this.notes[i].paragraphNr) {\n\t                    savedNotes.push({ note: this.notes[i].note, playerName: this.notes[i].playerName });\n\t                }\n\t            }\n\t            var paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n\t            paragraph.notes = savedNotes;\n\t            this.adventurePersistenceService.updateParagraph(this.adventureId, paragraph);\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.note = this.originalRow.note;\n\t                this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n\t                this.editedRow.playerName = this.originalRow.playerName;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }]);\n\n\t    return NotesController;\n\t})();\n\n\texports['default'] = NotesController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 66 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Paragraph' | translate }} {{ $ctrl.paragraph.paragraphNr }}</h1>\\n        </div>\\n\\n        <div id=\\\"paragraphEdit\\\">\\n            <paragraph paragraph=\\\"$ctrl.paragraph\\\" game-id=\\\"{{$ctrl.game.id}}\\\"></paragraph>\\n            <notes adventure-id=\\\"{{$ctrl.adventureId}}\\\" paragraph-nr=\\\"{{$ctrl.paragraph.paragraphNr}}\\\" game-id=\\\"{{$ctrl.game.id}}\\\"></notes>\\n        </div>\\n\\n        <div id=\\\"playerSheet\\\" ng-if=\\\"!!$ctrl.playerName\\\">\\n            <h2>{{ 'Player' | translate }} {{ $ctrl.playerName }}</h2>\\n            <stats game-id=\\\"{{$ctrl.game.id}}\\\" stats=\\\"$ctrl.stats\\\"></stats>\\n            <items game-id=\\\"{{$ctrl.game.id}}\\\" items=\\\"$ctrl.items\\\"></items>\\n            <dices></dices>\\n            <back-button></back-button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.startBattle()\\\">{{ 'Start Battle' | translate }}</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.displayAbandonGamePopup()\\\">{{ 'End Game' | translate }}</button>\\n        </div>\\n    </div>\\n\\n    <end-game-popup config=\\\"{{ $ctrl.popupAbandonGameConfig }}\\\"></end-game-popup>\\n</main>\"\n\n/***/ },\n/* 67 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar GameDetailController = (function () {\n\t    /*@ngInject*/\n\n\t    GameDetailController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$location\", \"constants\", \"endGamePopupService\", \"$stateParams\", \"gamePersistenceService\", \"adventurePersistenceService\", \"$translate\", \"messagesService\"];\n\t    function GameDetailController(preScreenLoadingInterceptorsCallerService, $location, constants, endGamePopupService, $stateParams, gamePersistenceService, adventurePersistenceService, $translate, messagesService) {\n\t        _classCallCheck(this, GameDetailController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.endGamePopupService = endGamePopupService;\n\t        this.$stateParams = $stateParams;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$translate = $translate;\n\t        this.messagesService = messagesService;\n\t        this.items = [];\n\t        this.stats = [];\n\n\t        this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.gameId));\n\t        this.playerName = this.game.playerName;\n\t        if (!!this.game.items) {\n\t            this.items = this.items.concat(this.game.items);\n\t        }\n\t        if (!!this.game.stats) {\n\t            this.stats = this.stats.concat(this.game.stats);\n\t        }\n\t        this.adventureId = this.$stateParams.adventureId;\n\t        this.paragraph = this.adventurePersistenceService.getOrCreateParagraph(this.adventureId, this.$stateParams.paragraphNr);\n\t        this.popupAbandonGameConfig = { id: 'popupAbandonGame' };\n\t        this.checkAvailableAdventure();\n\t    }\n\n\t    _createClass(GameDetailController, [{\n\t        key: 'checkAvailableAdventure',\n\t        value: function checkAvailableAdventure() {\n\t            var adventure = this.adventurePersistenceService.getAdventure(this.adventureId);\n\t            if (!adventure) {\n\t                this.messagesService.errorMessage('The adventure is not available', false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'startBattle',\n\t        value: function startBattle() {\n\t            this.$location.url(this.constants.url.battle + '/' + this.game.id);\n\t        }\n\t    }, {\n\t        key: 'displayAbandonGamePopup',\n\t        value: function displayAbandonGamePopup(removedRow) {\n\t            var self = this;\n\t            this.endGamePopupService.show(this.popupAbandonGameConfig.id, function (popupDomElementId, endGameReason) {\n\t                var updatedGame = self.gamePersistenceService.getGame(self.game.id);\n\t                updatedGame.endGameReason = endGameReason;\n\t                self.gamePersistenceService.updateGame(updatedGame);\n\t                self.$location.url(self.constants.url.games);\n\t            });\n\t        }\n\t    }]);\n\n\t    return GameDetailController;\n\t})();\n\n\texports['default'] = GameDetailController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _selectAdventureSelectAdventure = __webpack_require__(69);\n\n\tvar _selectAdventureSelectAdventure2 = _interopRequireDefault(_selectAdventureSelectAdventure);\n\n\tvar _createPlayerCreatePlayer = __webpack_require__(72);\n\n\tvar _createPlayerCreatePlayer2 = _interopRequireDefault(_createPlayerCreatePlayer);\n\n\tvar _chooseItemsChooseItems = __webpack_require__(75);\n\n\tvar _chooseItemsChooseItems2 = _interopRequireDefault(_chooseItemsChooseItems);\n\n\tvar createGameWizardModule = _angular2['default'].module('app.components.gui.screens.games.create', [_selectAdventureSelectAdventure2['default'].name, _createPlayerCreatePlayer2['default'].name, _chooseItemsChooseItems2['default'].name]);\n\n\texports['default'] = createGameWizardModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _selectAdventureHtml = __webpack_require__(70);\n\n\tvar _selectAdventureHtml2 = _interopRequireDefault(_selectAdventureHtml);\n\n\tvar _selectAdventureController = __webpack_require__(71);\n\n\tvar _selectAdventureController2 = _interopRequireDefault(_selectAdventureController);\n\n\tvar SelectAdventureModule = _angular2['default'].module('app.components.gui.screen.games.create.select-adventure', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('select-adventure', {\n\t        url: constants.url.selectAdventureForNewGame, template: '<select-adventure></select-adventure>'\n\t    });\n\t}]).component('selectAdventure', { template: _selectAdventureHtml2['default'], controller: _selectAdventureController2['default'] });\n\n\texports['default'] = SelectAdventureModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 70 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <form ng-submit=\\\"$ctrl.next()\\\">\\n            <div class=\\\"page-header\\\">\\n                <h1>{{ 'New game' | translate }}</h1>\\n            </div>\\n\\n            <ol class=\\\"breadcrumb\\\">\\n                <li class=\\\"active\\\">{{ 'Select Adventure' | translate }}</li>\\n                <li>{{ 'Create Player' | translate }}</li>\\n                <li>{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"selectedAdventure\\\">{{ 'Select an adventure' | translate }}</label>\\n                <select id=\\\"selectedAdventure\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.selectedAdventureId\\\">\\n                    <option ng-repeat=\\\"adventure in $ctrl.adventures\\\" value=\\\"{{ adventure.id }}\\\">{{ adventure.name }}</option>\\n                </select>\\n            </div>\\n\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.next()\\\">{{ 'Next' | translate }}</button>\\n        </form>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 71 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar SelectAdventureController = (function () {\n\t    /*@ngInject*/\n\n\t    SelectAdventureController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"constants\", \"$location\", \"$window\", \"adventurePersistenceService\", \"$timeout\"];\n\t    function SelectAdventureController(preScreenLoadingInterceptorsCallerService, constants, $location, $window, adventurePersistenceService, $timeout) {\n\t        _classCallCheck(this, SelectAdventureController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.$window = $window;\n\t        this.constants = constants;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$timeout = $timeout;\n\t        this.initData();\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(SelectAdventureController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            var adventurePersistenceKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n\t            this.adventures = [];\n\t            for (var i = 0; i < adventurePersistenceKeys.length; i++) {\n\t                var adventure = this.adventurePersistenceService.getAdventure(adventurePersistenceKeys[i]);\n\t                this.adventures.push(adventure);\n\t            }\n\t            this.selectedAdventureId = this.adventures[0].id;\n\t        }\n\t    }, {\n\t        key: \"setInitialFocus\",\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = that.$window.document.getElementById(\"selectedAdventure\");\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: \"back\",\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }, {\n\t        key: \"next\",\n\t        value: function next() {\n\t            this.$location.url(this.constants.url.createPlayerForNewGame + \"?adventureId=\" + encodeURIComponent(this.selectedAdventureId));\n\t        }\n\t    }]);\n\n\t    return SelectAdventureController;\n\t})();\n\n\texports[\"default\"] = SelectAdventureController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _createPlayerHtml = __webpack_require__(73);\n\n\tvar _createPlayerHtml2 = _interopRequireDefault(_createPlayerHtml);\n\n\tvar _createPlayerController = __webpack_require__(74);\n\n\tvar _createPlayerController2 = _interopRequireDefault(_createPlayerController);\n\n\tvar CreatePlayerModule = _angular2['default'].module('app.components.gui.screen.games.create.create-player', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('create-player', {\n\t        url: constants.url.createPlayerForNewGame + \"?adventureId\", template: '<create-player></create-player>'\n\t    });\n\t}]).component('createPlayer', { template: _createPlayerHtml2['default'], controller: _createPlayerController2['default'] });\n\n\texports['default'] = CreatePlayerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 73 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'New game' | translate }}</h1>\\n        </div>\\n\\n        <!-- novalidate=\\\"novalidate\\\" allow to do not display untranslated tooltip \\\"Fill out this field\\\" -->\\n        <form name=\\\"playerForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.next(playerForm.$invalid)\\\">\\n            <ol class=\\\"breadcrumb\\\">\\n                <li>{{ 'Select Adventure' | translate }}</li>\\n                <li class=\\\"active\\\">{{ 'Create Player' | translate }}</li>\\n                <li>{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"playerName\\\">{{ 'PlayerName' | translate }}*</label>\\n                <input type=\\\"text\\\" required class=\\\"form-control\\\" id=\\\"playerName\\\" ng-model=\\\"$ctrl.playerName\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"playerForm.$invalid\\\">\\n                    {{ 'Please fill the player name' | translate }}\\n                </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                <label for=\\\"{{ stats.name }}\\\">{{ stats.name }}</label>\\n                <input type=\\\"text\\\" disabled required class=\\\"form-control\\\" id=\\\"{{ stats.name }}\\\" ng-model=\\\"stats.value\\\">\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.generateStats()\\\">{{ 'Random Stats' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.next(playerForm.$invalid)\\\">{{ 'Next' | translate }}</button>\\n            </div>\\n        </form>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 74 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar CreatePlayerController = (function () {\n\t    /*@ngInject*/\n\n\t    CreatePlayerController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$stateParams\", \"$window\", \"$location\", \"constants\", \"dicesService\", \"adventurePersistenceService\", \"$timeout\"];\n\t    function CreatePlayerController(preScreenLoadingInterceptorsCallerService, $stateParams, $window, $location, constants, dicesService, adventurePersistenceService, $timeout) {\n\t        _classCallCheck(this, CreatePlayerController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.constants = constants;\n\t        this.$window = $window;\n\t        this.$location = $location;\n\t        this.dicesService = dicesService;\n\t        this.$timeout = $timeout;\n\t        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n\t        this.loadData(this.adventure);\n\t        this.generateStats();\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(CreatePlayerController, [{\n\t        key: \"loadData\",\n\t        value: function loadData(adventure) {\n\t            var _this = this;\n\n\t            this.stats = [];\n\t            var self = this;\n\n\t            var _loop = function (i) {\n\t                var currentStats = adventure.stats[i];\n\t                _this.stats.push({ name: currentStats.name,\n\t                    generate: function generate() {\n\t                        return currentStats.init.constant + self.dicesService.rollDices(currentStats.init.sixDiceQuantity, 6);\n\t                    }\n\t                });\n\t            };\n\n\t            for (var i = 0; i < adventure.stats.length; i++) {\n\t                _loop(i);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"generateStats\",\n\t        value: function generateStats() {\n\t            for (var i = 0; i < this.stats.length; i++) {\n\t                var stats = this.stats[i];\n\t                stats.value = stats.generate();\n\t            }\n\t        }\n\t    }, {\n\t        key: \"setInitialFocus\",\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = that.$window.document.getElementById(\"playerName\");\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: \"back\",\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }, {\n\t        key: \"next\",\n\t        value: function next(invalid) {\n\t            if (!!invalid) {\n\t                return;\n\t            }\n\n\t            var nextUrl = this.constants.url.chooseItemsForNewGame + \"?adventureId=\" + encodeURIComponent(this.adventure.id) + \"&playerName=\" + encodeURIComponent(this.playerName);\n\n\t            var statsParam = '';\n\n\t            for (var i = 0; i < this.stats.length; i++) {\n\t                var stats = this.stats[i];\n\t                statsParam = statsParam + encodeURIComponent(stats.name) + encodeURIComponent(stats.value) + ',';\n\t            }\n\n\t            nextUrl = nextUrl + \"&stats=\" + statsParam;\n\t            this.$location.url(nextUrl);\n\t        }\n\t    }]);\n\n\t    return CreatePlayerController;\n\t})();\n\n\texports[\"default\"] = CreatePlayerController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _chooseItemsHtml = __webpack_require__(76);\n\n\tvar _chooseItemsHtml2 = _interopRequireDefault(_chooseItemsHtml);\n\n\tvar _chooseItemsController = __webpack_require__(77);\n\n\tvar _chooseItemsController2 = _interopRequireDefault(_chooseItemsController);\n\n\tvar ChooseItemsModule = _angular2['default'].module('app.components.gui.screen.games.create.choose-items', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('choose-items', {\n\t        url: constants.url.chooseItemsForNewGame + \"?adventureId&playerName&stats\", template: '<choose-items></choose-items>'\n\t    });\n\t}]).component('chooseItems', { template: _chooseItemsHtml2['default'], controller: _chooseItemsController2['default'] });\n\n\texports['default'] = ChooseItemsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 76 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <form ng-submit=\\\"$ctrl.startGame()\\\">\\n            <div class=\\\"page-header\\\">\\n                <h1>{{ 'New game' | translate }}</h1>\\n            </div>\\n\\n            <ol class=\\\"breadcrumb\\\">\\n                <li>{{ 'Select Adventure' | translate }}</li>\\n                <li>{{ 'Create Player' | translate }}</li>\\n                <li class=\\\"active\\\">{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <messages></messages>\\n\\n            <items ng-if=\\\"$ctrl.isItemsDisplayed()\\\" items=\\\"$ctrl.getItems()\\\"></items>\\n\\n            <div class=\\\"spacer\\\"></div>\\n\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.startGame()\\\">{{ 'Start Game' | translate }}</button>\\n        </form>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 77 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ChooseItemsController = (function () {\n\t    /*@ngInject*/\n\n\t    ChooseItemsController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$stateParams\", \"messagesService\", \"$window\", \"$location\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\"];\n\t    function ChooseItemsController(preScreenLoadingInterceptorsCallerService, $stateParams, messagesService, $window, $location, constants, gamePersistenceService, adventurePersistenceService) {\n\t        _classCallCheck(this, ChooseItemsController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.messagesService = messagesService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.$window = $window;\n\t        this.$stateParams = $stateParams;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\n\t        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n\t        this.playerItems = this.adventure.items;\n\t        for (var i = 0; i < this.playerItems.length; i++) {\n\t            this.playerItems[i].description = this.playerItems[i].description;\n\t        }\n\t        this.displayNotes();\n\t    }\n\n\t    _createClass(ChooseItemsController, [{\n\t        key: 'isItemsDisplayed',\n\t        value: function isItemsDisplayed() {\n\t            return !!this.adventure.items && this.adventure.items.length > 0;\n\t        }\n\t    }, {\n\t        key: 'displayNotes',\n\t        value: function displayNotes() {\n\t            if (!!this.adventure.startGameNote) {\n\t                this.messagesService.infoMessage(this.adventure.startGameNote, false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getItems',\n\t        value: function getItems() {\n\t            return this.playerItems;\n\t        }\n\t    }, {\n\t        key: 'startGame',\n\t        value: function startGame() {\n\t            var game = this.buildGame();\n\t            game = this.gamePersistenceService.addGame(game);\n\t            this.gamePersistenceService.setCurrentParagraphNrOfGame(game.id, null, this.adventure.startParagraphNr);\n\t            this.$location.url(this.gamePersistenceService.getUrlOfGame(game.id));\n\t        }\n\t    }, {\n\t        key: 'buildGame',\n\t        value: function buildGame() {\n\t            var game = {\n\t                playerName: this.$stateParams.playerName,\n\t                adventureId: this.adventure.id,\n\t                items: JSON.parse(JSON.stringify(this.playerItems))\n\t            };\n\t            game.stats = this.getStatsInUrlParam();\n\t            return game;\n\t        }\n\t    }, {\n\t        key: 'getStatsInUrlParam',\n\t        value: function getStatsInUrlParam() {\n\t            var statsParamValue = this.$stateParams['stats'];\n\t            var stats = [];\n\t            for (var i = 0; i < this.adventure.stats.length; i++) {\n\t                var currentStats = this.adventure.stats[i];\n\t                var startPos = statsParamValue.indexOf(currentStats.name);\n\t                startPos = startPos + currentStats.name.length;\n\t                var endPos = statsParamValue.indexOf(',', startPos);\n\t                var statsValue = statsParamValue.substring(startPos, endPos);\n\t                stats.push({\n\t                    name: currentStats.name,\n\t                    value: new Number(statsValue)\n\t                });\n\t            }\n\t            return stats;\n\t        }\n\t    }, {\n\t        key: 'back',\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }]);\n\n\t    return ChooseItemsController;\n\t})();\n\n\texports['default'] = ChooseItemsController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _battleHtml = __webpack_require__(79);\n\n\tvar _battleHtml2 = _interopRequireDefault(_battleHtml);\n\n\tvar _battleController = __webpack_require__(80);\n\n\tvar _battleController2 = _interopRequireDefault(_battleController);\n\n\tvar BattleModule = _angular2['default'].module('app.components.gui.screen.battle', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('battle', {\n\t        url: constants.url.battle + '/{game}', template: '<battle></battle>'\n\t    });\n\t}]).component('battle', { template: _battleHtml2['default'], controller: _battleController2['default'] });\n\n\texports['default'] = BattleModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 79 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Battle' | translate }}</h1>\\n        </div>\\n\\n        <form name=\\\"battleTableForm\\\" novalidate=\\\"novalidate\\\">\\n            <table class=\\\"table\\\">\\n                <col style=\\\"width:20%\\\">\\n                <col style=\\\"width:10%\\\" ng-repeat=\\\"row in $ctrl.stats\\\">\\n                <col style=\\\"width:{{ $ctrl.lastColumnSizeInPercent() }}%\\\">\\n                <col style=\\\"width:5%\\\">\\n                <thead>\\n                <tr>\\n                    <th></th>\\n                    <th ng-repeat=\\\"row in $ctrl.stats\\\">{{ row.name | translate }}</th>\\n                    <th></th>\\n                    <th>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                aria-label=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                title=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                ng-click=\\\"$ctrl.addEnemy()\\\">\\n                            <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </th>\\n                </tr>\\n                </thead>\\n                <tbody>\\n                <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                    <td ng-if=\\\"!$ctrl.isEnemy(row)\\\">\\n                        {{ row.name }}\\n                    </td>\\n                    <td ng-if=\\\"$ctrl.isEnemy(row)\\\">\\n                        <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                        <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                            {{ 'Please fill the name' | translate }}\\n                        </div>\\n                    </td>\\n\\n                    <td ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                        <div ng-if=\\\"!stats.editableForEnemy && !!$ctrl.isEnemy(row)\\\">\\n                            {{ row[stats.name] }}\\n                        </div>\\n\\n                        <div ng-if=\\\"!!stats.editableForEnemy || !$ctrl.isEnemy(row)\\\">\\n                            <input required type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row[stats.name]\\\" ng-change=\\\"$ctrl.save()\\\">\\n                            <div class=\\\"error\\\" ng-show=\\\"!row[stats.name]\\\">\\n                                {{ 'Please fill a value' | translate }}\\n                            </div>\\n                        </div>\\n                    </td>\\n\\n                    <td></td>\\n\\n                    <td>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                aria-label=\\\"{{ 'Remove enemy' | translate }} {{ row.name | translate }}\\\"\\n                                title=\\\"{{ 'Remove enemy' | translate }} '{{ row.name | translate }}'\\\"\\n                                ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                ng-show=\\\"$ctrl.isEnemy(row)\\\">\\n                            <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </td>\\n                </tr>\\n                </tbody>\\n            </table>\\n        </form>\\n\\n        <dices></dices>\\n        <back-button></back-button>\\n\\n        <popup config=\\\"{{ $ctrl.popupDeleteEnemyConfig }}\\\"></popup>\\n</main>\"\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar BattleController = (function () {\n\t    /*@ngInject*/\n\n\t    BattleController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$window\", \"popupService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"$stateParams\"];\n\t    function BattleController(preScreenLoadingInterceptorsCallerService, $window, popupService, constants, gamePersistenceService, adventurePersistenceService, $stateParams) {\n\t        _classCallCheck(this, BattleController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$window = $window;\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.$stateParams = $stateParams;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\n\t        this.popupDeleteEnemyConfig = {\n\t            id: 'popupDeleteEnemy',\n\t            text: 'Are you sure to remove the enemy?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(BattleController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            if (!!this.$stateParams.game) {\n\t                this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.game));\n\t                this.adventure = this.adventurePersistenceService.getAdventure(this.game.adventureId);\n\t            }\n\n\t            this.initStatsData();\n\t            this.initPlayerStats();\n\t            this.defaultEnemy = this.initDefaultEnemy();\n\t            this.addEnemy();\n\t        }\n\t    }, {\n\t        key: 'initStatsData',\n\t        value: function initStatsData() {\n\t            if (!!this.game && !!this.adventure) {\n\t                this.stats = [];\n\t                for (var i = 0; i < this.adventure.stats.length; i++) {\n\t                    var currentStats = this.adventure.stats[i];\n\t                    if (!!currentStats.battle && !!currentStats.battle.displayed) {\n\t                        this.stats.push({ name: currentStats.name, enemyDefaultValue: currentStats.battle.enemyDefaultValue, editableForEnemy: currentStats.battle.editableForEnemy });\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'initPlayerStats',\n\t        value: function initPlayerStats() {\n\t            if (!!this.stats) {\n\t                this.statsPlayer = { name: this.game.playerName };\n\n\t                for (var i = 0; i < this.stats.length; i++) {\n\t                    var currentStats = this.stats[i];\n\t                    for (var j = 0; j < this.game.stats.length; j++) {\n\t                        var currentGameStats = this.game.stats[j];\n\t                        if (currentStats.name === currentGameStats.name) {\n\t                            this.statsPlayer[currentStats.name] = currentGameStats.current;\n\t                            break;\n\t                        }\n\t                    }\n\t                }\n\t                this.rows = [this.statsPlayer];\n\t            }\n\t        }\n\t    }, {\n\t        key: 'initDefaultEnemy',\n\t        value: function initDefaultEnemy() {\n\t            var defaultEnemyName = 'Enemy';\n\t            if (!!this.adventure.defaultEnemyName) {\n\t                defaultEnemyName = this.adventure.defaultEnemyName;\n\t            }\n\n\t            var statsDefaultEnemy = { name: defaultEnemyName };\n\n\t            for (var i = 0; i < this.stats.length; i++) {\n\t                var currentStats = this.stats[i];\n\t                statsDefaultEnemy[currentStats.name] = currentStats.enemyDefaultValue;\n\t            }\n\n\t            return statsDefaultEnemy;\n\t        }\n\t    }, {\n\t        key: 'addEnemy',\n\t        value: function addEnemy() {\n\t            this.rows.push(JSON.parse(JSON.stringify(this.defaultEnemy)));\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save() {\n\t            for (var i = 0; i < this.game.stats.length; i++) {\n\t                var currentStats = this.game.stats[i];\n\t                currentStats.current = this.statsPlayer[currentStats.name];\n\t            }\n\t            this.gamePersistenceService.updateGame(this.game);\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteEnemyConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.rows.indexOf(removedRow);\n\t            this.rows.splice(index, 1);\n\t        }\n\t    }, {\n\t        key: 'isEnemy',\n\t        value: function isEnemy(row) {\n\t            return this.rows.indexOf(row) !== 0;\n\t        }\n\t    }, {\n\t        key: 'lastColumnSizeInPercent',\n\t        value: function lastColumnSizeInPercent() {\n\t            var lastColumnSizeInPercent = 75;\n\t            if (!!this.stats) {\n\t                lastColumnSizeInPercent = lastColumnSizeInPercent - this.stats.length * 10;\n\t            }\n\t            return lastColumnSizeInPercent;\n\t        }\n\t    }, {\n\t        key: 'back',\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }]);\n\n\t    return BattleController;\n\t})();\n\n\texports['default'] = BattleController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _administrationHtml = __webpack_require__(82);\n\n\tvar _administrationHtml2 = _interopRequireDefault(_administrationHtml);\n\n\tvar _administrationController = __webpack_require__(83);\n\n\tvar _administrationController2 = _interopRequireDefault(_administrationController);\n\n\tvar administrationModule = _angular2['default'].module('app.components.gui.screen.administration', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('administration', {\n\t        url: constants.url.administration, template: '<administration></administration>'\n\t    });\n\t}]).component('administration', { template: _administrationHtml2['default'], controller: _administrationController2['default'] });\n\n\texports['default'] = administrationModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 82 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ 'Administration' | translate }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form>\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"usedLocalStorageInPercent\\\">{{ \\\"Used Local's Storage in Percent\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"usedLocalStorageInPercent\\\" value=\\\"{{ $ctrl.usedLocalStorageInPercent | number : 2}}%\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"usedLocalStorage\\\">{{ \\\"Used Local's Storage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"usedLocalStorage\\\" value=\\\"{{$ctrl.usedLocalStorage / 1024 | number : 2 }}kb\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"remainingCapacity\\\">{{ \\\"Remaining Local's Storage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"remainingCapacity\\\" value=\\\"{{$ctrl.remainingCapacity / 1024 | number : 2 }}kb\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"applicationData\\\">{{ \\\"Application's data\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"applicationData\\\" ng-model=\\\"$ctrl.applicationData\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"importData\\\">{{ \\\"Paste the application's data copied from another browser\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.importData\\\" id=\\\"importData\\\" placeholder=\\\"{{ 'Imported data' | translate }}\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <button class=\\\"btn btn-danger\\\" ng-click=\\\"$ctrl.showPopupConfirmImportData()\\\" aria-label=\\\"{{ 'Import' | translate }}\\\">{{ 'Import' | translate }}</button>\\n                    </div>\\n                </div>\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <button class=\\\"btn btn-danger\\\" ng-click=\\\"$ctrl.showPopupConfirmDeleteApplicationData()\\\" aria-label=\\\"{{ 'Delete application\\\\'s data' | translate }}\\\">{{ \\\"Delete application's data\\\" | translate }}</button>\\n                    </div>\\n                </div>\\n            </form>\\n\\n            <popup config=\\\"{{ $ctrl.popupConfirmImportApplicationDataConfig }}\\\"></popup>\\n            <popup config=\\\"{{ $ctrl.popupConfirmDeleteApplicationDataConfig }}\\\"></popup>\\n        </div>\\n        <back-button></back-button>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 83 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdministrationController = (function () {\n\t    /*@ngInject*/\n\n\t    AdministrationController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"persistenceService\", \"adventurePersistenceService\", \"constants\", \"popupService\", \"$window\"];\n\t    function AdministrationController(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, constants, popupService, $window) {\n\t        _classCallCheck(this, AdministrationController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.persistenceService = persistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.constants = constants;\n\t        this.popupService = popupService;\n\t        this.initData();\n\t        this.$window = $window;\n\n\t        this.popupConfirmImportApplicationDataConfig = {\n\t            id: 'popupConfirmImportApplicationData',\n\t            text: \"All existing application's data will be erased during the import. Are you sure to import the application data?\",\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupConfirmDeleteApplicationDataConfig = {\n\t            id: 'popupConfirmDeleteApplicationData',\n\t            text: 'Are you sure to clear the application data?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\t    }\n\n\t    _createClass(AdministrationController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            this.applicationData = this.persistenceService['export']();\n\t            this.computeLocalStorageCapacities();\n\t        }\n\t    }, {\n\t        key: 'computeLocalStorageCapacities',\n\t        value: function computeLocalStorageCapacities() {\n\t            this.usedLocalStorage = this.persistenceService.getUsedCapacity();\n\t            this.remainingCapacity = this.persistenceService.getRemainingCapacity();\n\t            this.usedLocalStorageInPercent = this.persistenceService.getUsedCapacityInPercent();\n\t        }\n\t    }, {\n\t        key: 'showPopupConfirmImportData',\n\t        value: function showPopupConfirmImportData() {\n\t            var self = this;\n\t            this.popupService.show(this.popupConfirmImportApplicationDataConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.persistenceService['import'](self.importData);\n\t                    self.$window.location.reload();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'showPopupConfirmDeleteApplicationData',\n\t        value: function showPopupConfirmDeleteApplicationData() {\n\t            var self = this;\n\t            this.popupService.show(this.popupConfirmDeleteApplicationDataConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.persistenceService.cleanAllData();\n\t                    self.$window.location.reload();\n\t                }\n\t            });\n\t        }\n\t    }]);\n\n\t    return AdministrationController;\n\t})();\n\n\texports['default'] = AdministrationController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _chooseLanguageHtml = __webpack_require__(85);\n\n\tvar _chooseLanguageHtml2 = _interopRequireDefault(_chooseLanguageHtml);\n\n\tvar _chooseLanguageController = __webpack_require__(86);\n\n\tvar _chooseLanguageController2 = _interopRequireDefault(_chooseLanguageController);\n\n\tvar chooseLanguageModule = _angular2['default'].module('app.components.gui.screen.choose-language', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('choose-language', {\n\t        url: constants.url.chooseLanguage, template: '<choose-language></choose-language>'\n\t    });\n\t}]).component('chooseLanguage', { template: _chooseLanguageHtml2['default'], controller: _chooseLanguageController2['default'] });\n\n\texports['default'] = chooseLanguageModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 85 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Gamebooks Companion' | translate }}</h1>\\n        </div>\\n        <language-picker></language-picker>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.goForward()\\\">{{ 'Continue' | translate }}</button>\\n    </div>\\n</main>\\n\"\n\n/***/ },\n/* 86 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ChooseLanguageController = (function () {\n\t    /*@ngInject*/\n\n\t    ChooseLanguageController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$location\", \"constants\"];\n\t    function ChooseLanguageController(preScreenLoadingInterceptorsCallerService, $location, constants) {\n\t        _classCallCheck(this, ChooseLanguageController);\n\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t    }\n\n\t    _createClass(ChooseLanguageController, [{\n\t        key: \"goForward\",\n\t        value: function goForward() {\n\t            this.$location.url(this.constants.url.games);\n\t        }\n\t    }]);\n\n\t    return ChooseLanguageController;\n\t})();\n\n\texports[\"default\"] = ChooseLanguageController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _aboutHtml = __webpack_require__(88);\n\n\tvar _aboutHtml2 = _interopRequireDefault(_aboutHtml);\n\n\tvar _aboutController = __webpack_require__(89);\n\n\tvar _aboutController2 = _interopRequireDefault(_aboutController);\n\n\tvar aboutModule = _angular2['default'].module('app.components.gui.screen.about', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('about', {\n\t        url: constants.url.about, template: '<about></about>'\n\t    });\n\t}]).component('about', { template: _aboutHtml2['default'], controller: _aboutController2['default'] });\n\n\texports['default'] = aboutModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 88 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\" uib-collapse=\\\"false\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'About' | translate }}</h1>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"appDescription\\\">{{ \\\"Application's description\\\" | translate }}</label>\\n            <div id=\\\"appDescription\\\">{{ 'application.description' | translate }}</div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"appVersion\\\">{{ \\\"Application's version\\\" | translate }}</label>\\n            <div id=\\\"appVersion\\\">{{ $ctrl.appVersion }}</div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"license\\\">{{ \\\"License\\\" | translate }}</label>\\n            <pre id=\\\"license\\\" ng-include src=\\\"'LICENSE.txt'\\\"></pre>\\n        </div>\\n\\n\\n        <h2>{{ 'Credits' | translate }}</h2>\\n\\n        <table class=\\\"table table-striped\\\">\\n            <col style=\\\"width:30%\\\">\\n            <col style=\\\"width:30%\\\">\\n            <col style=\\\"width:40%\\\">\\n            <thead>\\n            <tr>\\n                <th>{{ 'Who' | translate }}</th>\\n                <th>{{ 'For' | translate }}</th>\\n                <th>{{ 'Link' | translate }}</th>\\n            </tr>\\n            </thead>\\n            <tbody>\\n            <tr>\\n                <td>Ravenmore</td>\\n                <td>\\n                    {{ 'map image used as favicon' | translate }}\\n                    <ng-include src=\\\"'map-image.html'\\\"></ng-include>\\n                </td>\\n                <td><a href=\\\"//opengameart.org/content/fantasy-icon-pack-by-ravenmore-0\\\">opengameart.org Ravenmore page</a></td>\\n            </tr>\\n            <tr>\\n                <td>JamesWhite</td>\\n                <td>\\n                    {{ 'dice image' | translate }}\\n                    <ng-include src=\\\"'dice-image.html'\\\"></ng-include>\\n                </td>\\n                <td>\\n                    <a href=\\\"http://opengameart.org/content/dice-4\\\">opengameart.org JamesWhite page</a>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td>SBB (Schweizerische Bundesbahnen)</td>\\n                <td>{{ 'Web/JS Framework' | translate }}</td>\\n                <td><a href=\\\"https://github.com/SchweizerischeBundesbahnen/esta-webjs\\\">esta-webjs project github page</a></td>\\n            </tr>\\n            <tr>\\n                <td>{{ 'Developers and contributors' | translate }}</td>\\n                <td>{{ 'Angular JS, Bootstrap, Webpack and all existing tools that make javascript development fun to code' | translate }}</td>\\n                <td></td>\\n            </tr>\\n            </tbody>\\n        </table>\\n\\n        <back-button></back-button>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 89 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar AboutController =\n\t/*@ngInject*/\n\t[\"preScreenLoadingInterceptorsCallerService\", \"constants\", function AboutController(preScreenLoadingInterceptorsCallerService, constants) {\n\t    _classCallCheck(this, AboutController);\n\n\t    preScreenLoadingInterceptorsCallerService.intercept();\n\t    this.appVersion = constants.version;\n\t}];\n\n\texports[\"default\"] = AboutController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _listAdventuresList = __webpack_require__(91);\n\n\tvar _listAdventuresList2 = _interopRequireDefault(_listAdventuresList);\n\n\tvar _detailAdventureDetail = __webpack_require__(94);\n\n\tvar _detailAdventureDetail2 = _interopRequireDefault(_detailAdventureDetail);\n\n\tvar adventuresModule = _angular2['default'].module('app.components.gui.screens.adventures', [_listAdventuresList2['default'].name, _detailAdventureDetail2['default'].name]);\n\n\texports['default'] = adventuresModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _adventuresListHtml = __webpack_require__(92);\n\n\tvar _adventuresListHtml2 = _interopRequireDefault(_adventuresListHtml);\n\n\tvar _adventuresListController = __webpack_require__(93);\n\n\tvar _adventuresListController2 = _interopRequireDefault(_adventuresListController);\n\n\tvar adventuresListModule = _angular2['default'].module('app.components.gui.screen.adventures.list', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('adventuresList', {\n\t        url: constants.url.adventures, template: '<adventures-list></adventures-list>'\n\t    });\n\t}]).component('adventuresList', { template: _adventuresListHtml2['default'], controller: _adventuresListController2['default'] });\n\n\texports['default'] = adventuresListModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 92 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Adventures' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:5% \\\">\\n                    <col style=\\\"width:10% \\\">\\n                    <col style=\\\"width:5% \\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Title' | translate }}</th>\\n                        <th>{{ 'Serie' | translate }}</th>\\n                        <th>{{ 'Author(s)' | translate }}</th>\\n                        <th>{{ 'Length' | translate }}</th>\\n                        <th>{{ 'Language' | translate }}</th>\\n                        <th>{{ 'Version' | translate }}</th>\\n                        <th>{{ 'Download status' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td>{{ row.name }}</td>\\n                        <td>{{ row.serie }}</td>\\n                        <td>{{ row.authors }}</td>\\n                        <td aria-label=\\\"{{ 'NumberOfParagraphs' | translate: {numberOfParagraphs: row.numberOfParagraphs} }}\\\"\\n                            title=\\\"{{ 'NumberOfParagraphs' | translate: {numberOfParagraphs: row.numberOfParagraphs} }}\\\">\\n                            {{ row.numberOfParagraphs + (!!row.numberOfParagraphs ? '' : '') }}\\n                        </td>\\n                        <td>{{ row.language | translate }}</td>\\n                        <td>{{ row.version }}</td>\\n                        <td>{{ row.downloadStatus | translate }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceAdventure' | translate: {adventureName: row.name}) :\\n                                        ('ChoosenAdventure' | translate: {adventureName: row.name}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceAdventure' | translate: {adventureName: row.name}) :\\n                                        ('ChoosenAdventure' | translate: {adventureName: row.name}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Create an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Create an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.create()\\\">{{ 'Create' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportAdventurePopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Display selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Display selected adventure' | translate }}\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.display()\\\">{{ 'Display' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                aria-label=\\\"{{ 'Remove selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Remove selected adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayRemoveAdventurePopup()\\\">{{ 'Remove' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                aria-label=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayExportAdventurePopup()\\\">{{ 'Export' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.isSelectedRowDownloadable()\\\"\\n                aria-label=\\\"{{ 'Download selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Download selected adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.downloadAdventure()\\\">{{ 'Download' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteAdventureConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportAdventureConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportAdventureConfig\\\"></import-data-popup>\\n\"\n\n/***/ },\n/* 93 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdventuresListController = (function () {\n\t    /*@ngInject*/\n\n\t    AdventuresListController.$inject = [\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"messagesService\", \"$translate\", \"popupService\", \"exportDataPopupService\", \"importDataPopupService\"];\n\t    function AdventuresListController($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n\t        _classCallCheck(this, AdventuresListController);\n\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.popupService = popupService;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.importDataPopupService = importDataPopupService;\n\n\t        this.popupDeleteAdventureConfig = {\n\t            id: 'popupDeleteAdventure',\n\t            text: 'Are you sure to remove the selected adventure?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupExportAdventureConfig = { id: 'popupExportAdventure' };\n\t        this.popupImportAdventureConfig = { id: 'popupImportAdventure' };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(AdventuresListController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            this.rows = this.adventurePersistenceService.getAdventuresOverview();\n\t            this.clearSelection();\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                if (!!this.rows[i].downloadHistory) {\n\t                    this.rows[i].downloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length - 1];\n\t                } else {\n\t                    if (!!this.rows[i].downloadUrl) {\n\t                        this.rows[i].downloadStatus = 'Downloadable';\n\t                    } else {\n\t                        this.rows[i].downloadStatus = 'N/A';\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(row) {\n\t            this.clearSelection();\n\t            row.selected = true;\n\t        }\n\t    }, {\n\t        key: 'clearSelection',\n\t        value: function clearSelection() {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                this.rows[i].selected = false;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'create',\n\t        value: function create() {\n\t            this.$location.url(this.constants.url.adventureDetail + '/create');\n\t        }\n\t    }, {\n\t        key: 'display',\n\t        value: function display() {\n\t            this.$location.url(this.constants.url.adventureDetail + '/' + this.getSelectedRow().id);\n\t        }\n\t    }, {\n\t        key: 'displayRemoveAdventurePopup',\n\t        value: function displayRemoveAdventurePopup() {\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteAdventureConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.deleteAdventure();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'deleteAdventure',\n\t        value: function deleteAdventure() {\n\t            this.adventurePersistenceService.deleteAdventureAndParagraphs(this.getSelectedRow().id);\n\t            this.initData();\n\t        }\n\t    }, {\n\t        key: 'displayExportAdventurePopup',\n\t        value: function displayExportAdventurePopup() {\n\t            var self = this;\n\t            this.popupExportAdventureConfig.exportData = JSON.stringify(this.adventurePersistenceService.exportAdventure(this.getSelectedRow().id));\n\t            this.popupExportAdventureConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportAdventureConfig.exportData);\n\t            this.popupExportAdventureConfig.exportTitle = this.$translate.instant('ExportAdventure', { adventureName: this.getSelectedRow().name });\n\t            this.exportDataPopupService.show(this.popupExportAdventureConfig.id);\n\t        }\n\t    }, {\n\t        key: 'displayImportAdventurePopup',\n\t        value: function displayImportAdventurePopup() {\n\t            var self = this;\n\t            this.popupImportAdventureConfig.title = this.$translate.instant('Import an adventure');\n\t            this.importDataPopupService.show(this.popupImportAdventureConfig.id, function (popupDomElementId, data) {\n\t                self.adventurePersistenceService.importAdventure(data);\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'downloadAdventure',\n\t        value: function downloadAdventure() {\n\t            var self = this;\n\t            var promise = this.adventurePersistenceService.downloadAdventure(this.getSelectedRow());\n\t            promise.then(function (json) {\n\t                self.initData();\n\t            }, function (reason) {\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'hasSelectedRow',\n\t        value: function hasSelectedRow() {\n\t            return !!this.getSelectedRow();\n\t        }\n\t    }, {\n\t        key: 'isSelectedRowDownloadable',\n\t        value: function isSelectedRowDownloadable() {\n\t            var selectedRow = this.getSelectedRow();\n\t            return !!selectedRow && !!selectedRow.downloadUrl;\n\t        }\n\t    }, {\n\t        key: 'getSelectedRow',\n\t        value: function getSelectedRow() {\n\t            if (!!this.rows) {\n\t                for (var i = 0; i < this.rows.length; i++) {\n\t                    if (!!this.rows[i].selected) {\n\t                        return this.rows[i];\n\t                    }\n\t                }\n\t            }\n\t            return null;\n\t        }\n\t    }]);\n\n\t    return AdventuresListController;\n\t})();\n\n\texports['default'] = AdventuresListController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _adventureDetailHtml = __webpack_require__(95);\n\n\tvar _adventureDetailHtml2 = _interopRequireDefault(_adventureDetailHtml);\n\n\tvar _adventureDetailController = __webpack_require__(96);\n\n\tvar _adventureDetailController2 = _interopRequireDefault(_adventureDetailController);\n\n\tvar adventureDetailModule = _angular2['default'].module('app.components.gui.screen.adventures.detail', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('adventure-detail', {\n\t        url: constants.url.adventureDetail + '/{adventureId}', template: '<adventure-detail></adventure-detail>'\n\t    });\n\t}]).component('adventureDetail', { template: _adventureDetailHtml2['default'], controller: _adventureDetailController2['default'] });\n\n\texports['default'] = adventureDetailModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 95 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ $ctrl.adventure.name }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"adventureTableForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <h3>{{ 'General' | translate }}</h3>\\n                <div>\\n                    <div class=\\\"form-group\\\" ng-if=\\\"!$ctrl.adventure.id\\\">\\n                        <label for=\\\"name\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\" ng-model=\\\"$ctrl.adventure.name\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"serie\\\">{{ \\\"Serie\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"serie\\\" ng-model=\\\"$ctrl.adventure.serie\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"authors\\\">{{ \\\"Author(s)\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"authors\\\" ng-model=\\\"$ctrl.adventure.authors\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"description\\\">{{ \\\"Description\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"description\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.description\\\"></div>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"version\\\">{{ \\\"Version\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"version\\\" ng-model=\\\"$ctrl.adventure.version\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"language\\\">{{ \\\"Language\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"language\\\" ng-model=\\\"$ctrl.adventure.language\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"homepage\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"homepage\\\" ng-model=\\\"$ctrl.adventure.homepage\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"isbn\\\">{{ \\\"ISBN\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"isbn\\\" ng-model=\\\"$ctrl.adventure.isbn\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"numberOfParagraphs\\\">{{ \\\"Number of paragraphs\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"numberOfParagraphs\\\" ng-model=\\\"$ctrl.adventure.numberOfParagraphs\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startParagraphNr\\\">{{ \\\"First paragraph\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"startParagraphNr\\\" ng-model=\\\"$ctrl.adventure.startParagraphNr\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startGameNote\\\">{{ \\\"Start game's note\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"startGameNote\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.startGameNote\\\"></div>\\n                    </div>\\n                </div>\\n\\n                <h3>{{ 'Stats rules' | translate }}</h3>\\n                <div>\\n                    <table class=\\\"table table-striped\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <col style=\\\"width:30%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <thead>\\n                        <tr>\\n                            <th>\\n                                {{ 'Name' | translate }}\\n                            </th>\\n                            <th>\\n                                {{ 'Player stats value generation' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is this stats displayed in battle?' | translate }}\\\"\\n                                title=\\\"{{ 'Is this stat displayed in battle?' | translate }}\\\">\\n                                {{ 'For battle?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is it a enemy stats?' | translate }}\\\"\\n                                title=\\\"{{ 'Is it a enemy stats?' | translate }}\\\">\\n                                {{ 'For enemy?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\"\\n                                title=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\">\\n                                {{ 'Default enemy value' | translate }}\\n                            </th>\\n                            <th></th>\\n                            <th></th>\\n                            <th>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.addRow()\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </th>\\n                        </tr>\\n                        </thead>\\n                        <tbody>\\n\\n                        <tr ng-repeat=\\\"row in $ctrl.adventure.stats\\\">\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.name }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                                    {{ 'Please fill the name of the stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.init.sixDiceQuantity + 'd6' + (!!row.init.constant ? '+' + row.init.constant : '')   }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"sixDiceQuantity\\\">{{ \\\"Quantity of dices 6 faces\\\" | translate }}</label>\\n                                    <input required id=\\\"sixDiceQuantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.sixDiceQuantity\\\">\\n                                </div>\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"constant\\\">{{ \\\"Constant\\\" | translate }}</label>\\n                                    <input id=\\\"constant\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.constant\\\">\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.init.sixDiceQuantity\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill the quantity of dices 6 faces used to generate a value for this stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.displayed | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.displayed\\\" id=\\\"displayed\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.editableForEnemy | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.editableForEnemy\\\" id=\\\"editableForEnemy\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.battle.enemyDefaultValue }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input id=\\\"enemyDefaultValue\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.enemyDefaultValue\\\" ng-required=\\\"!!row.battle.editableForEnemy\\\" >\\n                                <div class=\\\"error\\\" ng-show=\\\"!!row.battle.editableForEnemy && !row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill a default value of this stats for enemies' | translate }}\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.battle.editableForEnemy && !!row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please do not fill a default value as this stats is not available for enemies' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                                        aria-label=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.saveRowChanges(adventureTableForm.$invalid, row)\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        title=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n                        </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n\\n                <h3>{{ 'Initial items' | translate }}</h3>\\n                <div>\\n                    <items items=\\\"$ctrl.adventure.items\\\"></items>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(adventureTableForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteStatsConfig }}\\\"></popup>\\n\"\n\n/***/ },\n/* 96 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdventureDetailController = (function () {\n\t    /*@ngInject*/\n\n\t    AdventureDetailController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"persistenceService\", \"adventurePersistenceService\", \"$stateParams\", \"$location\", \"constants\", \"popupService\", \"messagesService\", \"$timeout\", \"$window\", \"formHelperService\"];\n\t    function AdventureDetailController(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, $stateParams, $location, constants, popupService, messagesService, $timeout, $window, formHelperService) {\n\t        _classCallCheck(this, AdventureDetailController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.persistenceService = persistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$stateParams = $stateParams;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.popupService = popupService;\n\t        this.messagesService = messagesService;\n\t        this.$timeout = $timeout;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\t        this.initData();\n\n\t        this.popupDeleteStatsConfig = {\n\t            id: 'popupDeleteStats',\n\t            text: 'Are you sure to remove the status?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(AdventureDetailController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var adventureId = encodeURIComponent(this.$stateParams.adventureId);\n\t            if (!!adventureId) {\n\t                if (\"create\" === adventureId) {\n\t                    this.adventure = {\n\t                        stats: [],\n\t                        items: []\n\t                    };\n\t                    this.mode = \"create\";\n\t                } else {\n\t                    this.adventure = this.adventurePersistenceService.getAdventure(adventureId);\n\t                    this.mode = \"edit\";\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setInitialFocus',\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = undefined;\n\t                if (that.mode === \"create\") {\n\t                    element = that.$window.document.getElementById(\"name\");\n\t                } else {\n\t                    element = that.$window.document.getElementById(\"authors\");\n\t                }\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save(form) {\n\t            this.formHelperService.setErrorFieldsAsDirty(form, true);\n\t            if (form.$invalid) {\n\t                return;\n\t            }\n\n\t            if (!!this.adventure.items) {\n\t                var modifiedItems = [];\n\t                for (var i = 0; i < this.adventure.items.length; i++) {\n\t                    modifiedItems.push({\n\t                        quantity: this.adventure.items[i].quantity,\n\t                        description: this.adventure.items[i].description\n\t                    });\n\t                }\n\t                this.adventure.items = modifiedItems;\n\t            }\n\t            try {\n\t                this.adventurePersistenceService.updateAdventureWithoutParagraphs(this.adventure);\n\t                this.$location.url(this.constants.url.adventures);\n\t            } catch (error) {\n\t                this.messagesService.errorMessage(error, false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addRow',\n\t        value: function addRow() {\n\t            var stats = { init: {}, battle: { displayed: true, editableForEnemy: false } };\n\t            this.adventure.stats.push(stats);\n\t            this.addedRow = stats;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteStatsConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.adventure.stats.indexOf(removedRow);\n\t            this.adventure.stats.splice(index, 1);\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = {\n\t                name: row.name,\n\t                init: {\n\t                    sixDiceQuantity: row.init.sixDiceQuantity,\n\t                    constants: row.init.constant\n\t                },\n\t                battle: {\n\t                    displayed: row.battle.displayed,\n\t                    enemyDefaultValue: row.battle.enemyDefaultValue,\n\t                    editableForEnemy: row.battle.editableForEnemy\n\t                }\n\t            };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'getEditRow',\n\t        value: function getEditRow() {\n\t            if (!!this.addedRow) {\n\t                return this.addedRow;\n\t            } else if (!!this.editedRow) {\n\t                return this.editedRow;\n\t            } else {\n\t                return null;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid) {\n\t            if (!this.getEditRow().name) {\n\t                return;\n\t            }\n\t            if (!this.getEditRow().init.sixDiceQuantity) {\n\t                return;\n\t            }\n\t            if (!this.getEditRow().battle.editableForEnemy && !!this.getEditRow().battle.enemyDefaultValue) {\n\t                return;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.name = this.originalRow.name;\n\t                this.editedRow.init = this.originalRow.init;\n\t                this.editedRow.battle = this.originalRow.battle;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }]);\n\n\t    return AdventureDetailController;\n\t})();\n\n\texports['default'] = AdventureDetailController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 97 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _listLibrariesList = __webpack_require__(98);\n\n\tvar _listLibrariesList2 = _interopRequireDefault(_listLibrariesList);\n\n\tvar _detailLibraryDetail = __webpack_require__(101);\n\n\tvar _detailLibraryDetail2 = _interopRequireDefault(_detailLibraryDetail);\n\n\tvar librariesModule = _angular2['default'].module('app.components.gui.screens.libraries', [_listLibrariesList2['default'].name, _detailLibraryDetail2['default'].name]);\n\n\texports['default'] = librariesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 98 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _librariesListHtml = __webpack_require__(99);\n\n\tvar _librariesListHtml2 = _interopRequireDefault(_librariesListHtml);\n\n\tvar _librariesListController = __webpack_require__(100);\n\n\tvar _librariesListController2 = _interopRequireDefault(_librariesListController);\n\n\tvar librariesListModule = _angular2['default'].module('app.components.gui.screen.libraries.list', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('librariesList', {\n\t        url: constants.url.libraries, template: '<libraries-list></libraries-list>'\n\t    });\n\t}]).component('librariesList', { template: _librariesListHtml2['default'], controller: _librariesListController2['default'] });\n\n\texports['default'] = librariesListModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 99 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Libraries' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:55%\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Site' | translate }}</th>\\n                        <th>{{ 'Library url' | translate }}</th>\\n                        <th>{{ 'Download Status' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td ng-if=\\\"!!row.siteUrl\\\"><a href=\\\"{{ row.siteUrl }}\\\">{{ row.siteName }}</a></td>\\n                        <td ng-if=\\\"!row.siteUrl\\\">{{ row.siteName }}</td>\\n                        <td><a href=\\\"{{ row.libraryUrl }}\\\" target=\\\"_blank\\\">{{ 'Detail' | translate }}</a></td>\\n                        <td>{{ row.lastDownloadStatus }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceLibrary' | translate: {siteName: row.siteName}) :\\n                                        ('ChoosenLibrary' | translate: {siteName: row.siteName}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceLibrary' | translate: {siteName: row.siteName}) :\\n                                        ('ChoosenLibrary' | translate: {siteName: row.siteName}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Create a library' | translate }}\\\"\\n                title=\\\"{{ 'Create a library' | translate }}\\\"\\n                ng-click=\\\"$ctrl.create()\\\">{{ 'Create' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import libraries' | translate }}\\\"\\n                title=\\\"{{ 'Import libraries' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportLibrariesPopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Display selected library' | translate }}\\\"\\n                title=\\\"{{ 'Display selected library' | translate }}\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.display()\\\">{{ 'Display' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                aria-label=\\\"{{ 'Remove selected library' | translate }}\\\"\\n                title=\\\"{{ 'Remove selected library' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayRemoveLibraryPopup()\\\">{{ 'Remove' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Export libraries' | translate }}\\\"\\n                title=\\\"{{ 'Export libraries' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayExportLibrariesPopup()\\\">{{ 'Export' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Download libraries' | translate }}\\\"\\n                title=\\\"{{ 'Download libraries' | translate }}\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.downloadLibrary()\\\">{{ 'Download' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteLibraryConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportLibrariesConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportLibrariesConfig\\\"></import-data-popup>\\n\"\n\n/***/ },\n/* 100 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar LibrariesListController = (function () {\n\t    /*@ngInject*/\n\n\t    LibrariesListController.$inject = [\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"messagesService\", \"$translate\", \"popupService\", \"exportDataPopupService\", \"importDataPopupService\", \"libraryPersistenceService\"];\n\t    function LibrariesListController($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService, libraryPersistenceService) {\n\t        _classCallCheck(this, LibrariesListController);\n\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.libraryPersistenceService = libraryPersistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.popupService = popupService;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.importDataPopupService = importDataPopupService;\n\n\t        this.popupDeleteLibraryConfig = {\n\t            id: 'popupDeleteLibrary',\n\t            text: 'Are you sure to remove the selected library?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupExportLibrariesConfig = { id: 'popupExportLibraries' };\n\t        this.popupImportLibrariesConfig = { id: 'popupImportLibraries' };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(LibrariesListController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            this.rows = this.libraryPersistenceService.getLibraries();\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                if (!!this.rows[i].downloadHistory) {\n\t                    this.rows[i].lastDownloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length - 1];\n\t                }\n\t            }\n\t            this.clearSelection();\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(row) {\n\t            this.clearSelection();\n\t            row.selected = true;\n\t        }\n\t    }, {\n\t        key: 'clearSelection',\n\t        value: function clearSelection() {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                this.rows[i].selected = false;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'create',\n\t        value: function create() {\n\t            this.$location.url(this.constants.url.libraryDetail + '/create');\n\t        }\n\t    }, {\n\t        key: 'display',\n\t        value: function display() {\n\t            this.$location.url(this.constants.url.libraryDetail + '/' + this.getSelectedRow().id);\n\t        }\n\t    }, {\n\t        key: 'displayRemoveLibraryPopup',\n\t        value: function displayRemoveLibraryPopup() {\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteLibraryConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.deleteLibrary();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'deleteLibrary',\n\t        value: function deleteLibrary() {\n\t            this.libraryPersistenceService.deleteLibrary(this.getSelectedRow().id);\n\t            this.initData();\n\t        }\n\t    }, {\n\t        key: 'displayExportLibrariesPopup',\n\t        value: function displayExportLibrariesPopup() {\n\t            this.popupExportLibrariesConfig.exportData = this.libraryPersistenceService.exportLibraries();\n\t            this.popupExportLibrariesConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportLibrariesConfig.exportData);\n\t            this.popupExportLibrariesConfig.exportTitle = this.$translate.instant('Export libraries');\n\t            this.exportDataPopupService.show(this.popupExportLibrariesConfig.id);\n\t        }\n\t    }, {\n\t        key: 'displayImportLibrariesPopup',\n\t        value: function displayImportLibrariesPopup() {\n\t            var self = this;\n\t            this.popupImportLibrariesConfig.title = this.$translate.instant('Import libraries');\n\t            this.importDataPopupService.show(this.popupImportLibrariesConfig.id, function (popupDomElementId, data) {\n\t                try {\n\t                    self.libraryPersistenceService.importLibraries(data);\n\t                    self.initData();\n\t                } catch (error) {\n\t                    self.messagesService.errorMessage(error, false);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'downloadLibrary',\n\t        value: function downloadLibrary() {\n\t            var self = this;\n\t            var promise = this.libraryPersistenceService.downloadLibrary(this.getSelectedRow());\n\t            promise.then(function (json) {\n\t                self.initData();\n\t            }, function (reason) {\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'hasSelectedRow',\n\t        value: function hasSelectedRow() {\n\t            return !!this.getSelectedRow();\n\t        }\n\t    }, {\n\t        key: 'getSelectedRow',\n\t        value: function getSelectedRow() {\n\t            if (!!this.rows) {\n\t                for (var i = 0; i < this.rows.length; i++) {\n\t                    if (!!this.rows[i].selected) {\n\t                        return this.rows[i];\n\t                    }\n\t                }\n\t            }\n\t            return null;\n\t        }\n\t    }]);\n\n\t    return LibrariesListController;\n\t})();\n\n\texports['default'] = LibrariesListController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 101 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _libraryDetailHtml = __webpack_require__(102);\n\n\tvar _libraryDetailHtml2 = _interopRequireDefault(_libraryDetailHtml);\n\n\tvar _libraryDetailController = __webpack_require__(103);\n\n\tvar _libraryDetailController2 = _interopRequireDefault(_libraryDetailController);\n\n\tvar libraryDetailModule = _angular2['default'].module('app.components.gui.screen.libraries.detail', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('library-detail', {\n\t        url: constants.url.libraryDetail + '/{libraryId}', template: '<library-detail></library-detail>'\n\t    });\n\t}]).component('libraryDetail', { template: _libraryDetailHtml2['default'], controller: _libraryDetailController2['default'] });\n\n\texports['default'] = libraryDetailModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 102 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ 'Library' }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"libraryForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteName\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteName\\\" ng-model=\\\"$ctrl.library.siteName\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteUrl\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteUrl\\\" ng-model=\\\"$ctrl.library.siteUrl\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"libraryUrl\\\">{{ \\\"Library url\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"libraryUrl\\\" ng-model=\\\"$ctrl.library.libraryUrl\\\" required>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(libraryForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 103 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar LibraryDetailController = (function () {\n\t    /*@ngInject*/\n\n\t    LibraryDetailController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"libraryPersistenceService\", \"$stateParams\", \"$location\", \"constants\", \"messagesService\", \"$timeout\", \"$window\", \"formHelperService\"];\n\t    function LibraryDetailController(preScreenLoadingInterceptorsCallerService, libraryPersistenceService, $stateParams, $location, constants, messagesService, $timeout, $window, formHelperService) {\n\t        _classCallCheck(this, LibraryDetailController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.libraryPersistenceService = libraryPersistenceService;\n\t        this.$stateParams = $stateParams;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.messagesService = messagesService;\n\t        this.$timeout = $timeout;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\t        this.initData();\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(LibraryDetailController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            var libraryId = encodeURIComponent(this.$stateParams.libraryId);\n\t            if (!!libraryId) {\n\t                if (\"create\" === libraryId) {\n\t                    this.library = {};\n\t                    this.mode = \"create\";\n\t                } else {\n\t                    this.library = this.libraryPersistenceService.getLibrary(libraryId);\n\t                    this.mode = \"edit\";\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: \"setInitialFocus\",\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = that.$window.document.getElementById(\"siteName\");\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: \"save\",\n\t        value: function save(form) {\n\t            this.formHelperService.setErrorFieldsAsDirty(form, true);\n\t            if (form.$invalid) {\n\t                return;\n\t            }\n\n\t            try {\n\t                this.libraryPersistenceService.updateLibrary(this.library);\n\t                this.$location.url(this.constants.url.libraries);\n\t            } catch (error) {\n\t                this.messagesService.errorMessage(error, false);\n\t            }\n\t        }\n\t    }]);\n\n\t    return LibraryDetailController;\n\t})();\n\n\texports[\"default\"] = LibraryDetailController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 104 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _languageAvailabilityCheckerLanguageAvailabilityChecker = __webpack_require__(105);\n\n\tvar _languageAvailabilityCheckerLanguageAvailabilityChecker2 = _interopRequireDefault(_languageAvailabilityCheckerLanguageAvailabilityChecker);\n\n\tvar _softwareRequirementsCheckerSoftwareRequirementsChecker = __webpack_require__(107);\n\n\tvar _softwareRequirementsCheckerSoftwareRequirementsChecker2 = _interopRequireDefault(_softwareRequirementsCheckerSoftwareRequirementsChecker);\n\n\tvar _preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller = __webpack_require__(109);\n\n\tvar _preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller2 = _interopRequireDefault(_preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller);\n\n\tvar _persistencePersistence = __webpack_require__(111);\n\n\tvar _persistencePersistence2 = _interopRequireDefault(_persistencePersistence);\n\n\tvar _dicesDices = __webpack_require__(119);\n\n\tvar _dicesDices2 = _interopRequireDefault(_dicesDices);\n\n\tvar _formHelperFormHelper = __webpack_require__(121);\n\n\tvar _formHelperFormHelper2 = _interopRequireDefault(_formHelperFormHelper);\n\n\tvar _remoteJsonRetrieverRemoteJsonRetriever = __webpack_require__(123);\n\n\tvar _remoteJsonRetrieverRemoteJsonRetriever2 = _interopRequireDefault(_remoteJsonRetrieverRemoteJsonRetriever);\n\n\tvar servicesModule = _angular2['default'].module('app.components.services', [_softwareRequirementsCheckerSoftwareRequirementsChecker2['default'].name, _persistencePersistence2['default'].name, _dicesDices2['default'].name, _languageAvailabilityCheckerLanguageAvailabilityChecker2['default'].name, _preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller2['default'].name, _formHelperFormHelper2['default'].name, _remoteJsonRetrieverRemoteJsonRetriever2['default'].name]);\n\n\texports['default'] = servicesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 105 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _languageAvailabilityCheckerService = __webpack_require__(106);\n\n\tvar _languageAvailabilityCheckerService2 = _interopRequireDefault(_languageAvailabilityCheckerService);\n\n\tvar languageAvailabilityCheckerModule = _angular2['default'].module('app.components.services.language-availability-checker', []).service('languageAvailabilityCheckerService', _languageAvailabilityCheckerService2['default']);\n\n\texports['default'] = languageAvailabilityCheckerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 106 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar LanguageAvailabilityCheckerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    LanguageAvailabilityCheckerService.$inject = [\"gamePersistenceService\", \"$location\", \"constants\", \"$translate\"];\n\t    function LanguageAvailabilityCheckerService(gamePersistenceService, $location, constants, $translate) {\n\t        _classCallCheck(this, LanguageAvailabilityCheckerService);\n\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.$translate = $translate;\n\t    }\n\n\t    _createClass(LanguageAvailabilityCheckerService, [{\n\t        key: 'selectLanguageIfMissing',\n\t        value: function selectLanguageIfMissing() {\n\t            var selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n\t            var currentUrl = this.$location.url();\n\t            if (!!selectedLanguage) {\n\t                this.$translate.use(selectedLanguage);\n\t            } else {\n\t                if (!!currentUrl && !currentUrl.startsWith('/choose-language')) {\n\t                    this.$location.url(this.constants.url.chooseLanguage);\n\t                }\n\t            }\n\t        }\n\t    }]);\n\n\t    return LanguageAvailabilityCheckerService;\n\t})();\n\n\texports['default'] = LanguageAvailabilityCheckerService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 107 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _softwareRequirementsCheckerService = __webpack_require__(108);\n\n\tvar _softwareRequirementsCheckerService2 = _interopRequireDefault(_softwareRequirementsCheckerService);\n\n\tvar softwareRequirementsCheckerModule = _angular2['default'].module('app.components.services.software-requirements-checker', []).service('softwareRequirementsCheckerService', _softwareRequirementsCheckerService2['default']);\n\n\texports['default'] = softwareRequirementsCheckerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 108 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar SoftwareRequirementsCheckerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    SoftwareRequirementsCheckerService.$inject = [\"messagesService\"];\n\t    function SoftwareRequirementsCheckerService(messagesService) {\n\t        _classCallCheck(this, SoftwareRequirementsCheckerService);\n\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(SoftwareRequirementsCheckerService, [{\n\t        key: 'checkSoftwareRequirements',\n\t        value: function checkSoftwareRequirements() {\n\t            var hasSoftwareRequirements = true;\n\t            if (!this.isLocalStorageSupported()) {\n\t                hasSoftwareRequirements = false;\n\t                this.messagesService.errorMessage(\"The application cannot be used because the version of the browser is too old or because it is not possible to save data in 'localStorage'.\", true);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'isLocalStorageSupported',\n\t        value: function isLocalStorageSupported() {\n\t            try {\n\t                var storage = window['localStorage'];\n\t                var x = '__storage_test__';\n\t                storage.setItem(x, x);\n\t                storage.removeItem(x);\n\t                return true;\n\t            } catch (e) {\n\t                return false;\n\t            }\n\t        }\n\t    }]);\n\n\t    return SoftwareRequirementsCheckerService;\n\t})();\n\n\texports['default'] = SoftwareRequirementsCheckerService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 109 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _preScreenLoadingInterceptorsCallerService = __webpack_require__(110);\n\n\tvar _preScreenLoadingInterceptorsCallerService2 = _interopRequireDefault(_preScreenLoadingInterceptorsCallerService);\n\n\tvar preScreenLoadingInterceptorsCallerModule = _angular2['default'].module('app.components.services.pre-screen-loading-interceptors-caller', []).service('preScreenLoadingInterceptorsCallerService', _preScreenLoadingInterceptorsCallerService2['default']);\n\n\texports['default'] = preScreenLoadingInterceptorsCallerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 110 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PreScreenLoadingInterceptorsCallerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    PreScreenLoadingInterceptorsCallerService.$inject = [\"languageAvailabilityCheckerService\", \"softwareRequirementsCheckerService\"];\n\t    function PreScreenLoadingInterceptorsCallerService(languageAvailabilityCheckerService, softwareRequirementsCheckerService) {\n\t        _classCallCheck(this, PreScreenLoadingInterceptorsCallerService);\n\n\t        this.softwareRequirementsCheckerService = softwareRequirementsCheckerService;\n\t        this.languageAvailabilityCheckerService = languageAvailabilityCheckerService;\n\t    }\n\n\t    _createClass(PreScreenLoadingInterceptorsCallerService, [{\n\t        key: \"intercept\",\n\t        value: function intercept() {\n\t            this.softwareRequirementsCheckerService.checkSoftwareRequirements();\n\t            this.languageAvailabilityCheckerService.selectLanguageIfMissing();\n\t        }\n\t    }]);\n\n\t    return PreScreenLoadingInterceptorsCallerService;\n\t})();\n\n\texports[\"default\"] = PreScreenLoadingInterceptorsCallerService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 111 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _gamePersistenceGamePersistence = __webpack_require__(112);\n\n\tvar _gamePersistenceGamePersistence2 = _interopRequireDefault(_gamePersistenceGamePersistence);\n\n\tvar _adventurePersistenceAdventurePersistence = __webpack_require__(114);\n\n\tvar _adventurePersistenceAdventurePersistence2 = _interopRequireDefault(_adventurePersistenceAdventurePersistence);\n\n\tvar _libraryPersistenceLibraryPersistence = __webpack_require__(116);\n\n\tvar _libraryPersistenceLibraryPersistence2 = _interopRequireDefault(_libraryPersistenceLibraryPersistence);\n\n\tvar _persistenceService = __webpack_require__(118);\n\n\tvar _persistenceService2 = _interopRequireDefault(_persistenceService);\n\n\tvar persistenceModule = _angular2['default'].module('app.components.services.persistence', [_gamePersistenceGamePersistence2['default'].name, _adventurePersistenceAdventurePersistence2['default'].name, _libraryPersistenceLibraryPersistence2['default'].name]).service('persistenceService', _persistenceService2['default']);\n\n\texports['default'] = persistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 112 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _gamePersistenceService = __webpack_require__(113);\n\n\tvar _gamePersistenceService2 = _interopRequireDefault(_gamePersistenceService);\n\n\tvar gamePersistenceModule = _angular2['default'].module('app.components.services.persistence.game', []).service('gamePersistenceService', _gamePersistenceService2['default']);\n\n\texports['default'] = gamePersistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 113 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar GamePersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    GamePersistenceService.$inject = [\"constants\", \"persistenceService\", \"adventurePersistenceService\", \"messagesService\"];\n\t    function GamePersistenceService(constants, persistenceService, adventurePersistenceService, messagesService) {\n\t        _classCallCheck(this, GamePersistenceService);\n\n\t        this.persistenceService = persistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.constants = constants;\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(GamePersistenceService, [{\n\t        key: 'getSelectedLanguage',\n\t        value: function getSelectedLanguage() {\n\t            return this.persistenceService.get(this.constants.data.selectedLanguage);\n\t        }\n\t    }, {\n\t        key: 'setSelectedLanguage',\n\t        value: function setSelectedLanguage(language) {\n\t            this.persistenceService.save(this.constants.data.selectedLanguage, language);\n\t        }\n\t    }, {\n\t        key: 'addGame',\n\t        value: function addGame(game) {\n\t            var savedGame = {\n\t                id: this.newGameId(),\n\t                playerName: game.playerName,\n\t                adventureId: game.adventureId,\n\t                items: game.items,\n\t                stats: game.stats,\n\t                currentParagraphNr: game.currentParagraphNr\n\t            };\n\n\t            savedGame.stats = [];\n\t            for (var i = 0; i < game.stats.length; i++) {\n\t                savedGame.stats.push({ name: game.stats[i].name, initial: game.stats[i].value, current: game.stats[i].value });\n\t            }\n\n\t            this.updateGame(savedGame);\n\t            return savedGame;\n\t        }\n\t    }, {\n\t        key: 'importGame',\n\t        value: function importGame(gameAsStr) {\n\t            try {\n\t                var game = JSON.parse(gameAsStr);\n\t                var missingMandatoryFields = [];\n\t                if (!game.id) {\n\t                    missingMandatoryFields.push('id');\n\t                }\n\t                if (!game.playerName) {\n\t                    missingMandatoryFields.push('playerName');\n\t                }\n\t                if (!game.adventureId) {\n\t                    missingMandatoryFields.push('adventureId');\n\t                }\n\t                if (!game.currentParagraphNr) {\n\t                    missingMandatoryFields.push('currentParagraphNr');\n\t                }\n\n\t                if (missingMandatoryFields.length > 0) {\n\t                    this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n\t                } else if (!!this.getGame(game.id)) {\n\t                    this.messagesService.errorMessage(\"The game already exists with id '\" + game.id + \"'\", false);\n\t                } else {\n\t                    this.updateGame(game);\n\t                }\n\t            } catch (error) {\n\t                this.messagesService.errorMessage('Cannot import game', false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateGame',\n\t        value: function updateGame(game) {\n\t            if (!game) {\n\t                return;\n\t            }\n\t            game = JSON.parse(JSON.stringify(game));\n\n\t            var key = this.getGamePersistenceKey(game.id);\n\t            if (!!game.items) {\n\t                for (var i = 0; i < game.items.length; i++) {\n\t                    delete game.items[i]['$$hashKey'];\n\t                }\n\t            }\n\t            this.persistenceService.save(key, game);\n\t        }\n\t    }, {\n\t        key: 'deleteGame',\n\t        value: function deleteGame(gameId, deleteParagraphNotesOfGame, deleteParagraphChoicesOfGame) {\n\t            var game = this.getGame(gameId);\n\t            var key = this.getGamePersistenceKey(gameId);\n\t            if (!!deleteParagraphNotesOfGame || !!deleteParagraphChoicesOfGame) {\n\t                var paragraphKeys = this.adventurePersistenceService.getAdventureParagraphKeys(game.adventureId);\n\t                for (var i = 0; i < paragraphKeys.length; i++) {\n\t                    var paragraph = this.persistenceService.get(paragraphKeys[i]);\n\t                    if (!!deleteParagraphNotesOfGame && !!paragraph.notes) {\n\t                        var newNotes = [];\n\t                        for (var j = 0; j < paragraph.notes.length; j++) {\n\t                            if (!paragraph.notes[j].playerName || paragraph.notes[j].playerName !== game.playerName) {\n\t                                newNotes.push(paragraph.notes[j]);\n\t                            }\n\t                        }\n\t                        paragraph.notes = newNotes;\n\t                        this.adventurePersistenceService.updateParagraph(game.adventureId, paragraph);\n\t                    }\n\t                    if (!!deleteParagraphChoicesOfGame) {\n\t                        // TODO\n\t                    }\n\t                }\n\t            }\n\t            localStorage.removeItem(key);\n\t        }\n\t    }, {\n\t        key: 'newGameId',\n\t        value: function newGameId() {\n\t            return new Date().getTime().toString();\n\t        }\n\t    }, {\n\t        key: 'getUrlOfGame',\n\t        value: function getUrlOfGame(gameId, paragraphNr) {\n\t            var game = this.getGame(gameId);\n\t            if (!paragraphNr) {\n\t                paragraphNr = game.currentParagraphNr;\n\t            }\n\t            var urlOfGame = \"/\" + encodeURIComponent(game.adventureId) + \"/\" + encodeURIComponent(paragraphNr) + \"/game/\" + encodeURIComponent(game.id);\n\t            return urlOfGame;\n\t        }\n\t    }, {\n\t        key: 'getGame',\n\t        value: function getGame(gameId) {\n\t            var key = this.getGamePersistenceKey(gameId);\n\t            return this.persistenceService.get(key);\n\t        }\n\t    }, {\n\t        key: 'getGamePersistenceKeys',\n\t        value: function getGamePersistenceKeys() {\n\t            return this.persistenceService.findKeysWithPrefix(this.constants.data.game);\n\t        }\n\t    }, {\n\t        key: 'getGamePersistenceKey',\n\t        value: function getGamePersistenceKey(gameId) {\n\t            var key = gameId;\n\t            if (!key.startsWith(this.constants.data.game)) {\n\t                key = this.constants.data.game + \".\" + key;\n\t            }\n\t            return key;\n\t        }\n\t    }, {\n\t        key: 'setCurrentParagraphNrOfGame',\n\t        value: function setCurrentParagraphNrOfGame(gameId, fromParagrahNr, toParagraphNr) {\n\t            var game = this.getGame(gameId);\n\t            if (!!fromParagrahNr) {\n\t                var persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n\t                var choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n\t                if (!choosenParagraphs) {\n\t                    choosenParagraphs = {};\n\t                }\n\t                var keyArray = toParagraphNr;\n\t                var choosenBy = choosenParagraphs[keyArray];\n\t                if (!choosenBy) {\n\t                    choosenBy = [];\n\t                    choosenParagraphs[keyArray] = choosenBy;\n\t                }\n\t                if (choosenBy.indexOf(gameId) === -1) {\n\t                    choosenBy.push(gameId);\n\t                    this.persistenceService.save(persistenceKeyChoosenParagraphs, choosenParagraphs);\n\t                }\n\t            }\n\t            game.currentParagraphNr = toParagraphNr;\n\t            if (!game.path) {\n\t                game.path = [];\n\t            }\n\t            game.path.push(toParagraphNr);\n\t            this.updateGame(game);\n\t        }\n\t    }, {\n\t        key: 'getChoosenChoices',\n\t        value: function getChoosenChoices(gameId, paragraphNr) {\n\t            var game = this.getGame(gameId);\n\t            var persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n\t            var choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n\t            if (!choosenParagraphs) {\n\t                return [];\n\t            } else {\n\t                var paragraph = this.adventurePersistenceService.getParagraph(game.adventureId, paragraphNr);\n\t                var choosen = [];\n\t                if (!!paragraph.choices) {\n\t                    for (var i = 0; i < paragraph.choices.length; i++) {\n\t                        var keyArray = paragraph.choices[i].paragraphNr;\n\t                        if (!!choosenParagraphs[keyArray]) {\n\t                            choosen.push(paragraph.choices[i].paragraphNr);\n\t                        }\n\t                    }\n\t                }\n\t                return choosen;\n\t            }\n\t        }\n\t    }]);\n\n\t    return GamePersistenceService;\n\t})();\n\n\texports['default'] = GamePersistenceService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 114 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _adventurePersistenceService = __webpack_require__(115);\n\n\tvar _adventurePersistenceService2 = _interopRequireDefault(_adventurePersistenceService);\n\n\tvar adventurePersistenceModule = _angular2['default'].module('app.components.services.persistence.adventure', []).service('adventurePersistenceService', _adventurePersistenceService2['default']);\n\n\texports['default'] = adventurePersistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 115 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdventurePersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    AdventurePersistenceService.$inject = [\"constants\", \"persistenceService\", \"messagesService\", \"$translate\", \"$q\", \"remoteJsonRetrieverService\"];\n\t    function AdventurePersistenceService(constants, persistenceService, messagesService, $translate, $q, remoteJsonRetrieverService) {\n\t        _classCallCheck(this, AdventurePersistenceService);\n\n\t        this.constants = constants;\n\t        this.persistenceService = persistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.$q = $q;\n\t        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n\t    }\n\n\t    _createClass(AdventurePersistenceService, [{\n\t        key: 'downloadAdventure',\n\t        value: function downloadAdventure(adventure) {\n\t            var self = this;\n\t            var deferred = this.$q.defer();\n\t            var promise = this.remoteJsonRetrieverService.retrieveJson(adventure.downloadUrl);\n\t            promise.then(function (json) {\n\t                // TODO\n\t                //                library.downloadHistory.push(self.now() + ' : downloaded');\n\t                //                self.updateLibrary(library);\n\t                //                self.adventurePersistenceService.updateDownloadableAdventures(json);\n\t                //                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n\t                deferred.resolve('Success');\n\t            }, function (reason) {\n\t                // TODO\n\t                //                library.downloadHistory.push(self.now() + ' : error');\n\t                //                self.updateLibrary(library);\n\t                //                self.messagesService.errorMessage(reason, false);\n\t                deferred.reject(reason);\n\t            });\n\t            return deferred.promise;\n\t        }\n\t    }, {\n\t        key: 'now',\n\t        value: function now() {\n\t            var now = new Date();\n\t            return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n\t        }\n\t    }, {\n\t        key: 'updateDownloadableAdventures',\n\t        value: function updateDownloadableAdventures(adventures) {\n\t            if (!!adventures) {\n\t                for (var i = 0; i < adventures.length; i++) {\n\t                    this.updateDownloadableAdventure(adventures[i]);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateDownloadableAdventure',\n\t        value: function updateDownloadableAdventure(adventure) {\n\t            try {\n\t                this.updateAdventureWithoutParagraphs(adventure);\n\t            } catch (error) {\n\t                if (this.constants.errors.adventureAlreadyExist === error) {\n\t                    var existingAdventure = this.getAdventure(adventure.id);\n\t                    existingAdventure.downloadUrl = adventure.downloadUrl;\n\t                    this.updateAdventureWithoutParagraphs(existingAdventure);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getAdventuresOverview',\n\t        value: function getAdventuresOverview() {\n\t            var keys = this.getAdventurePersistenceKeys();\n\t            var adventures = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                var adventure = this.persistenceService.get(keys[i]);\n\t                adventures.push({\n\t                    id: adventure.id,\n\t                    name: adventure.name,\n\t                    numberOfParagraphs: adventure.numberOfParagraphs,\n\t                    language: adventure.language,\n\t                    version: adventure.version,\n\t                    authors: adventure.authors,\n\t                    serie: adventure.serie,\n\t                    downloadUrl: adventure.downloadUrl\n\t                });\n\t            }\n\t            return adventures;\n\t        }\n\t    }, {\n\t        key: 'getAdventurePersistenceKeys',\n\t        value: function getAdventurePersistenceKeys() {\n\t            var keys = Object.keys(localStorage);\n\t            var result = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') === -1) {\n\t                    result.push(keys[i]);\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: 'getAdventure',\n\t        value: function getAdventure(adventureId) {\n\t            return this.persistenceService.get(this.getAdventurePersistenceKey(adventureId));\n\t        }\n\t    }, {\n\t        key: 'importAdventure',\n\t        value: function importAdventure(adventureAsStr) {\n\t            try {\n\t                var adventure = JSON.parse(adventureAsStr);\n\t                var missingMandatoryFields = [];\n\t                if (!adventure.id) {\n\t                    missingMandatoryFields.push('id');\n\t                }\n\t                if (!adventure.name) {\n\t                    missingMandatoryFields.push('name');\n\t                }\n\t                if (!adventure.authors) {\n\t                    missingMandatoryFields.push('authors');\n\t                }\n\t                if (!adventure.version) {\n\t                    missingMandatoryFields.push('version');\n\t                }\n\t                if (!adventure.language) {\n\t                    missingMandatoryFields.push('language');\n\t                }\n\t                if (!adventure.startParagraphNr) {\n\t                    missingMandatoryFields.push('startParagraphNr');\n\t                }\n\t                if (missingMandatoryFields.length > 0) {\n\t                    this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n\t                } else if (!!this.getAdventure(adventure.id)) {\n\t                    this.messagesService.errorMessage(\"The adventure already exists with id '\" + adventure.id + \"'\", false);\n\t                } else {\n\t                    this.updateAdventureWithoutParagraphs(adventure);\n\t                    if (!!adventure.paragraphs) {\n\t                        for (var i = 0; i < adventure.paragraphs.length; i++) {\n\t                            this.setParagraph(adventure.id, adventure.paragraphs[i], true);\n\t                        }\n\t                    }\n\t                }\n\t            } catch (error) {\n\t                this.messagesService.errorMessage('Cannot import adventure', false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateAdventureWithoutParagraphs',\n\t        value: function updateAdventureWithoutParagraphs(adventure) {\n\t            var adventureIdFromFromAdventureName = this.getAdventureIdFromAdventureName(adventure.name);\n\t            if (!adventure.id) {\n\t                adventure.id = adventureIdFromFromAdventureName;\n\t                var existingAdventure = this.getAdventure(adventureIdFromFromAdventureName);\n\t                if (!!existingAdventure) {\n\t                    throw this.constants.errors.adventureAlreadyExist;\n\t                }\n\t            }\n\t            var adventureInfo = {};\n\t            var keys = Object.keys(adventure);\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i] !== 'paragraphs') {\n\t                    adventureInfo[keys[i]] = adventure[keys[i]];\n\t                }\n\t            }\n\t            this.persistenceService.save(this.constants.data.adventure + \".\" + adventure.id, adventureInfo);\n\t        }\n\t    }, {\n\t        key: 'getAdventureIdFromAdventureName',\n\t        value: function getAdventureIdFromAdventureName(adventureName) {\n\t            return encodeURIComponent(adventureName.replace(/\\s+/g, '-').toLowerCase());\n\t        }\n\t    }, {\n\t        key: 'deleteAdventureAndParagraphs',\n\t        value: function deleteAdventureAndParagraphs(adventureId) {\n\t            this.persistenceService.remove(this.getAdventurePersistenceKey(adventureId));\n\t            var paragraphKeys = this.getAdventureParagraphKeys(adventureId);\n\t            for (var i = 0; i < paragraphKeys.length; i++) {\n\t                this.persistenceService.remove(paragraphKeys[i]);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setParagraph',\n\t        value: function setParagraph(adventureId, paragraph, checkDupplicate) {\n\t            var key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n\t            if (!!checkDupplicate) {\n\t                var existingParagraph = this.persistenceService.get(key);\n\t                if (!!existingParagraph) {\n\t                    this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraph\", { paragraphNr: paragraph.paragraphNr }), true);\n\t                    return;\n\t                }\n\t            }\n\t            this.checkDupplicateChoices(paragraph);\n\t            this.persistenceService.save(key, paragraph);\n\t        }\n\t    }, {\n\t        key: 'getOrCreateParagraph',\n\t        value: function getOrCreateParagraph(adventureId, paragraphNr) {\n\t            var foundParagraph = this.getParagraph(adventureId, paragraphNr);\n\t            if (!!foundParagraph) {\n\t                return foundParagraph;\n\t            } else {\n\t                var paragraph = {\n\t                    version: this.constants.version,\n\t                    adventureId: adventureId,\n\t                    paragraphNr: new Number(paragraphNr),\n\t                    description: '',\n\t                    choices: []\n\t                };\n\t                this.updateParagraph(adventureId, paragraph);\n\t                return paragraph;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getParagraph',\n\t        value: function getParagraph(adventureId, paragraphNr) {\n\t            var key = this.getParagraphPersistenceKey(adventureId, paragraphNr);\n\t            return this.persistenceService.get(key);\n\t        }\n\t    }, {\n\t        key: 'updateParagraph',\n\t        value: function updateParagraph(adventureId, paragraph) {\n\t            if (!paragraph) {\n\t                return;\n\t            }\n\t            paragraph = JSON.parse(JSON.stringify(paragraph));\n\t            var key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n\t            if (!!paragraph.choices) {\n\t                for (var i = 0; i < paragraph.choices.length; i++) {\n\t                    delete paragraph.choices[i]['$$hashKey'];\n\t                }\n\t            }\n\t            this.checkDupplicateChoices(paragraph);\n\t            this.persistenceService.save(key, paragraph);\n\t        }\n\t    }, {\n\t        key: 'checkDupplicateChoices',\n\t        value: function checkDupplicateChoices(paragraph) {\n\t            if (!!paragraph && !!paragraph.choices) {\n\t                var choices = [];\n\t                for (var i = 0; i < paragraph.choices.length; i++) {\n\t                    if (choices.indexOf(paragraph.choices[i].paragraphNr) !== -1) {\n\t                        this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraphChoices\", { paragraphNr: paragraph.paragraphNr, choiceParagraphNr: paragraph.choices[i].paragraphNr }), true);\n\t                    }\n\t                    choices.push(paragraph.choices[i].paragraphNr);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getAdventureParagraphKeys',\n\t        value: function getAdventureParagraphKeys(adventureId) {\n\t            var paragraphKeys = [];\n\t            var keys = Object.keys(localStorage);\n\t            var keyAdventureId = this.constants.data.adventure + '.' + adventureId;\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') !== -1) {\n\t                    var adventureIdInKey = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n\t                    if (adventureIdInKey === keyAdventureId) {\n\t                        paragraphKeys.push(keys[i]);\n\t                    }\n\t                }\n\t            }\n\t            return paragraphKeys;\n\t        }\n\t    }, {\n\t        key: 'getParagraphPersistenceKey',\n\t        value: function getParagraphPersistenceKey(adventureId, paragraphNr) {\n\t            return this.getAdventurePersistenceKey(adventureId) + \".paragraph.\" + paragraphNr;\n\t        }\n\t    }, {\n\t        key: 'getAdventurePersistenceKey',\n\t        value: function getAdventurePersistenceKey(adventureId) {\n\t            var key = adventureId;\n\t            if (!key.startsWith(this.constants.data.adventure + \".\")) {\n\t                key = this.constants.data.adventure + \".\" + key;\n\t            }\n\t            return key;\n\t        }\n\t    }, {\n\t        key: 'exportAdventure',\n\t        value: function exportAdventure(adventureId) {\n\t            var adventure = this.getAdventure(adventureId);\n\t            adventure.paragraphs = [];\n\n\t            var keys = Object.keys(localStorage);\n\t            var adventureIdKeyPrefix = this.constants.data.adventure + '.' + adventureId;\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(adventureIdKeyPrefix + \".paragraph\") !== -1) {\n\t                    var currentAdventureIdPrefix = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n\t                    if (currentAdventureIdPrefix === adventureIdKeyPrefix) {\n\t                        var paragraph = this.persistenceService.get(keys[i]);\n\t                        if (!!paragraph) {\n\t                            delete paragraph.version;\n\t                            delete paragraph.adventureId;\n\t                            adventure.paragraphs.push(paragraph);\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            adventure.paragraphs = this.sortParagraphs(adventure.paragraphs);\n\t            return adventure;\n\t        }\n\t    }, {\n\t        key: 'sortParagraphs',\n\t        value: function sortParagraphs(paragraphs) {\n\t            return paragraphs.sort(this.compareParagraph);\n\t        }\n\t    }, {\n\t        key: 'compareParagraph',\n\t        value: function compareParagraph(p1, p2) {\n\t            if (!p1 && !p2) {\n\t                return 0;\n\t            } else if (!p1) {\n\t                return 1;\n\t            } else if (!p2) {\n\t                return -1;\n\t            } else {\n\t                return p1.paragraphNr - p2.paragraphNr;\n\t            }\n\t        }\n\t    }]);\n\n\t    return AdventurePersistenceService;\n\t})();\n\n\texports['default'] = AdventurePersistenceService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 116 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _libraryPersistenceService = __webpack_require__(117);\n\n\tvar _libraryPersistenceService2 = _interopRequireDefault(_libraryPersistenceService);\n\n\tvar libraryPersistenceModule = _angular2['default'].module('app.components.services.persistence.library', []).service('libraryPersistenceService', _libraryPersistenceService2['default']);\n\n\texports['default'] = libraryPersistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 117 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar LibraryPersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    LibraryPersistenceService.$inject = [\"constants\", \"persistenceService\", \"messagesService\", \"remoteJsonRetrieverService\", \"$q\", \"$filter\", \"adventurePersistenceService\"];\n\t    function LibraryPersistenceService(constants, persistenceService, messagesService, remoteJsonRetrieverService, $q, $filter, adventurePersistenceService) {\n\t        _classCallCheck(this, LibraryPersistenceService);\n\n\t        this.persistenceService = persistenceService;\n\t        this.constants = constants;\n\t        this.messagesService = messagesService;\n\t        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n\t        this.$q = $q;\n\t        this.$filter = $filter;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t    }\n\n\t    _createClass(LibraryPersistenceService, [{\n\t        key: 'downloadLibrary',\n\t        value: function downloadLibrary(library) {\n\t            var self = this;\n\t            var deferred = this.$q.defer();\n\t            var promise = this.remoteJsonRetrieverService.retrieveJson(library.libraryUrl);\n\t            promise.then(function (json) {\n\t                library.downloadHistory.push(self.now() + ' : downloaded');\n\t                self.updateLibrary(library);\n\t                self.adventurePersistenceService.updateDownloadableAdventures(json);\n\t                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n\t                deferred.resolve('Success');\n\t            }, function (reason) {\n\t                library.downloadHistory.push(self.now() + ' : error');\n\t                self.updateLibrary(library);\n\t                self.messagesService.errorMessage(reason, false);\n\t                deferred.reject(reason);\n\t            });\n\t            return deferred.promise;\n\t        }\n\t    }, {\n\t        key: 'now',\n\t        value: function now() {\n\t            var now = new Date();\n\t            return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n\t        }\n\t    }, {\n\t        key: 'deleteLibrary',\n\t        value: function deleteLibrary(libraryId) {\n\t            this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n\t        }\n\t    }, {\n\t        key: 'importLibraries',\n\t        value: function importLibraries(librariesStr) {\n\t            try {\n\t                var libraries = JSON.parse(librariesStr);\n\t                this.checkMissingFields(libraries);\n\t                for (var i = 0; i < libraries.length; i++) {\n\t                    var library = libraries[i];\n\t                    this.updateLibrary(library);\n\t                }\n\t            } catch (error) {\n\t                this.messagesService.errorMessage('Cannot import libraries', false);\n\t                throw error;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'checkMissingFields',\n\t        value: function checkMissingFields(libraries) {\n\t            for (var i = 0; i < libraries.length; i++) {\n\t                var library = libraries[i];\n\t                var missingMandatoryFields = [];\n\t                if (!library.siteName) {\n\t                    missingMandatoryFields.push('siteName');\n\t                }\n\t                if (!library.libraryUrl) {\n\t                    missingMandatoryFields.push('libraryUrl');\n\t                }\n\t                if (missingMandatoryFields.length > 0) {\n\t                    this.messagesService.errorMessage('Cannot import a library because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n\t                    throw this.constants.errors.missingMandatoryFields;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateLibrary',\n\t        value: function updateLibrary(library) {\n\t            if (!library.id) {\n\t                this.checkDupplicateLibrary(library);\n\t                library.id = this.getIdFromLibrarySiteName(library.siteName);\n\t            }\n\t            if (!library.downloadHistory) {\n\t                library.downloadHistory = [];\n\t                library.downloadHistory.push('Not downloaded yet');\n\t            }\n\t            this.persistenceService.save(this.getLibraryPersistenceKey(library.id), library);\n\t        }\n\t    }, {\n\t        key: 'getIdFromLibrarySiteName',\n\t        value: function getIdFromLibrarySiteName(siteName) {\n\t            return encodeURIComponent(siteName.replace(/\\s+/g, '-').toLowerCase()) + new Date().getTime().toString();\n\t        }\n\t    }, {\n\t        key: 'checkDupplicateLibrary',\n\t        value: function checkDupplicateLibrary(library) {\n\t            if (!!library.libraryUrl) {\n\t                var libraries = this.getLibraries();\n\t                for (var i = 0; i < libraries.length; i++) {\n\t                    if (library.libraryUrl === libraries[i].libraryUrl) {\n\t                        throw this.constants.errors.libraryAlreadyExist;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'exportLibraries',\n\t        value: function exportLibraries() {\n\t            var libraries = this.getLibraries();\n\t            for (var i = 0; i < libraries.length; i++) {\n\t                delete libraries[i].id;\n\t                delete libraries[i].lastDownload;\n\t            }\n\t            return JSON.stringify(libraries);\n\t        }\n\t    }, {\n\t        key: 'getLibraries',\n\t        value: function getLibraries() {\n\t            var result = [];\n\t            var keys = this.getLibraryPersistenceKeys();\n\t            for (var i = 0; i < keys.length; i++) {\n\t                result.push(this.getLibrary(keys[i]));\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: 'getLibraryPersistenceKeys',\n\t        value: function getLibraryPersistenceKeys() {\n\t            var keys = Object.keys(localStorage);\n\t            var result = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(this.constants.data.library)) {\n\t                    result.push(keys[i]);\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: 'getLibrary',\n\t        value: function getLibrary(libraryId) {\n\t            return this.persistenceService.get(this.getLibraryPersistenceKey(libraryId));\n\t        }\n\t    }, {\n\t        key: 'deleteLibrary',\n\t        value: function deleteLibrary(libraryId) {\n\t            this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n\t        }\n\t    }, {\n\t        key: 'getLibraryPersistenceKey',\n\t        value: function getLibraryPersistenceKey(libraryId) {\n\t            var key = libraryId;\n\t            if (!key.startsWith(this.constants.data.library)) {\n\t                key = this.constants.data.library + \".\" + key;\n\t            }\n\t            return key;\n\t        }\n\t    }]);\n\n\t    return LibraryPersistenceService;\n\t})();\n\n\texports['default'] = LibraryPersistenceService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 118 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    PersistenceService.$inject = [\"softwareRequirementsCheckerService\", \"messagesService\"];\n\t    function PersistenceService(softwareRequirementsCheckerService, messagesService) {\n\t        _classCallCheck(this, PersistenceService);\n\n\t        this.isLocalStorageSupported = softwareRequirementsCheckerService.isLocalStorageSupported();\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(PersistenceService, [{\n\t        key: \"findKeysWithPrefix\",\n\t        value: function findKeysWithPrefix(keyPrefix) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return null;\n\t            }\n\t            var keys = Object.keys(localStorage);\n\t            var result = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(keyPrefix)) {\n\t                    result.push(keys[i]);\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: \"get\",\n\t        value: function get(key) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return null;\n\t            }\n\t            var value = localStorage.getItem(key);\n\t            if (value === null || value === \"undefined\" || value === undefined) {\n\t                return null;\n\t            } else {\n\t                try {\n\t                    return JSON.parse(value);\n\t                } catch (e) {\n\t                    // cannot be parsed, must be a string\n\t                    return value;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: \"save\",\n\t        value: function save(key, value) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            if (typeof value === 'string') {\n\t                localStorage.setItem(key, value);\n\t            } else {\n\t                localStorage.setItem(key, JSON.stringify(value));\n\t            }\n\t        }\n\t    }, {\n\t        key: \"remove\",\n\t        value: function remove(key) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            localStorage.removeItem(key);\n\t        }\n\t    }, {\n\t        key: \"import\",\n\t        value: function _import(importDataAsJson) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            this.cleanAllData();\n\t            var importData = JSON.parse(importDataAsJson);\n\t            var keys = Object.keys(importData);\n\t            for (var i = 0; i < keys.length; i++) {\n\t                this.save(keys[i], importData[keys[i]]);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"export\",\n\t        value: function _export() {\n\t            return JSON.stringify(localStorage);\n\t        }\n\t    }, {\n\t        key: \"cleanAllData\",\n\t        value: function cleanAllData() {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            localStorage.clear();\n\t        }\n\t    }, {\n\t        key: \"getUsedCapacity\",\n\t        value: function getUsedCapacity() {\n\t            if (!this.isLocalStorageSupported) {\n\t                return 0;\n\t            }\n\t            return unescape(encodeURIComponent(JSON.stringify(localStorage))).length;\n\t        }\n\t    }, {\n\t        key: \"getRemainingCapacity\",\n\t        value: function getRemainingCapacity() {\n\t            var b10 = \"0123456789\";\n\t            var b100 = this.repeat(b10, 10);\n\t            var b1000 = this.repeat(b100, 10);\n\t            var b10k = this.repeat(b1000, 10);\n\t            var b100k = this.repeat(b10k, 10);\n\t            var b1M = this.repeat(b100k, 10);\n\t            var buffers = [b1M, b100k, b10k, b1000, b100, b10];\n\t            for (var i = 0; i < buffers.length; i++) {\n\t                while (this.setLocalStorageWithoutError(buffers[i])) {}\n\t            }\n\t            var capacity = this.getUsedCapacity();\n\t            delete localStorage.test;\n\t            return capacity;\n\t        }\n\t    }, {\n\t        key: \"getUsedCapacityInPercent\",\n\t        value: function getUsedCapacityInPercent() {\n\t            var usedCapacity = this.getUsedCapacity();\n\t            var remainingCapacity = this.getRemainingCapacity();\n\t            var available = usedCapacity + remainingCapacity;\n\t            return usedCapacity / available * 100;\n\t        }\n\t    }, {\n\t        key: \"setLocalStorageWithoutError\",\n\t        value: function setLocalStorageWithoutError(value) {\n\t            try {\n\t                localStorage.test = localStorage.test + value;\n\t                return true;\n\t            } catch (e) {\n\t                return false;\n\t            }\n\t        }\n\t    }, {\n\t        key: \"repeat\",\n\t        value: function repeat(string, count) {\n\t            var array = [];\n\t            while (count--) {\n\t                array.push(string);\n\t            }\n\t            return array.join('');\n\t        }\n\t    }]);\n\n\t    return PersistenceService;\n\t})();\n\n\texports[\"default\"] = PersistenceService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 119 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _dicesService = __webpack_require__(120);\n\n\tvar _dicesService2 = _interopRequireDefault(_dicesService);\n\n\tvar dicesModule = _angular2['default'].module('app.components.services.dices', []).service('dicesService', _dicesService2['default']);\n\n\texports['default'] = dicesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 120 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar DicesService = (function () {\n\n\t    /*@ngInject*/\n\n\t    function DicesService() {\n\t        _classCallCheck(this, DicesService);\n\t    }\n\n\t    _createClass(DicesService, [{\n\t        key: \"rollDices\",\n\t        value: function rollDices(qty, maxDiceValue) {\n\t            var dicesValue = 0;\n\t            for (var i = 0; i < qty; i++) {\n\t                dicesValue = dicesValue + this.randomIntInclusive(1, maxDiceValue);\n\t            }\n\t            return dicesValue;\n\t        }\n\t    }, {\n\t        key: \"randomIntInclusive\",\n\t        value: function randomIntInclusive(min, max) {\n\t            return Math.floor(Math.random() * (max - min + 1)) + min;\n\t        }\n\t    }]);\n\n\t    return DicesService;\n\t})();\n\n\texports[\"default\"] = DicesService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 121 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _formHelperService = __webpack_require__(122);\n\n\tvar _formHelperService2 = _interopRequireDefault(_formHelperService);\n\n\tvar formHelperModule = _angular2['default'].module('app.components.services.form-helper', []).service('formHelperService', _formHelperService2['default']);\n\n\texports['default'] = formHelperModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 122 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar FormHelperService = (function () {\n\n\t    /*@ngInject*/\n\n\t    FormHelperService.$inject = [\"messagesService\"];\n\t    function FormHelperService(messagesService) {\n\t        _classCallCheck(this, FormHelperService);\n\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(FormHelperService, [{\n\t        key: 'setErrorFieldsAsDirty',\n\t        value: function setErrorFieldsAsDirty(form, withMessage) {\n\t            if (form.$invalid) {\n\t                if (!!withMessage) {\n\t                    this.messagesService.errorMessage('Please complete mandatory fields', false);\n\t                }\n\n\t                // error \"dirty\" field will be hightlighted (see app.css)\n\t                angular.forEach(form.$error, function (type) {\n\t                    angular.forEach(type, function (field) {\n\t                        field.$setDirty();\n\t                    });\n\t                });\n\t            }\n\t        }\n\t    }]);\n\n\t    return FormHelperService;\n\t})();\n\n\texports['default'] = FormHelperService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 123 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _remoteJsonRetrieverService = __webpack_require__(124);\n\n\tvar _remoteJsonRetrieverService2 = _interopRequireDefault(_remoteJsonRetrieverService);\n\n\tvar remoteJsonRetrieverModule = _angular2['default'].module('app.components.services.remote-json-retriever', []).service('remoteJsonRetrieverService', _remoteJsonRetrieverService2['default']);\n\n\texports['default'] = remoteJsonRetrieverModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 124 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar RemoteJsonRetrieverService = (function () {\n\n\t    /*@ngInject*/\n\n\t    RemoteJsonRetrieverService.$inject = [\"$http\", \"$q\"];\n\t    function RemoteJsonRetrieverService($http, $q) {\n\t        _classCallCheck(this, RemoteJsonRetrieverService);\n\n\t        this.$http = $http;\n\t        this.$q = $q;\n\t    }\n\n\t    _createClass(RemoteJsonRetrieverService, [{\n\t        key: 'retrieveJson',\n\t        value: function retrieveJson(jsonUrl) {\n\t            var deferred = this.$q.defer();\n\t            this.$http.get(jsonUrl).then(function successCallback(response) {\n\t                if (!!response && !!response.data) {\n\t                    deferred.resolve(response.data);\n\t                } else {\n\t                    deferred.reject('Cannot get data from ' + jsonUrl);\n\t                }\n\t            }, function errorCallback(response) {\n\t                deferred.reject('Cannot get data from ' + jsonUrl);\n\t            });\n\t            return deferred.promise;\n\t        }\n\t    }]);\n\n\t    return RemoteJsonRetrieverService;\n\t})();\n\n\texports['default'] = RemoteJsonRetrieverService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 125 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar constantsModule = _angular2['default'].module('app.components.constants', []).constant('constants', {\n\t    version: '20161002',\n\t    supportedLanguages: ['en', 'fr'],\n\t    data: {\n\t        selectedLanguage: 'selectedLanguage',\n\t        adventure: 'adventure',\n\t        game: 'game',\n\t        library: 'library'\n\t    },\n\t    url: {\n\t        battle: '/battle',\n\t        chooseLanguage: '/choose-language',\n\t        administration: '/administration',\n\t        games: '/games',\n\t        root: '/',\n\t        selectAdventureForNewGame: '/games/create/select-adventure',\n\t        createPlayerForNewGame: '/games/create/create-player',\n\t        chooseItemsForNewGame: '/games/create/choose-items',\n\t        gameDetail: '/{adventureId}/{paragraphNr}/game/{gameId}',\n\t        about: '/about?admin',\n\t        adventures: '/adventures',\n\t        adventureDetail: '/adventures',\n\t        libraries: '/libraries',\n\t        libraryDetail: '/libraries'\n\t    },\n\t    choices: {\n\t        yes: 'Yes',\n\t        no: 'No',\n\t        ok: 'Ok',\n\t        cancel: 'Cancel'\n\t    },\n\t    errors: {\n\t        adventureAlreadyExist: 'error.adventureAlreadyExist',\n\t        libraryAlreadyExist: 'error.libraryAlreadyExist',\n\t        missingMandatoryFields: 'error.missingMandatoryFields'\n\t    }\n\t});\n\n\texports['default'] = constantsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 126 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Hauptkomponente der Angular-Applikation\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 23.10.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _appHtml = __webpack_require__(127);\n\n\tvar _appHtml2 = _interopRequireDefault(_appHtml);\n\n\t__webpack_require__(128);\n\n\tvar appComponent = function appComponent() {\n\t    return {\n\t        template: _appHtml2['default'], restrict: 'E'\n\t    };\n\t};\n\n\texports['default'] = appComponent;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 127 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div ui-view></div>\"\n\n/***/ },\n/* 128 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\n\t// load the styles\n\tvar content = __webpack_require__(129);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(131)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./app.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./app.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(130)();\n\t// imports\n\n\n\t// module\n\texports.push([module.id, \"body{padding-top:70px}.ng-invalid.ng-dirty:required{background-color:#f99!important}.error{color:#f99}.spacer{margin:0;padding:0;height:10px}.table-borderless tbody tr td,.table-borderless tbody tr th,.table-borderless thead tr th{border:none}.editable-div{height:auto;min-height:34px}.modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:30%}.close{float:right}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}\", \"\"]);\n\n\t// exports\n\n\n/***/ },\n/* 130 */,\n/* 131 */,\n/* 132 */\n/***/ function(module, exports) {\n\n\t/*! http://mths.be/startswith v0.2.0 by @mathias */\n\tif (!String.prototype.startsWith) {\n\t\t(function() {\n\t\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\t\tvar defineProperty = (function() {\n\t\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\t\ttry {\n\t\t\t\t\tvar object = {};\n\t\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t\t} catch(error) {}\n\t\t\t\treturn result;\n\t\t\t}());\n\t\t\tvar toString = {}.toString;\n\t\t\tvar startsWith = function(search) {\n\t\t\t\tif (this == null) {\n\t\t\t\t\tthrow TypeError();\n\t\t\t\t}\n\t\t\t\tvar string = String(this);\n\t\t\t\tif (search && toString.call(search) == '[object RegExp]') {\n\t\t\t\t\tthrow TypeError();\n\t\t\t\t}\n\t\t\t\tvar stringLength = string.length;\n\t\t\t\tvar searchString = String(search);\n\t\t\t\tvar searchLength = searchString.length;\n\t\t\t\tvar position = arguments.length > 1 ? arguments[1] : undefined;\n\t\t\t\t// `ToInteger`\n\t\t\t\tvar pos = position ? Number(position) : 0;\n\t\t\t\tif (pos != pos) { // better `isNaN`\n\t\t\t\t\tpos = 0;\n\t\t\t\t}\n\t\t\t\tvar start = Math.min(Math.max(pos, 0), stringLength);\n\t\t\t\t// Avoid the `indexOf` call if no match is possible\n\t\t\t\tif (searchLength + start > stringLength) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar index = -1;\n\t\t\t\twhile (++index < searchLength) {\n\t\t\t\t\tif (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (defineProperty) {\n\t\t\t\tdefineProperty(String.prototype, 'startsWith', {\n\t\t\t\t\t'value': startsWith,\n\t\t\t\t\t'configurable': true,\n\t\t\t\t\t'writable': true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tString.prototype.startsWith = startsWith;\n\t\t\t}\n\t\t}());\n\t}\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/","/**\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n *\n * ESTA WebJS: Angular-Modul der Hauptkomponente\n *\n * @author u220374 (Reto Lehmann)\n * @version: 0.0.1\n * @since 23.10.2015, 2015.\n */\n\nimport i18n_en from './i18n/en.js';\nimport i18n_fr from './i18n/fr.js';\n\n// Vendor-Imports\nimport angular from 'angular';\nimport uiRouter from 'angular-ui-router';\nimport ngTranslate from 'angular-translate';\nimport uiBootstrap from 'angular-ui-bootstrap';\n\n// Interne Modul-Imports\nimport Components from './components/components';\nimport AppComponent from './app.component';\n\n// A robust & optimized ES3-compatible polyfill for the String.prototype.startsWith method in ECMAScript 6\nrequire('string.prototype.startswith');\n\nangular.module('app', [\n    uiRouter, ngTranslate, uiBootstrap, Components.name\n    ])\n\n    .config(['$translateProvider', function ($translateProvider) {\n      $translateProvider.translations('en', i18n_en);\n      $translateProvider.translations('fr', i18n_fr);\n      $translateProvider.preferredLanguage('en');\n      $translateProvider.useSanitizeValueStrategy('escape');\n    }])\n\n    .config(['$compileProvider', function ($compileProvider) {\n        $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|file|blob):/);\n    }])\n\n    .directive('onReadFile', function ($parse) {\n    \treturn {\n    \t\trestrict: 'A',\n    \t\tscope: false,\n    \t\tlink: function(scope, element, attrs) {\n                var fn = $parse(attrs.onReadFile);\n\n    \t\t\telement.on('change', function(onChangeEvent) {\n    \t\t\t\tvar reader = new FileReader();\n\n    \t\t\t\treader.onload = function(onLoadEvent) {\n    \t\t\t\t\tscope.$apply(function() {\n    \t\t\t\t\t\tfn(scope, {$fileContent:onLoadEvent.target.result});\n    \t\t\t\t\t});\n    \t\t\t\t};\n\n    \t\t\t\treader.readAsText((onChangeEvent.srcElement || onChangeEvent.target).files[0]);\n    \t\t\t});\n    \t\t}\n    \t};\n    })\n\n    // Die App als Direktive exportieren\n    .directive('app', AppComponent);\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app.js\n **/","const englishTranslations = {\n    'yesno_true': 'yes',\n    'yesno_false': 'no',\n    'NumberOfParagraphs': '{{ (!!numberOfParagraphs ? numberOfParagraphs + \" paragraphs\" : \"\") }}',\n    'ChoiceAdventure': 'Select the adventure \"{{ adventureName }}\"',\n    'ChoosenAdventure': 'The adventure \"{{ adventureName }}\" is choosen',\n    'ChoiceGame': 'Select the game \"{{ adventureName }}\" of the player \"{{ playerName }}\"',\n    'ChoosenGame': 'The game \"{{ adventureName }}\" of the player \"{{ playerName }}\" is choosen',\n    'ChoiceLibrary': 'Select the library \"{{ siteName }}\"',\n    'ChoosenLibrary': 'The library \"{{ siteName }}\" is choosen',\n    'DupplicateParagraph': 'The paragraph \"{{paragraphNr}}\" already exist',\n    'ExportGame': \"Export the game of '{{playerName}}' from the adventure '{{adventureName}}'\",\n    'ExportAdventure': \"Export the adventure of '{{adventureName}}'\",\n    'export_file': 'Download file',\n    'export_email': 'Sent email',\n    'export_text': 'Text',\n    'import_file': 'Upload file',\n    'import_text': 'Text',\n    'error.adventureAlreadyExist': 'Adventure already exists',\n    'error.libraryAlreadyExist': 'Library already exists (JSON url)'\n};\n\nexport {englishTranslations as default};\n\n\n/** WEBPACK FOOTER **\n ** ./i18n/en.js\n **/","const frenchTranslations = {\n};\n\nexport {frenchTranslations as default};\n\n\n\n/** WEBPACK FOOTER **\n ** ./i18n/fr.js\n **/","/**\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n *\n * ESTA WebJS: Angular-Modul der Komponenten\n * - Hier werden alle Komponenten als einheitliches Modul exportiert\n *\n * @author u220374 (Reto Lehmann)\n * @version: 0.0.1\n * @since 04.12.2015, 2015.\n */\nimport angular from 'angular';\nimport Gui from './gui/gui';\nimport Services from './services/services';\nimport Constants from './constants/constants';\n\nlet componentModule = angular.module('app.components', [\n    Constants.name, Services.name, Gui.name\n]);\n\nexport default componentModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/components.js\n **/","import angular from 'angular';\nimport Components from './components/components';\nimport Screens from './screens/screens';\n\nlet guiModule = angular.module('app.components.gui', [\n    Components.name, Screens.name\n]);\n\nexport default guiModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/gui.js\n **/","import angular from 'angular';\nimport Dices from './dices/dices';\nimport Messages from './messages/messages';\nimport Navbar from './navbar/navbar';\nimport LanguagePicker from './language-picker/language-picker';\nimport Popup from './popup/popup';\nimport Items from './items/items';\nimport Stats from './stats/stats';\nimport Paragraph from './paragraph/paragraph';\nimport BackButton from './back-button/back-button';\nimport EndGamePopup from './end-game-popup/end-game-popup';\nimport ExportDataPopup from './export-data-popup/export-data-popup';\nimport ImportDataPopup from './import-data-popup/import-data-popup';\n\nlet guiComponentsModule = angular.module('app.components.gui.components', [\n    Dices.name, Messages.name, Navbar.name, LanguagePicker.name, Popup.name, Items.name, Stats.name, Paragraph.name, BackButton.name, EndGamePopup.name, ExportDataPopup.name, ImportDataPopup.name\n]);\n\nexport default guiComponentsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/components.js\n **/","import angular from 'angular';\n\nimport template from './dices.html';\nimport controller from './dices.controller';\n\nlet dicesModule = angular.module('app.components.gui.components.dices', [])\n    .component('dices', { template, controller });\n\nexport default dicesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/dices/dices.js\n **/","module.exports = \"<form>\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:85%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>\\n                <ng-include src=\\\"'dice-image.html'\\\"></ng-include>\\n            </th>\\n            <th></th>\\n            <th>{{ 'Sum of dices value' | translate }}</th>\\n            <th></th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll1d6()\\\"\\n                        aria-label=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\">\\n                    {{ 'x1' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll2d6()\\\"\\n                        aria-label=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\">\\n                    {{ 'x2' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                {{ $ctrl.dicesValue }}\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default glyphicon glyphicon-erase\\\"\\n                        title=\\\"{{ 'Clear values' | translate }}\\\"\\n                        aria-label=\\\"{{ 'Clear values' | translate }}\\\"\\n                        ng-click=\\\"$ctrl.clear()\\\">\\n\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/dices/dices.html\n ** module id = 13\n ** module chunks = 0\n **/","class DicesController {\n    /*@ngInject*/\n    constructor(dicesService) {\n        this.dicesService = dicesService;\n        this.clear();\n    }\n\n    roll2d6() {\n        this.appendToResult(this.dicesService.rollDices(2, 6));\n    }\n\n    roll1d6() {\n        this.appendToResult(this.dicesService.rollDices(1, 6));\n    }\n\n    clear() {\n        this.dicesValue = '';\n    }\n\n    appendToResult(value) {\n        if (this.dicesValue !== '') {\n            this.dicesValue = this.dicesValue + ','\n        }\n        this.dicesValue = this.dicesValue + value;\n    }\n\n}\n\nexport default DicesController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/dices/dices.controller.js\n **/","class MessagesService {\n    /*@ngInject*/\n    constructor($rootScope, $translate) {\n        this.$rootScope = $rootScope;\n        this.$translate = $translate;\n\n        if (!this.$rootScope.messages) {\n            this.$rootScope.messages = [];\n        }\n    }\n\n    getMessages() {\n        return this.$rootScope.messages || [];\n    }\n\n    clearMessages() {\n        this.$rootScope.messages.forEach((msg, index, arr) => {\n            if (!msg.keepAfterLocationChange) {\n                arr.splice(index, 1);\n            }\n        });\n    }\n\n    removeMessage(index) {\n        this.$rootScope.messages.splice(index, 1);\n    }\n\n    successMessage(msg, keepAfterLocationChange) {\n        this._addMessage(msg, 'success', keepAfterLocationChange);\n    }\n\n    errorMessage(msg, keepAfterLocationChange) {\n        this._addMessage(msg, 'error', keepAfterLocationChange);\n    }\n\n    infoMessage(msg, keepAfterLocationChange) {\n        this._addMessage(msg, 'info', keepAfterLocationChange);\n    }\n\n    _addMessage(msg, type, keepAfterLocationChange) {\n        let translatedMsg = this.$translate.instant(msg);\n        if (!this._hasMessage(translatedMsg, type)) {\n            this.$rootScope.messages.push({\n                message: translatedMsg,\n                type: type,\n                keepAfterLocationChange: keepAfterLocationChange\n            });\n        }\n    }\n\n    _hasMessage(msg, type) {\n        let hasMessage = false;\n        for (let i = 0; i < this.$rootScope.messages.length; i++) {\n            if (this.$rootScope.messages[i].message === msg && this.$rootScope.messages[i].type === type) {\n                hasMessage = true;\n                break;\n            }\n        }\n        return hasMessage;\n    }\n}\n\nexport default MessagesService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/messages/messages.service.js\n **/","module.exports = \"<div ng-repeat=\\\"msg in $ctrl.messages\\\">\\n    <div class=\\\"alert alert-{{ msg.type === 'error' ? 'danger' : msg.type }}\\\">\\n        {{ msg.message }}\\n        <a class=\\\"close\\\" ng-click=\\\"$ctrl.removeMessage($index)\\\">&times;</a>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/messages/messages.html\n ** module id = 17\n ** module chunks = 0\n **/","class MessagesController {\n    /*@ngInject*/\n    constructor(messagesService, $rootScope) {\n        this.messagesService = messagesService;\n\n        $rootScope.$on('$locationChangeStart', () => this.messagesService.clearMessages());\n\n        this.messages = messagesService.getMessages();\n    }\n\n    removeMessage(index) {\n        this.messagesService.removeMessage(index);\n    }\n}\n\nexport default MessagesController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/messages/messages.controller.js\n **/","/*\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2016.\n */\nclass NavbarController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $location, languagePickerService) {\n        this.languagePickerService = languagePickerService;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        let params = $location.search();\n        if (!!params.admin) {\n            this.admin = true;\n        }\n        this.navCollapsed = true;\n        this.initData();\n    }\n\n    initData() {\n        this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n        this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n    }\n\n    changeLanguage(selectedLanguage) {\n        this.language = selectedLanguage;\n        this.languagePickerService.changeLanguage(selectedLanguage);\n    }\n}\n\nexport default NavbarController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/navbar/navbar.controller.js\n **/","import angular from 'angular';\n\nimport template from './language-picker.html';\nimport controller from './language-picker.controller';\nimport service from './language-picker.service';\n\nlet languagePickerModule = angular.module('app.components.gui.components.language-picker', [])\n    .component('languagePicker', { template, controller })\n    .service('languagePickerService', service);\n\nexport default languagePickerModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/language-picker/language-picker.js\n **/","class LanguagePickerController {\n    /*@ngInject*/\n    constructor(languagePickerService) {\n        this.languagePickerService = languagePickerService;\n        this.initData();\n    }\n\n    initData() {\n        this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n        this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n    }\n\n    changeLanguage(selectedLanguage) {\n        this.languagePickerService.changeLanguage(selectedLanguage);\n    }\n}\n\nexport default LanguagePickerController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/language-picker/language-picker.controller.js\n **/","class LanguagePickerService {\n\n    /*@ngInject*/\n    constructor(gamePersistenceService, $translate, constants) {\n        this.gamePersistenceService = gamePersistenceService;\n        this.$translate = $translate;\n        this.constants = constants;\n        this.supportedLanguages = this.initSupportedLanguages();\n    }\n\n    initSupportedLanguages() {\n        let supportedLanguages = [];\n        for (let i = 0; i < this.constants.supportedLanguages.length; i++) {\n            supportedLanguages.push({\n                code : this.constants.supportedLanguages[i]\n            });\n        }\n        return supportedLanguages;\n    }\n\n    getSupportedLanguages() {\n        return this.supportedLanguages;\n    }\n\n    getSelectedLanguage() {\n        let selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n        if (!!selectedLanguage) {\n            return selectedLanguage;\n        } else if (!!navigator.language) {\n            let i;\n            for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n                if (this.constants.supportedLanguages[i] === navigator.language) {\n                    return this.constants.supportedLanguages[i];\n                }\n            }\n\n            for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n                if (navigator.language.startsWith(this.constants.supportedLanguages[i])) {\n                    return this.constants.supportedLanguages[i];\n                }\n            }\n        }\n        return this.constants.supportedLanguages[0];\n    }\n\n    changeLanguage(selectedLanguage) {\n        this.$translate.use(selectedLanguage);\n        this.gamePersistenceService.setSelectedLanguage(selectedLanguage);\n        for (let i = 0; i < this.supportedLanguages.length; i++) {\n            this.supportedLanguages[i].selected = (this.supportedLanguages[i].code === selectedLanguage);\n        }\n    }\n}\n\nexport default LanguagePickerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/language-picker/language-picker.service.js\n **/","import angular from 'angular';\n\nimport template from './popup.html';\nimport controller from './popup.controller';\nimport popupService from './popup.service';\n\nlet popupModule = angular.module('app.components.gui.components.popup', [])\n    .component('popup', {\n        template,\n        controller,\n        bindings: {\n            config: '@'\n        }\n    })\n    .service('popupService', popupService);\n\nexport default popupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/popup/popup.js\n **/","module.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <span class=\\\"close glyphicon glyphicon-remove-circle\\\" ng-click=\\\"$ctrl.close()\\\" ng-show=\\\"$ctrl.cfg.withCloseButton\\\"></span>\\n        <p>{{ $ctrl.cfg.text | translate }}</p>\\n        <span ng-repeat=\\\"choice in $ctrl.cfg.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/popup/popup.html\n ** module id = 27\n ** module chunks = 0\n **/","class PopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService) {\n        this.cfg = JSON.parse(this.config);\n        this.popupService = popupService;\n        if (this.cfg.closeOnClickOutsideModal) {\n            this.close();\n        }\n    }\n\n    select(choice) {\n        this.close(choice);\n    }\n\n    close(choice) {\n        this.popupService.close(this.cfg.id, choice);\n    }\n}\n\nexport default PopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/popup/popup.controller.js\n **/","class PopupService {\n\n    /*@ngInject*/\n    constructor() {\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    close(popupDomElementId, choice) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback) {\n            callback(popupDomElementId, choice);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default PopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/popup/popup.service.js\n **/","import angular from 'angular';\n\nimport template from './items.html';\nimport controller from './items.controller';\n\nlet itemsModule = angular.module('app.components.gui.screen.items', [])\n    .component('items', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@?',\n            items: '='\n        }\n     });\n\nexport default itemsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/items/items.js\n **/","module.exports = \"<form name=\\\"itemsTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Quantity' | translate }}</th>\\n            <th>{{ 'Item' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\"\\n                        class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add item' | translate}}\\\"\\n                        title=\\\"{{ 'Add item' | translate}}\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.quantity }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"quantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.quantity\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.quantity\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the quantity' | translate }}\\n                </div>\\n            </td>\\n\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.description }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"description\\\" type=\\\"text\\\" class=\\\"form-control description\\\" ng-model=\\\"row.description\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.description\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the description' | translate }}\\n                </div>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                        aria-label=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.saveRowChanges(notesTableForm.$invalid)\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteItemConfig }}\\\"></popup>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/items/items.html\n ** module id = 31\n ** module chunks = 0\n **/","class ItemsController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.rows = this.items;\n        this.popupService = popupService;\n        this.constants = constants;\n        this.gamePersistenceService = gamePersistenceService;\n\n        this.popupDeleteItemConfig = {\n            id : 'popupDeleteItem',\n            text : 'Are you sure to remove the item?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n    }\n\n    addRow() {\n        let row = { quantity: 1};\n        this.rows.push(row);\n        this.addedRow = row;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteItemConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.rows.indexOf(removedRow);\n        this.rows.splice(index, 1);\n        this.clearEditedRow();\n        this.saveInPersistence();\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = { quantity : row.quantity, description : row.description };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    saveRowChanges($invalid) {\n        if ($invalid) {\n            return ;\n        }\n        this.clearEditedRow();\n        this.saveInPersistence();\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.quantity = this.originalRow.quantity;\n            this.editedRow.description = this.originalRow.description;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n\n    saveInPersistence() {\n        if (!!this.gameId) {\n            let updatedGame = this.gamePersistenceService.getGame(this.gameId);\n            updatedGame.items = this.items;\n            this.gamePersistenceService.updateGame(updatedGame);\n        }\n    }\n}\n\nexport default ItemsController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/items/items.controller.js\n **/","import angular from 'angular';\n\nimport template from './stats.html';\nimport controller from './stats.controller';\n\nlet statsModule = angular.module('app.components.gui.screen.stats', [])\n    .component('stats', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@',\n            stats: '='\n        }\n    });\n\nexport default statsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/stats/stats.js\n **/","class StatsController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, gamePersistenceService) {\n        this.gamePersistenceService = gamePersistenceService;\n        preScreenLoadingInterceptorsCallerService.intercept();\n    }\n\n    increment(row) {\n        row.current = row.current + 1;\n        this.save();\n    }\n\n    decrement(row) {\n        row.current = row.current - 1;\n        this.save();\n    }\n\n    save() {\n        let updatedGame = this.gamePersistenceService.getGame(this.gameId);\n        updatedGame.stats = this.stats;\n        this.gamePersistenceService.updateGame(updatedGame);\n    }\n}\n\nexport default StatsController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/stats/stats.controller.js\n **/","import angular from 'angular';\n\nimport template from './paragraph.html';\nimport controller from './paragraph.controller';\n\nlet paragraphModule = angular.module('app.components.gui.screen.paragraph', [])\n    .component('paragraph', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@',\n            paragraph: '='\n        }\n    });\n\nexport default paragraphModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/paragraph/paragraph.js\n **/","class ParagraphController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService, $location) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.popupService = popupService;\n        this.constants = constants;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$location = $location;\n\n        this.popupDeleteChoiceConfig = {\n            id : 'popupDeleteChoice',\n            text : 'Are you sure to remove the choice?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.initData();\n    }\n\n    initData() {\n        let game = this.gamePersistenceService.getGame(this.gameId);\n        this.adventureId = game.adventureId;\n        this.playerName = game.playerName;\n        this.descriptionEditable = false;\n        this.alreadyChoosen = this.gamePersistenceService.getChoosenChoices(this.gameId, this.paragraph.paragraphNr);\n    }\n\n    addRow() {\n        let row = { paragraphNr : this.inputParagraphNr, description : this.inputDescription };\n        this.paragraph.choices.push(row);\n        this.inputParagraphNr = '';\n        this.inputDescription = '';\n        this.addedRow = row;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteChoiceConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n\n    removeRow(removedRow) {\n        var index = this.paragraph.choices.indexOf(removedRow);\n        this.paragraph.choices.splice(index, 1);\n        this.clearEditedRow();\n        this.saveParagraphChoices();\n    }\n\n    editDescription() {\n        this.descriptionEditable = true;\n        this.originalDescription = this.paragraph.description;\n    }\n\n    isDescriptionEditable() {\n        return this.descriptionEditable;\n    }\n\n    saveDescriptionChanges() {\n        this.originalDescription = null;\n        this.descriptionEditable = false;\n        this.adventurePersistenceService.updateParagraph(this.bookId, this.paragraph);\n    }\n\n    abortDescriptionChanges() {\n        this.paragraph.description = this.originalDescription;\n        this.originalDescription = null;\n        this.descriptionEditable = false;\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = { paragraphNr : row.paragraphNr, description : row.description };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    saveRowChanges($invalid) {\n        if ($invalid) {\n            return ;\n        }\n        this.clearEditedRow();\n        this.saveParagraphChoices();\n    }\n\n    saveParagraphChoices() {\n        this.adventurePersistenceService.updateParagraph(this.adventureId, this.paragraph);\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n            this.editedRow.description = this.originalRow.description;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n\n    goTo(paragraphNr) {\n        this.gamePersistenceService.setCurrentParagraphNrOfGame(this.gameId, this.paragraph.paragraphNr, paragraphNr);\n        let nextUrl = this.gamePersistenceService.getUrlOfGame(this.gameId);\n        this.$location.url(nextUrl);\n    }\n\n    isAlreadyChoosen(choice) {\n        return this.alreadyChoosen.indexOf(choice.paragraphNr) !== -1;\n    }\n}\n\nexport default ParagraphController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/paragraph/paragraph.controller.js\n **/","import angular from 'angular';\n\nimport template from './back-button.html';\nimport controller from './back-button.controller';\n\nlet backButtonModule = angular.module('app.components.gui.components.back-button', [])\n    .component('backButton', { template, controller });\n\nexport default backButtonModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/back-button/back-button.js\n **/","class BackButtonController {\n    /*@ngInject*/\n    constructor($window) {\n        this.$window = $window;\n    }\n\n    isBackDisabled() {\n        return this.$window.history.length < 2;\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n}\n\nexport default BackButtonController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/back-button/back-button.controller.js\n **/","import angular from 'angular';\n\nimport template from './end-game-popup.html';\nimport controller from './end-game-popup.controller';\nimport endGamePopupService from './end-game-popup.service';\n\nlet endGamePopupModule = angular.module('app.components.gui.components.end-game-popup', [])\n    .component('endGamePopup', {\n        template,\n        controller,\n        bindings: {\n            config: '@'\n        }\n    })\n    .service('endGamePopupService', endGamePopupService);\n\nexport default endGamePopupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/end-game-popup/end-game-popup.js\n **/","module.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <h1>{{ 'Are you sure to abandon this game?' | translate }}</h1>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"endGameReason\\\">{{ \\\"End game's reason\\\" | translate }}</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"endGameReason\\\" ng-model=\\\"$ctrl.endGameReason\\\">\\n        </div>\\n\\n        <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/end-game-popup/end-game-popup.html\n ** module id = 43\n ** module chunks = 0\n **/","class EndGamePopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, endGamePopupService, constants) {\n        this.cfg = JSON.parse(this.config);\n        this.constants = constants;\n        this.endGamePopupService = endGamePopupService;\n        this.choices = [constants.choices.yes, constants.choices.no];\n    }\n\n    select(choice) {\n        this.close(choice);\n    }\n\n    close(choice) {\n        this.endGamePopupService.close(this.cfg.id, choice, this.endGameReason);\n    }\n}\n\nexport default EndGamePopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/end-game-popup/end-game-popup.controller.js\n **/","class EndGamePopupService {\n\n    /*@ngInject*/\n    constructor(constants) {\n        this.constants = constants;\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    close(popupDomElementId, choice, endGameReason) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback && choice === this.constants.choices.yes) {\n            callback(popupDomElementId, endGameReason);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default EndGamePopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/end-game-popup/end-game-popup.service.js\n **/","import angular from 'angular';\n\nimport template from './export-data-popup.html';\nimport controller from './export-data-popup.controller';\nimport exportDataPopupService from './export-data-popup.service';\n\nlet exportDataPopupModule = angular.module('app.components.gui.components.export-data-popup', [])\n    .component('exportDataPopup', {\n        template,\n        controller,\n        bindings: {\n            config: '<'\n        }\n    })\n    .service('exportDataPopupService', exportDataPopupService)\n    .constant('exportMethods', { file:'file', text:'text', email:'email'});\n\nexport default exportDataPopupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/export-data-popup/export-data-popup.js\n **/","module.exports = \"<form name=\\\"exportDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.exportTitle}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"exportMethod\\\">{{ 'Select the export method' | translate }}</label>\\n                <select id=\\\"exportMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.exportMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'export_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportText()\\\">\\n                <label for=\\\"exportText\\\">{{ \\\"Export text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"exportText\\\" rows=\\\"4\\\"ng-model=\\\"$ctrl.config.exportData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportEmail()\\\">\\n                <label for=\\\"exportEmail\\\">{{ \\\"Receiver Email\\\" | translate }}</label>\\n                <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"exportEmail\\\" ng-model=\\\"$ctrl.exportEmail\\\" required>\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, exportDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n\\n            <a id=\\\"linkSendEmail\\\" ng-show=\\\"false\\\" href=\\\"mailto:{{$ctrl.exportEmail}}?subject={{$ctrl.config.exportTitle}}&body={{$ctrl.config.exportData}}\\\">{{ 'Sent' | translate }}</a>\\n            <a id=\\\"linkDownload\\\" ng-show=\\\"false\\\" ng-href=\\\"{{$ctrl.config.exportDownloadBlobUrl}}\\\" download=\\\"export.txt\\\">{{ 'Download' | translate }}</a>\\n        </div>\\n    </div>\\n</form>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/export-data-popup/export-data-popup.html\n ** module id = 47\n ** module chunks = 0\n **/","class ExportDataPopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, exportDataPopupService, constants, exportMethods, $window, formHelperService) {\n        this.constants = constants;\n        this.exportDataPopupService = exportDataPopupService;\n        this.exportMethods = exportMethods;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n\n        this.choices = [constants.choices.cancel, constants.choices.ok];\n        this.methods = [ exportMethods.text, exportMethods.file, exportMethods.email ];\n        this.exportMethod = exportMethods.text;\n    }\n\n    select(choice, form) {\n        this.formHelperService.setErrorFieldsAsDirty(form, false);\n        if (!form.$invalid) {\n            if (choice === this.constants.choices.ok) {\n                if (this.displayExportEmail()) {\n                    let href = window.document.getElementById('linkSendEmail');\n                    window.document.getElementById('exportDataForm');\n                    href.click();\n                } else if (this.displayDownload()) {\n                    let href = window.document.getElementById('linkDownload');\n                    href.click();\n                }\n            }\n            this.close(choice);\n        }\n    }\n\n    close(choice) {\n        this.exportDataPopupService.close(this.config.id, choice);\n    }\n\n    displayExportText() {\n        return !!this.exportMethod && this.exportMethod === this.exportMethods.text;\n    }\n\n    displayDownload() {\n        return !!this.exportMethod && this.exportMethod === this.exportMethods.file;\n    }\n\n    displayExportEmail() {\n        return !!this.exportMethod && this.exportMethod === this.exportMethods.email;\n    }\n}\n\nexport default ExportDataPopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/export-data-popup/export-data-popup.controller.js\n **/","class ExportDataPopupService {\n\n    /*@ngInject*/\n    constructor(constants, $window) {\n        this.constants = constants;\n        this.$window = $window;\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    createDownloadBlobUrl(data) {\n        let blob = new Blob([data], { type: 'text/plain' });\n        let url = this.$window.URL || this.$window.webkitURL;\n        return url.createObjectURL(blob);\n    }\n\n    close(popupDomElementId, choice, endGameReason) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback && choice === this.constants.choices.ok) {\n            callback(popupDomElementId, choice);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default ExportDataPopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/export-data-popup/export-data-popup.service.js\n **/","import angular from 'angular';\n\nimport template from './import-data-popup.html';\nimport controller from './import-data-popup.controller';\nimport importDataPopupService from './import-data-popup.service';\n\nlet importDataPopupModule = angular.module('app.components.gui.components.import-data-popup', [])\n    .component('importDataPopup', {\n        template,\n        controller,\n        bindings: {\n            config: '<'\n        }\n    })\n    .service('importDataPopupService', importDataPopupService)\n    .constant('importMethods', { file:'file', text:'text'});\n\nexport default importDataPopupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/import-data-popup/import-data-popup.js\n **/","module.exports = \"<form name=\\\"importDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.title}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"importMethod\\\">{{ 'Select the import method' | translate }}</label>\\n                <select id=\\\"importMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.importMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'import_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayImportText()\\\">\\n                <label for=\\\"importText\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"importText\\\" rows=\\\"4\\\" ng-model=\\\"$ctrl.importTextData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayUpload()\\\">\\n                <label for=\\\"importUpload\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <input id=\\\"importUpload\\\" type=\\\"file\\\" ng-model=\\\"$ctrl.uploadFile\\\" on-read-file=\\\"$ctrl.showContent($fileContent)\\\" />\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, importDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n        </div>\\n    </div>\\n</form>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/import-data-popup/import-data-popup.html\n ** module id = 51\n ** module chunks = 0\n **/","class ImportDataPopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, importDataPopupService, constants, importMethods, $window, formHelperService) {\n        this.constants = constants;\n        this.importDataPopupService = importDataPopupService;\n        this.importMethods = importMethods;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n\n        this.choices = [constants.choices.cancel, constants.choices.ok];\n        this.methods = [ importMethods.text, importMethods.file ];\n        this.importMethod = importMethods.text;\n    }\n\n    select(choice, form) {\n        if (choice === this.constants.choices.cancel) {\n            this.close(choice);\n        } else if (choice === this.constants.choices.ok) {\n            this.formHelperService.setErrorFieldsAsDirty(form, false);\n            if (!form.$invalid) {\n                let importData = null;\n                if (this.importMethod === this.importMethods.text) {\n                    importData = this.importTextData;\n                } else if (this.importMethod === this.importMethods.file) {\n                    importData = this.importUploadData;\n                }\n                this.close(choice, importData);\n                this.importTextData = null;\n                this.importUploadData = null;\n            }\n        }\n    }\n\n    close(choice, importData) {\n        this.importDataPopupService.close(this.config.id, choice, importData);\n    }\n\n    displayImportText() {\n        return !!this.importMethod && this.importMethod === this.importMethods.text;\n    }\n\n    displayUpload() {\n        return !!this.importMethod && this.importMethod === this.importMethods.file;\n    }\n\n    showContent($fileContent) {\n        this.importUploadData = $fileContent;\n    }\n}\n\nexport default ImportDataPopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/import-data-popup/import-data-popup.controller.js\n **/","class ImportDataPopupService {\n\n    /*@ngInject*/\n    constructor(constants) {\n        this.constants = constants;\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    close(popupDomElementId, choice, data) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback && choice === this.constants.choices.ok) {\n            callback(popupDomElementId, data);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default ImportDataPopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/import-data-popup/import-data-popup.service.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './home.html';\nimport controller from './home.controller';\n\nlet homeModule = angular.module('app.components.gui.screen.home', [\n    uiRouter, \"app.components.constants\"\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('home', {\n            url: constants.url.root, template: '<home></home>'\n        });\n    })\n\n    .component('home', { template, controller });\n\nexport default homeModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/home/home.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/home/home.html\n ** module id = 56\n ** module chunks = 0\n **/","class HomeController {\n\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        $location.url(constants.url.games);\n    }\n}\n\nexport default HomeController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/home/home.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './games-list.html';\nimport controller from './games-list.controller';\n\nlet gamesListModule = angular.module('app.components.gui.screen.games.list', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('gamesList', {\n            url: constants.url.games, template: '<games-list></games-list>'\n        });\n    })\n\n    .component('gamesList', { template, controller });\n\nexport default gamesListModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/list/games-list.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Games' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:25%\\\">\\n                    <col style=\\\"width:20% \\\">\\n                    <col style=\\\"width:15% \\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Adventure' | translate }}</th>\\n                        <th>{{ 'Serie' | translate }}</th>\\n                        <th>{{ 'Player' | translate }}</th>\\n                        <th>{{ 'State' | translate }}</th>\\n                        <th>{{ 'Paragraph' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td>{{ row.adventureName }}</td>\\n                        <td>{{ row.serie }}</td>\\n                        <td>{{ row.playerName }}</td>\\n                        <td>{{ (!!row.endGameReason ? 'game over' : 'in progress') | translate }}\\n                            {{ (!!row.endGameReason ? \\\": '\\\" + row.endGameReason + \\\"'\\\" : '' ) }}\\n                        </td>\\n                        <td>{{ row.currentParagraphNr }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventurekName, playerName: row.playerName}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-click=\\\"$ctrl.startNewGame()\\\"\\n                aria-label=\\\"{{ 'Start a new game' | translate }}\\\"\\n                title=\\\"{{ 'Start a new game' | translate }}\\\">{{ 'New game' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportGamePopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.continueGame()\\\"\\n                aria-label=\\\"{{ 'Continue the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Continue the selected game' | translate }}\\\">{{ 'Continue' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayRemoveGamePopup()\\\"\\n                aria-label=\\\"{{ 'Remove the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Remove the selected game' | translate }}\\\">{{ 'Remove' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayExportGamePopup()\\\"\\n                aria-label=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Export selected adventure' | translate }}\\\">{{ 'Export' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteGameConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportGameConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportGameConfig\\\"></import-data-popup>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/games/list/games-list.html\n ** module id = 60\n ** module chunks = 0\n **/","class GamesListController {\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.popupService = popupService;\n        this.exportDataPopupService = exportDataPopupService;\n        this.importDataPopupService = importDataPopupService;\n\n        this.popupDeleteGameConfig = {\n            id : 'popupDeleteGame',\n            text : 'Are you sure to remove the selected game?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.popupExportGameConfig = { id : 'popupExportGame' };\n        this.popupImportGameConfig = { id : 'popupImportGame' };\n\n        this.initData();\n    }\n\n    initData() {\n        let gamePersistenceKeys = this.gamePersistenceService.getGamePersistenceKeys();\n        this.rows = [];\n        for (let i = 0; i < gamePersistenceKeys.length; i++) {\n            let game = this.gamePersistenceService.getGame(gamePersistenceKeys[i]);\n            this.rows.push(game);\n        }\n\n        this.completeAdventureData(this.rows);\n    }\n\n    completeAdventureData(games) {\n        for (let i = 0; i < games.length; i++) {\n            let adventure = this.adventurePersistenceService.getAdventure(games[i].adventureId);\n            if (!!adventure) {\n                games[i].adventureName = adventure.name;\n                games[i].serie = adventure.serie;\n            } else {\n                this.messagesService.errorMessage(this.$translate.instant('Cannot find adventure') + \" '\"  + games[i].adventureId + \"'\", false);\n                games[i].adventureName = games[i].adventureId;\n            }\n        }\n    }\n\n    select(row) {\n        for (let i = 0; i < this.rows.length; i++) {\n            this.rows[i].selected = false;\n        }\n        row.selected = true;\n    }\n\n    startNewGame() {\n        let adventureKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n        if (!adventureKeys || adventureKeys.length === 0) {\n            this.messagesService.errorMessage('No adventure available', false);\n            return ;\n        }\n        this.$location.url(this.constants.url.selectAdventureForNewGame);\n    }\n\n    continueGame() {\n        let game = this.gamePersistenceService.getGame(this.getSelectedRow().id);\n        let adventure = this.adventurePersistenceService.getAdventure(game.adventureId);\n        if (!adventure) {\n            this.messagesService.errorMessage('The adventure is not available', false)\n        } else {\n            let nextUrl = this.gamePersistenceService.getUrlOfGame(this.getSelectedRow().id);\n            this.$location.url(nextUrl);\n        }\n    }\n\n    displayRemoveGamePopup() {\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteGameConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.deleteGame();\n                }\n            }\n        );\n    }\n\n    deleteGame() {\n        this.gamePersistenceService.deleteGame(this.getSelectedRow().id, true, true);\n        this.initData();\n    }\n\n    displayExportGamePopup() {\n        this.popupExportGameConfig.exportData = JSON.stringify(this.gamePersistenceService.getGame(this.getSelectedRow().id));\n        this.popupExportGameConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportGameConfig.exportData);\n        this.popupExportGameConfig.exportTitle = this.$translate.instant('ExportGame', {playerName: this.getSelectedRow().playerName, adventureName: this.getSelectedRow().adventureName });\n        this.exportDataPopupService.show(this.popupExportGameConfig.id);\n    }\n\n    displayImportGamePopup() {\n        let self = this;\n        this.popupImportGameConfig.title = this.$translate.instant('Import a game');\n        this.importDataPopupService.show(\n            this.popupImportGameConfig.id,\n            function(popupDomElementId, data) {\n                self.gamePersistenceService.importGame(data);\n                self.initData();\n            }\n        );\n    }\n\n    hasSelectedRow() {\n        return !!this.getSelectedRow();\n    }\n\n\n    getSelectedRow() {\n        for (let i = 0; i < this.rows.length; i++) {\n            if (!!this.rows[i].selected) {\n                return this.rows[i];\n            }\n        }\n        return null;\n    }\n}\n\nexport default GamesListController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/list/games-list.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\nimport Notes from './notes/notes';\n\nimport template from './game-detail.html';\nimport controller from './game-detail.controller';\n\nlet gameDetailModule = angular.module('app.components.gui.screen.games.detail', [\n    uiRouter, Notes.name\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n        $stateProvider.state('game-detail', {\n            url: constants.url.gameDetail, template: '<game-detail></game-detail>'\n        });\n    })\n\n    .component('gameDetail', { template, controller });\n\nexport default gameDetailModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/game-detail.js\n **/","import angular from 'angular';\n\nimport template from './notes.html';\nimport controller from './notes.controller';\n\nlet notesModule = angular.module('app.components.gui.screen.games.detail.notes', [])\n    .component('notes', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@',\n            paragraphNr: '@',\n            adventureId : '@'\n        }\n    });\n\nexport default notesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/notes/notes.js\n **/","class NotesController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n\n        this.popupService = popupService;\n        this.constants = constants;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n\n        this.popupDeleteNoteConfig = {\n            id : 'popupDeleteNoteConfig',\n            text : 'Are you sure to remove the note?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.initData();\n    }\n\n    initData() {\n        let game;\n        if (!!this.gameId) {\n            game = this.gamePersistenceService.getGame(this.gameId);\n        }\n\n        this.notes = [];\n        let paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n        if (!!paragraph && !!paragraph.notes) {\n            for (let i = 0; i < paragraph.notes.length; i++) {\n                this.notes.push(paragraph.notes[i]);\n                paragraph.notes[i].paragraphNr = this.paragraphNr;\n                paragraph.notes[i].isParagraph = !!paragraph.notes[i].paragraphNr;\n                if (!paragraph.notes[i].playerName) {\n                    paragraph.notes[i].note = paragraph.notes[i].note;\n                }\n            }\n        }\n\n        if (!!game) {\n            this.playerName = game.playerName;\n            if (!!game.notes) {\n                this.notes = this.notes.concat(game.notes);\n            }\n        }\n    }\n\n    addRow(noteValue) {\n        let row = { note : noteValue, isParagraph : true, paragraphNr: this.paragraphNr, playerName : this.playerName };\n        this.notes.push(row);\n        this.addedRow = row;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteNoteConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.notes.indexOf(removedRow);\n        this.notes.splice(index, 1);\n        this.clearEditedRow();\n        this.saveNotes();\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = { note : row.note, paragraphNr : row.paragraphNr, playerName : row.playerName };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    saveRowChanges($invalid, row) {\n        if ($invalid) {\n            return ;\n        }\n\n        if (!!row.isParagraph) {\n            row.paragraphNr = Number(this.paragraphNr);\n        } else {\n            row.paragraphNr = undefined;\n        }\n\n        this.clearEditedRow();\n        this.saveNotes();\n    }\n\n    saveNotes() {\n        this.savePlayerNotes();\n        this.saveParagraphNotes();\n    }\n\n    savePlayerNotes() {\n        if (!this.gameId) {\n            return ;\n        }\n\n        let savedNotes = [];\n        for (let i = 0; i < this.notes.length; i++) {\n            if (!this.notes[i].paragraphNr) {\n                savedNotes.push({ note : this.notes[i].note, playerName : this.notes[i].playerName});\n            }\n        }\n        let game = this.gamePersistenceService.getGame(this.gameId);\n        game.notes = savedNotes;\n        this.gamePersistenceService.updateGame(game);\n    }\n\n    saveParagraphNotes() {\n        let savedNotes = [];\n        for (let i = 0; i < this.notes.length; i++) {\n            if (!!this.notes[i].paragraphNr) {\n                savedNotes.push({ note : this.notes[i].note, playerName : this.notes[i].playerName});\n            }\n        }\n        let paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n        paragraph.notes = savedNotes;\n        this.adventurePersistenceService.updateParagraph(this.adventureId, paragraph);\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.note = this.originalRow.note;\n            this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n            this.editedRow.playerName = this.originalRow.playerName;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n}\n\nexport default NotesController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/notes/notes.controller.js\n **/","class GameDetailController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $location, constants, endGamePopupService, $stateParams, gamePersistenceService, adventurePersistenceService, $translate, messagesService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.constants = constants;\n        this.endGamePopupService = endGamePopupService;\n        this.$stateParams = $stateParams;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$translate = $translate;\n        this.messagesService = messagesService;\n        this.items = [];\n        this.stats = [];\n\n        this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.gameId));\n        this.playerName = this.game.playerName;\n        if (!!this.game.items) {\n            this.items = this.items.concat(this.game.items);\n        }\n        if (!!this.game.stats) {\n            this.stats = this.stats.concat(this.game.stats);\n        }\n        this.adventureId = this.$stateParams.adventureId;\n        this.paragraph = this.adventurePersistenceService.getOrCreateParagraph(this.adventureId, this.$stateParams.paragraphNr);\n        this.popupAbandonGameConfig = { id : 'popupAbandonGame' };\n        this.checkAvailableAdventure();\n    }\n\n    checkAvailableAdventure() {\n        let adventure = this.adventurePersistenceService.getAdventure(this.adventureId);\n        if (!adventure) {\n            this.messagesService.errorMessage('The adventure is not available', false)\n        }\n    }\n\n    startBattle() {\n        this.$location.url(this.constants.url.battle + '/' + this.game.id);\n    }\n\n    displayAbandonGamePopup(removedRow) {\n        let self = this;\n        this.endGamePopupService.show(\n            this.popupAbandonGameConfig.id,\n            function(popupDomElementId, endGameReason) {\n                let updatedGame = self.gamePersistenceService.getGame(self.game.id);\n                updatedGame.endGameReason = endGameReason;\n                self.gamePersistenceService.updateGame(updatedGame);\n                self.$location.url(self.constants.url.games);\n            }\n        );\n    }\n\n}\n\nexport default GameDetailController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/game-detail.controller.js\n **/","import angular from 'angular';\nimport SelectAdventure from './select-adventure/select-adventure';\nimport CreatePlayer from './create-player/create-player';\nimport ChooseItems from './choose-items/choose-items';\n\nlet createGameWizardModule = angular.module('app.components.gui.screens.games.create', [\n    SelectAdventure.name, CreatePlayer.name, ChooseItems.name\n]);\n\nexport default createGameWizardModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/create-game-wizard.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './select-adventure.html';\nimport controller from './select-adventure.controller';\n\nlet SelectAdventureModule = angular.module('app.components.gui.screen.games.create.select-adventure', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('select-adventure', {\n            url: constants.url.selectAdventureForNewGame, template: '<select-adventure></select-adventure>'\n        });\n    })\n\n    .component('selectAdventure', { template, controller });\n\nexport default SelectAdventureModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/select-adventure/select-adventure.js\n **/","class SelectAdventureController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, constants, $location, $window, adventurePersistenceService, $timeout) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.$window = $window;\n        this.constants = constants;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$timeout = $timeout;\n        this.initData();\n        this.setInitialFocus();\n    }\n\n    initData() {\n        let adventurePersistenceKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n        this.adventures = [];\n        for (let i = 0; i < adventurePersistenceKeys.length; i++) {\n            let adventure = this.adventurePersistenceService.getAdventure(adventurePersistenceKeys[i]);\n            this.adventures.push(adventure);\n        }\n        this.selectedAdventureId = this.adventures[0].id;\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element = that.$window.document.getElementById(\"selectedAdventure\");\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n\n    next() {\n        this.$location.url(this.constants.url.createPlayerForNewGame + \"?adventureId=\" + encodeURIComponent(this.selectedAdventureId));\n    }\n}\n\nexport default SelectAdventureController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/select-adventure/select-adventure.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './create-player.html';\nimport controller from './create-player.controller';\n\nlet CreatePlayerModule = angular.module('app.components.gui.screen.games.create.create-player', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('create-player', {\n            url: constants.url.createPlayerForNewGame + \"?adventureId\", template: '<create-player></create-player>'\n        });\n    })\n\n    .component('createPlayer', { template, controller });\n\nexport default CreatePlayerModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/create-player/create-player.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'New game' | translate }}</h1>\\n        </div>\\n\\n        <!-- novalidate=\\\"novalidate\\\" allow to do not display untranslated tooltip \\\"Fill out this field\\\" -->\\n        <form name=\\\"playerForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.next(playerForm.$invalid)\\\">\\n            <ol class=\\\"breadcrumb\\\">\\n                <li>{{ 'Select Adventure' | translate }}</li>\\n                <li class=\\\"active\\\">{{ 'Create Player' | translate }}</li>\\n                <li>{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"playerName\\\">{{ 'PlayerName' | translate }}*</label>\\n                <input type=\\\"text\\\" required class=\\\"form-control\\\" id=\\\"playerName\\\" ng-model=\\\"$ctrl.playerName\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"playerForm.$invalid\\\">\\n                    {{ 'Please fill the player name' | translate }}\\n                </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                <label for=\\\"{{ stats.name }}\\\">{{ stats.name }}</label>\\n                <input type=\\\"text\\\" disabled required class=\\\"form-control\\\" id=\\\"{{ stats.name }}\\\" ng-model=\\\"stats.value\\\">\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.generateStats()\\\">{{ 'Random Stats' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.next(playerForm.$invalid)\\\">{{ 'Next' | translate }}</button>\\n            </div>\\n        </form>\\n    </div>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/games/create/create-player/create-player.html\n ** module id = 73\n ** module chunks = 0\n **/","class CreatePlayerController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $stateParams, $window, $location, constants, dicesService, adventurePersistenceService, $timeout) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.constants = constants;\n        this.$window = $window;\n        this.$location = $location;\n        this.dicesService = dicesService;\n        this.$timeout = $timeout;\n        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n        this.loadData(this.adventure);\n        this.generateStats();\n        this.setInitialFocus();\n    }\n\n    loadData(adventure) {\n        this.stats = [];\n        let self = this;\n        for (let i = 0; i < adventure.stats.length; i++) {\n            let currentStats = adventure.stats[i];\n            this.stats.push({ name : currentStats.name,\n                generate : function() {\n                        return currentStats.init.constant + self.dicesService.rollDices(currentStats.init.sixDiceQuantity, 6);\n                    }\n                });\n        }\n    }\n\n    generateStats() {\n        for (let i = 0; i < this.stats.length; i++) {\n            let stats = this.stats[i];\n            stats.value = stats.generate();\n        }\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element = that.$window.document.getElementById(\"playerName\");\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n\n    next(invalid) {\n        if (!!invalid) {\n            return ;\n        }\n\n        let nextUrl = this.constants.url.chooseItemsForNewGame +\n          \"?adventureId=\" + encodeURIComponent(this.adventure.id) +\n          \"&playerName=\" + encodeURIComponent(this.playerName);\n\n        let statsParam = '';\n\n        for (let i = 0; i < this.stats.length; i++) {\n            let stats = this.stats[i];\n            statsParam = statsParam + encodeURIComponent(stats.name) + encodeURIComponent(stats.value) + ',';\n        }\n\n        nextUrl = nextUrl + \"&stats=\" + statsParam;\n        this.$location.url(nextUrl);\n    }\n}\n\nexport default CreatePlayerController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/create-player/create-player.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './choose-items.html';\nimport controller from './choose-items.controller';\n\nlet ChooseItemsModule = angular.module('app.components.gui.screen.games.create.choose-items', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('choose-items', {\n            url: constants.url.chooseItemsForNewGame + \"?adventureId&playerName&stats\", template: '<choose-items></choose-items>'\n        });\n    })\n\n    .component('chooseItems', { template, controller });\n\nexport default ChooseItemsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/choose-items/choose-items.js\n **/","class ChooseItemsController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $stateParams, messagesService, $window, $location, constants, gamePersistenceService, adventurePersistenceService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.messagesService = messagesService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.gamePersistenceService = gamePersistenceService;\n        this.$window = $window;\n        this.$stateParams = $stateParams;\n        this.$location = $location;\n        this.constants = constants;\n\n        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n        this.playerItems = this.adventure.items;\n        for (let i = 0; i < this.playerItems.length; i++) {\n            this.playerItems[i].description = this.playerItems[i].description;\n        }\n        this.displayNotes();\n    }\n\n    isItemsDisplayed() {\n        return !!this.adventure.items && this.adventure.items.length > 0;\n    }\n\n    displayNotes() {\n        if (!!this.adventure.startGameNote) {\n            this.messagesService.infoMessage(this.adventure.startGameNote, false);\n        }\n    }\n\n    getItems() {\n        return this.playerItems;\n    }\n\n    startGame() {\n        let game = this.buildGame();\n        game = this.gamePersistenceService.addGame(game);\n        this.gamePersistenceService.setCurrentParagraphNrOfGame(game.id, null, this.adventure.startParagraphNr);\n        this.$location.url(this.gamePersistenceService.getUrlOfGame(game.id));\n    }\n\n    buildGame() {\n        let game = {\n            playerName : this.$stateParams.playerName,\n            adventureId : this.adventure.id,\n            items : JSON.parse(JSON.stringify(this.playerItems))\n        };\n        game.stats = this.getStatsInUrlParam();\n        return game;\n    }\n\n    getStatsInUrlParam() {\n        let statsParamValue = this.$stateParams['stats'];\n        let stats = [];\n        for (let i = 0; i < this.adventure.stats.length; i++) {\n            let currentStats = this.adventure.stats[i];\n            let startPos = statsParamValue.indexOf(currentStats.name);\n            startPos = startPos + currentStats.name.length;\n            let endPos = statsParamValue.indexOf(',', startPos);\n            let statsValue = statsParamValue.substring(startPos, endPos);\n            stats.push({\n                    name  : currentStats.name,\n                    value : new Number(statsValue)\n                });\n        }\n        return stats;\n    }\n\n\n    back() {\n        this.$window.history.back();\n    }\n}\n\nexport default ChooseItemsController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/choose-items/choose-items.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './battle.html';\nimport controller from './battle.controller';\n\nlet BattleModule = angular.module('app.components.gui.screen.battle', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('battle', {\n            url: constants.url.battle + '/{game}', template: '<battle></battle>'\n        });\n    })\n\n    .component('battle', { template, controller });\n\nexport default BattleModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/battle/battle.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Battle' | translate }}</h1>\\n        </div>\\n\\n        <form name=\\\"battleTableForm\\\" novalidate=\\\"novalidate\\\">\\n            <table class=\\\"table\\\">\\n                <col style=\\\"width:20%\\\">\\n                <col style=\\\"width:10%\\\" ng-repeat=\\\"row in $ctrl.stats\\\">\\n                <col style=\\\"width:{{ $ctrl.lastColumnSizeInPercent() }}%\\\">\\n                <col style=\\\"width:5%\\\">\\n                <thead>\\n                <tr>\\n                    <th></th>\\n                    <th ng-repeat=\\\"row in $ctrl.stats\\\">{{ row.name | translate }}</th>\\n                    <th></th>\\n                    <th>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                aria-label=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                title=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                ng-click=\\\"$ctrl.addEnemy()\\\">\\n                            <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </th>\\n                </tr>\\n                </thead>\\n                <tbody>\\n                <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                    <td ng-if=\\\"!$ctrl.isEnemy(row)\\\">\\n                        {{ row.name }}\\n                    </td>\\n                    <td ng-if=\\\"$ctrl.isEnemy(row)\\\">\\n                        <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                        <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                            {{ 'Please fill the name' | translate }}\\n                        </div>\\n                    </td>\\n\\n                    <td ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                        <div ng-if=\\\"!stats.editableForEnemy && !!$ctrl.isEnemy(row)\\\">\\n                            {{ row[stats.name] }}\\n                        </div>\\n\\n                        <div ng-if=\\\"!!stats.editableForEnemy || !$ctrl.isEnemy(row)\\\">\\n                            <input required type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row[stats.name]\\\" ng-change=\\\"$ctrl.save()\\\">\\n                            <div class=\\\"error\\\" ng-show=\\\"!row[stats.name]\\\">\\n                                {{ 'Please fill a value' | translate }}\\n                            </div>\\n                        </div>\\n                    </td>\\n\\n                    <td></td>\\n\\n                    <td>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                aria-label=\\\"{{ 'Remove enemy' | translate }} {{ row.name | translate }}\\\"\\n                                title=\\\"{{ 'Remove enemy' | translate }} '{{ row.name | translate }}'\\\"\\n                                ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                ng-show=\\\"$ctrl.isEnemy(row)\\\">\\n                            <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </td>\\n                </tr>\\n                </tbody>\\n            </table>\\n        </form>\\n\\n        <dices></dices>\\n        <back-button></back-button>\\n\\n        <popup config=\\\"{{ $ctrl.popupDeleteEnemyConfig }}\\\"></popup>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/battle/battle.html\n ** module id = 79\n ** module chunks = 0\n **/","class BattleController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $window, popupService, constants, gamePersistenceService, adventurePersistenceService, $stateParams) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$window = $window;\n        this.popupService = popupService;\n        this.constants = constants;\n        this.$stateParams = $stateParams;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n\n        this.popupDeleteEnemyConfig = {\n            id : 'popupDeleteEnemy',\n            text : 'Are you sure to remove the enemy?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.initData();\n    }\n\n    initData() {\n        if (!!this.$stateParams.game) {\n            this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.game));\n            this.adventure = this.adventurePersistenceService.getAdventure(this.game.adventureId);\n        }\n\n        this.initStatsData();\n        this.initPlayerStats();\n        this.defaultEnemy = this.initDefaultEnemy();\n        this.addEnemy();\n    }\n\n    initStatsData() {\n        if (!!this.game && !!this.adventure) {\n            this.stats = [];\n            for (let i = 0; i < this.adventure.stats.length; i++) {\n                let currentStats = this.adventure.stats[i];\n                if (!!currentStats.battle && !!currentStats.battle.displayed) {\n                    this.stats.push({ name: currentStats.name, enemyDefaultValue: currentStats.battle.enemyDefaultValue, editableForEnemy: currentStats.battle.editableForEnemy});\n                }\n            }\n        }\n    }\n\n    initPlayerStats() {\n        if (!!this.stats) {\n            this.statsPlayer = { name : this.game.playerName};\n\n            for (let i = 0; i < this.stats.length; i++) {\n                let currentStats = this.stats[i];\n                for (let j = 0; j < this.game.stats.length; j++) {\n                    let currentGameStats = this.game.stats[j];\n                    if (currentStats.name === currentGameStats.name) {\n                        this.statsPlayer[currentStats.name] = currentGameStats.current;\n                        break;\n                    }\n                }\n            }\n            this.rows = [ this.statsPlayer ];\n        }\n    }\n\n    initDefaultEnemy() {\n        let defaultEnemyName = 'Enemy';\n        if (!!this.adventure.defaultEnemyName) {\n            defaultEnemyName = this.adventure.defaultEnemyName;\n        }\n\n        let statsDefaultEnemy = { name : defaultEnemyName };\n\n        for (let i = 0; i < this.stats.length; i++) {\n            let currentStats = this.stats[i];\n            statsDefaultEnemy[currentStats.name] = currentStats.enemyDefaultValue;\n        }\n\n\n        return statsDefaultEnemy;\n    }\n\n    addEnemy() {\n        this.rows.push(JSON.parse(JSON.stringify(this.defaultEnemy)));\n    }\n\n    save() {\n        for (let i = 0; i < this.game.stats.length; i++) {\n            let currentStats = this.game.stats[i];\n            currentStats.current = this.statsPlayer[currentStats.name];\n        }\n        this.gamePersistenceService.updateGame(this.game);\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteEnemyConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.rows.indexOf(removedRow);\n        this.rows.splice(index, 1);\n    }\n\n    isEnemy(row) {\n        return this.rows.indexOf(row) !== 0;\n    }\n\n    lastColumnSizeInPercent() {\n        let lastColumnSizeInPercent = 75;\n        if (!!this.stats) {\n            lastColumnSizeInPercent = lastColumnSizeInPercent - (this.stats.length * 10);\n        }\n        return lastColumnSizeInPercent;\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n}\n\nexport default BattleController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/battle/battle.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './administration.html';\nimport controller from './administration.controller';\n\nlet administrationModule = angular.module('app.components.gui.screen.administration', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('administration', {\n            url: constants.url.administration, template: '<administration></administration>'\n        });\n    })\n\n    .component('administration', { template, controller });\n\nexport default administrationModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/administration/administration.js\n **/","class AdministrationController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, constants, popupService, $window) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.persistenceService = persistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.constants = constants;\n        this.popupService = popupService;\n        this.initData();\n        this.$window = $window;\n\n        this.popupConfirmImportApplicationDataConfig = {\n            id : 'popupConfirmImportApplicationData',\n            text : \"All existing application's data will be erased during the import. Are you sure to import the application data?\",\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n        \n        this.popupConfirmDeleteApplicationDataConfig = {\n            id : 'popupConfirmDeleteApplicationData',\n            text : 'Are you sure to clear the application data?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n    }\n\n    initData() {\n        this.applicationData = this.persistenceService.export();\n        this.computeLocalStorageCapacities();\n    }\n\n    computeLocalStorageCapacities() {\n        this.usedLocalStorage = this.persistenceService.getUsedCapacity();\n        this.remainingCapacity = this.persistenceService.getRemainingCapacity();\n        this.usedLocalStorageInPercent = this.persistenceService.getUsedCapacityInPercent();\n    }\n\n    showPopupConfirmImportData() {\n        let self = this;\n        this.popupService.show(\n            this.popupConfirmImportApplicationDataConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.persistenceService.import(self.importData);\n                    self.$window.location.reload();\n                }\n            }\n        );\n    }\n\n\n    showPopupConfirmDeleteApplicationData() {\n        let self = this;\n        this.popupService.show(\n            this.popupConfirmDeleteApplicationDataConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.persistenceService.cleanAllData();\n                    self.$window.location.reload();\n                }\n            }\n        );\n    }\n}\n\nexport default AdministrationController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/administration/administration.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './choose-language.html';\nimport controller from './choose-language.controller';\n\nlet chooseLanguageModule = angular.module('app.components.gui.screen.choose-language', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('choose-language', {\n            url: constants.url.chooseLanguage, template: '<choose-language></choose-language>'\n        });\n    })\n\n    .component('chooseLanguage', { template, controller });\n\nexport default chooseLanguageModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/choose-language/choose-language.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Gamebooks Companion' | translate }}</h1>\\n        </div>\\n        <language-picker></language-picker>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.goForward()\\\">{{ 'Continue' | translate }}</button>\\n    </div>\\n</main>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/choose-language/choose-language.html\n ** module id = 85\n ** module chunks = 0\n **/","class ChooseLanguageController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $location, constants) {\n        this.$location = $location;\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n    }\n\n    goForward() {\n        this.$location.url(this.constants.url.games)\n    }\n}\n\nexport default ChooseLanguageController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/choose-language/choose-language.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './about.html';\nimport controller from './about.controller';\n\nlet aboutModule = angular.module('app.components.gui.screen.about', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('about', {\n            url: constants.url.about, template: '<about></about>'\n        });\n    })\n\n    .component('about', { template, controller });\n\nexport default aboutModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/about/about.js\n **/","class AboutController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, constants) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.appVersion = constants.version;\n    }\n}\n\nexport default AboutController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/about/about.controller.js\n **/","import angular from 'angular';\nimport AdventuresList from './list/adventures-list';\nimport AdventureDetail from './detail/adventure-detail';\n\nlet adventuresModule = angular.module('app.components.gui.screens.adventures', [\n    AdventuresList.name, AdventureDetail.name\n]);\n\nexport default adventuresModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/adventures.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './adventures-list.html';\nimport controller from './adventures-list.controller';\n\nlet adventuresListModule = angular.module('app.components.gui.screen.adventures.list', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('adventuresList', {\n            url: constants.url.adventures, template: '<adventures-list></adventures-list>'\n        });\n    })\n\n    .component('adventuresList', { template, controller });\n\nexport default adventuresListModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/list/adventures-list.js\n **/","class AdventuresListController {\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.popupService = popupService;\n        this.exportDataPopupService = exportDataPopupService;\n        this.importDataPopupService = importDataPopupService;\n\n        this.popupDeleteAdventureConfig = {\n            id : 'popupDeleteAdventure',\n            text : 'Are you sure to remove the selected adventure?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.popupExportAdventureConfig = { id : 'popupExportAdventure' };\n        this.popupImportAdventureConfig = { id : 'popupImportAdventure' };\n\n        this.initData();\n    }\n\n    initData() {\n        this.rows = this.adventurePersistenceService.getAdventuresOverview();\n        this.clearSelection();\n        for (let i = 0; i < this.rows.length; i++) {\n            if (!!this.rows[i].downloadHistory) {\n                this.rows[i].downloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length-1];\n            } else {\n                if (!!this.rows[i].downloadUrl) {\n                    this.rows[i].downloadStatus = 'Downloadable';\n                } else {\n                    this.rows[i].downloadStatus = 'N/A';\n                }\n            }\n        }\n    }\n\n    select(row) {\n        this.clearSelection();\n        row.selected = true;\n    }\n\n    clearSelection() {\n        for (let i = 0; i < this.rows.length; i++) {\n            this.rows[i].selected = false;\n        }\n    }\n\n    create() {\n        this.$location.url(this.constants.url.adventureDetail + '/create');\n    }\n\n    display() {\n        this.$location.url(this.constants.url.adventureDetail + '/' + this.getSelectedRow().id);\n    }\n\n    displayRemoveAdventurePopup() {\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteAdventureConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.deleteAdventure();\n                }\n            }\n        );\n    }\n\n    deleteAdventure() {\n        this.adventurePersistenceService.deleteAdventureAndParagraphs(this.getSelectedRow().id);\n        this.initData();\n    }\n\n    displayExportAdventurePopup() {\n        let self = this;\n        this.popupExportAdventureConfig.exportData = JSON.stringify(this.adventurePersistenceService.exportAdventure(this.getSelectedRow().id));\n        this.popupExportAdventureConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportAdventureConfig.exportData);\n        this.popupExportAdventureConfig.exportTitle = this.$translate.instant('ExportAdventure', {adventureName: this.getSelectedRow().name });\n        this.exportDataPopupService.show(this.popupExportAdventureConfig.id);\n    }\n\n    displayImportAdventurePopup() {\n        let self = this;\n        this.popupImportAdventureConfig.title = this.$translate.instant('Import an adventure');\n        this.importDataPopupService.show(\n            this.popupImportAdventureConfig.id,\n            function(popupDomElementId, data) {\n                self.adventurePersistenceService.importAdventure(data);\n                self.initData();\n            }\n        );\n    }\n\n    downloadAdventure() {\n        let self = this;\n        let promise = this.adventurePersistenceService.downloadAdventure(this.getSelectedRow());\n        promise.then(\n            function(json) {\n                self.initData();\n            },\n            function(reason) {\n                self.initData();\n            }\n        );\n    }\n\n    hasSelectedRow() {\n        return !!this.getSelectedRow();\n    }\n\n    isSelectedRowDownloadable() {\n        let selectedRow = this.getSelectedRow();\n        return !!selectedRow && !!selectedRow.downloadUrl;\n    }\n\n    getSelectedRow() {\n        if (!!this.rows) {\n            for (let i = 0; i < this.rows.length; i++) {\n                if (!!this.rows[i].selected) {\n                    return this.rows[i];\n                }\n            }\n        }\n        return null;\n    }\n}\n\nexport default AdventuresListController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/list/adventures-list.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './adventure-detail.html';\nimport controller from './adventure-detail.controller';\n\nlet adventureDetailModule = angular.module('app.components.gui.screen.adventures.detail', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('adventure-detail', {\n            url: constants.url.adventureDetail + '/{adventureId}', template: '<adventure-detail></adventure-detail>'\n        });\n    })\n\n    .component('adventureDetail', { template, controller });\n\nexport default adventureDetailModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/detail/adventure-detail.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ $ctrl.adventure.name }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"adventureTableForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <h3>{{ 'General' | translate }}</h3>\\n                <div>\\n                    <div class=\\\"form-group\\\" ng-if=\\\"!$ctrl.adventure.id\\\">\\n                        <label for=\\\"name\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\" ng-model=\\\"$ctrl.adventure.name\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"serie\\\">{{ \\\"Serie\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"serie\\\" ng-model=\\\"$ctrl.adventure.serie\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"authors\\\">{{ \\\"Author(s)\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"authors\\\" ng-model=\\\"$ctrl.adventure.authors\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"description\\\">{{ \\\"Description\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"description\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.description\\\"></div>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"version\\\">{{ \\\"Version\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"version\\\" ng-model=\\\"$ctrl.adventure.version\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"language\\\">{{ \\\"Language\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"language\\\" ng-model=\\\"$ctrl.adventure.language\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"homepage\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"homepage\\\" ng-model=\\\"$ctrl.adventure.homepage\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"isbn\\\">{{ \\\"ISBN\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"isbn\\\" ng-model=\\\"$ctrl.adventure.isbn\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"numberOfParagraphs\\\">{{ \\\"Number of paragraphs\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"numberOfParagraphs\\\" ng-model=\\\"$ctrl.adventure.numberOfParagraphs\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startParagraphNr\\\">{{ \\\"First paragraph\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"startParagraphNr\\\" ng-model=\\\"$ctrl.adventure.startParagraphNr\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startGameNote\\\">{{ \\\"Start game's note\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"startGameNote\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.startGameNote\\\"></div>\\n                    </div>\\n                </div>\\n\\n                <h3>{{ 'Stats rules' | translate }}</h3>\\n                <div>\\n                    <table class=\\\"table table-striped\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <col style=\\\"width:30%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <thead>\\n                        <tr>\\n                            <th>\\n                                {{ 'Name' | translate }}\\n                            </th>\\n                            <th>\\n                                {{ 'Player stats value generation' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is this stats displayed in battle?' | translate }}\\\"\\n                                title=\\\"{{ 'Is this stat displayed in battle?' | translate }}\\\">\\n                                {{ 'For battle?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is it a enemy stats?' | translate }}\\\"\\n                                title=\\\"{{ 'Is it a enemy stats?' | translate }}\\\">\\n                                {{ 'For enemy?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\"\\n                                title=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\">\\n                                {{ 'Default enemy value' | translate }}\\n                            </th>\\n                            <th></th>\\n                            <th></th>\\n                            <th>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.addRow()\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </th>\\n                        </tr>\\n                        </thead>\\n                        <tbody>\\n\\n                        <tr ng-repeat=\\\"row in $ctrl.adventure.stats\\\">\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.name }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                                    {{ 'Please fill the name of the stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.init.sixDiceQuantity + 'd6' + (!!row.init.constant ? '+' + row.init.constant : '')   }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"sixDiceQuantity\\\">{{ \\\"Quantity of dices 6 faces\\\" | translate }}</label>\\n                                    <input required id=\\\"sixDiceQuantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.sixDiceQuantity\\\">\\n                                </div>\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"constant\\\">{{ \\\"Constant\\\" | translate }}</label>\\n                                    <input id=\\\"constant\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.constant\\\">\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.init.sixDiceQuantity\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill the quantity of dices 6 faces used to generate a value for this stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.displayed | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.displayed\\\" id=\\\"displayed\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.editableForEnemy | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.editableForEnemy\\\" id=\\\"editableForEnemy\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.battle.enemyDefaultValue }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input id=\\\"enemyDefaultValue\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.enemyDefaultValue\\\" ng-required=\\\"!!row.battle.editableForEnemy\\\" >\\n                                <div class=\\\"error\\\" ng-show=\\\"!!row.battle.editableForEnemy && !row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill a default value of this stats for enemies' | translate }}\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.battle.editableForEnemy && !!row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please do not fill a default value as this stats is not available for enemies' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                                        aria-label=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.saveRowChanges(adventureTableForm.$invalid, row)\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        title=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n                        </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n\\n                <h3>{{ 'Initial items' | translate }}</h3>\\n                <div>\\n                    <items items=\\\"$ctrl.adventure.items\\\"></items>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(adventureTableForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteStatsConfig }}\\\"></popup>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/adventures/detail/adventure-detail.html\n ** module id = 95\n ** module chunks = 0\n **/","class AdventureDetailController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, $stateParams, $location, constants, popupService, messagesService, $timeout, $window, formHelperService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.persistenceService = persistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$stateParams = $stateParams;\n        this.$location = $location;\n        this.constants = constants;\n        this.popupService = popupService;\n        this.messagesService = messagesService;\n        this.$timeout = $timeout;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n        this.initData();\n\n        this.popupDeleteStatsConfig = {\n            id : 'popupDeleteStats',\n            text : 'Are you sure to remove the status?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n        this.setInitialFocus();\n    }\n\n    initData() {\n        let adventureId = encodeURIComponent(this.$stateParams.adventureId);\n        if (!!adventureId) {\n            if (\"create\" === adventureId) {\n                this.adventure = {\n                    stats: [],\n                    items: []\n                };\n                this.mode = \"create\";\n            } else {\n                this.adventure = this.adventurePersistenceService.getAdventure(adventureId);\n                this.mode = \"edit\";\n            }\n        }\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element;\n            if (that.mode === \"create\") {\n                element = that.$window.document.getElementById(\"name\");\n            } else {\n                element = that.$window.document.getElementById(\"authors\");\n            }\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    save(form) {\n        this.formHelperService.setErrorFieldsAsDirty(form, true);\n        if (form.$invalid) {\n            return ;\n        }\n\n        if (!!this.adventure.items) {\n            let modifiedItems = [];\n            for (let i = 0; i < this.adventure.items.length; i++) {\n                modifiedItems.push({\n                    quantity: this.adventure.items[i].quantity,\n                    description: this.adventure.items[i].description\n                });\n            }\n            this.adventure.items = modifiedItems;\n        }\n        try {\n            this.adventurePersistenceService.updateAdventureWithoutParagraphs(this.adventure);\n            this.$location.url(this.constants.url.adventures);\n        } catch (error) {\n            this.messagesService.errorMessage(error, false);\n        }\n    }\n\n    addRow() {\n        let stats = { init: {}, battle: { displayed: true, editableForEnemy: false }};\n        this.adventure.stats.push(stats);\n        this.addedRow = stats;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteStatsConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.adventure.stats.indexOf(removedRow);\n        this.adventure.stats.splice(index, 1);\n        this.clearEditedRow();\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = {\n            name : row.name,\n            init: {\n                sixDiceQuantity: row.init.sixDiceQuantity,\n                constants: row.init.constant\n            },\n            battle: {\n                displayed: row.battle.displayed,\n                enemyDefaultValue: row.battle.enemyDefaultValue,\n                editableForEnemy: row.battle.editableForEnemy,\n            }\n        };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    getEditRow() {\n        if (!!this.addedRow) {\n            return this.addedRow;\n        } else if (!!this.editedRow) {\n            return this.editedRow;\n        } else {\n            return null;\n        }\n    }\n\n    saveRowChanges($invalid) {\n        if (!this.getEditRow().name) {\n            return ;\n        }\n        if (!this.getEditRow().init.sixDiceQuantity) {\n            return ;\n        }\n        if (!this.getEditRow().battle.editableForEnemy && !!this.getEditRow().battle.enemyDefaultValue) {\n            return ;\n        }\n        this.clearEditedRow();\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.name = this.originalRow.name;\n            this.editedRow.init = this.originalRow.init;\n            this.editedRow.battle = this.originalRow.battle;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n}\n\nexport default AdventureDetailController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/detail/adventure-detail.controller.js\n **/","import angular from 'angular';\nimport LibrariesList from './list/libraries-list';\nimport LibraryDetail from './detail/library-detail';\n\nlet librariesModule = angular.module('app.components.gui.screens.libraries', [\n    LibrariesList.name, LibraryDetail.name\n]);\n\nexport default librariesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/libraries.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './libraries-list.html';\nimport controller from './libraries-list.controller';\n\nlet librariesListModule = angular.module('app.components.gui.screen.libraries.list', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('librariesList', {\n            url: constants.url.libraries, template: '<libraries-list></libraries-list>'\n        });\n    })\n\n    .component('librariesList', { template, controller });\n\nexport default librariesListModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/list/libraries-list.js\n **/","class LibrariesListController {\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService, libraryPersistenceService) {\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.libraryPersistenceService = libraryPersistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.popupService = popupService;\n        this.exportDataPopupService = exportDataPopupService;\n        this.importDataPopupService = importDataPopupService;\n\n        this.popupDeleteLibraryConfig = {\n            id : 'popupDeleteLibrary',\n            text : 'Are you sure to remove the selected library?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.popupExportLibrariesConfig = { id : 'popupExportLibraries' };\n        this.popupImportLibrariesConfig = { id : 'popupImportLibraries' };\n\n        this.initData();\n    }\n\n    initData() {\n        this.rows = this.libraryPersistenceService.getLibraries();\n        for (let i = 0; i < this.rows.length; i++) {\n            if (!!this.rows[i].downloadHistory) {\n                this.rows[i].lastDownloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length-1];\n            }\n        }\n        this.clearSelection();\n    }\n\n    select(row) {\n        this.clearSelection();\n        row.selected = true;\n    }\n\n    clearSelection() {\n        for (let i = 0; i < this.rows.length; i++) {\n            this.rows[i].selected = false;\n        }\n    }\n\n    create() {\n        this.$location.url(this.constants.url.libraryDetail + '/create');\n    }\n\n    display() {\n        this.$location.url(this.constants.url.libraryDetail + '/' + this.getSelectedRow().id);\n    }\n\n    displayRemoveLibraryPopup() {\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteLibraryConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.deleteLibrary();\n                }\n            }\n        );\n    }\n\n    deleteLibrary() {\n        this.libraryPersistenceService.deleteLibrary(this.getSelectedRow().id);\n        this.initData();\n    }\n\n    displayExportLibrariesPopup() {\n        this.popupExportLibrariesConfig.exportData = this.libraryPersistenceService.exportLibraries();\n        this.popupExportLibrariesConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportLibrariesConfig.exportData);\n        this.popupExportLibrariesConfig.exportTitle = this.$translate.instant('Export libraries');\n        this.exportDataPopupService.show(this.popupExportLibrariesConfig.id);\n    }\n\n    displayImportLibrariesPopup() {\n        let self = this;\n        this.popupImportLibrariesConfig.title = this.$translate.instant('Import libraries');\n        this.importDataPopupService.show(\n            this.popupImportLibrariesConfig.id,\n            function(popupDomElementId, data) {\n                try {\n                    self.libraryPersistenceService.importLibraries(data);\n                    self.initData();\n                } catch (error) {\n                    self.messagesService.errorMessage(error, false);\n                }\n            }\n        );\n    }\n\n    downloadLibrary() {\n        let self = this;\n        let promise = this.libraryPersistenceService.downloadLibrary(this.getSelectedRow());\n        promise.then(\n            function(json) {\n                self.initData();\n            },\n            function(reason) {\n                self.initData();\n            }\n        );\n    }\n\n    hasSelectedRow() {\n        return !!this.getSelectedRow();\n    }\n\n\n    getSelectedRow() {\n        if (!!this.rows) {\n            for (let i = 0; i < this.rows.length; i++) {\n                if (!!this.rows[i].selected) {\n                    return this.rows[i];\n                }\n            }\n        }\n        return null;\n    }\n}\n\nexport default LibrariesListController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/list/libraries-list.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './library-detail.html';\nimport controller from './library-detail.controller';\n\nlet libraryDetailModule = angular.module('app.components.gui.screen.libraries.detail', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('library-detail', {\n            url: constants.url.libraryDetail + '/{libraryId}', template: '<library-detail></library-detail>'\n        });\n    })\n\n    .component('libraryDetail', { template, controller });\n\nexport default libraryDetailModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/detail/library-detail.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ 'Library' }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"libraryForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteName\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteName\\\" ng-model=\\\"$ctrl.library.siteName\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteUrl\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteUrl\\\" ng-model=\\\"$ctrl.library.siteUrl\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"libraryUrl\\\">{{ \\\"Library url\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"libraryUrl\\\" ng-model=\\\"$ctrl.library.libraryUrl\\\" required>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(libraryForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/libraries/detail/library-detail.html\n ** module id = 102\n ** module chunks = 0\n **/","class LibraryDetailController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, libraryPersistenceService, $stateParams, $location, constants, messagesService, $timeout, $window, formHelperService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.libraryPersistenceService = libraryPersistenceService;\n        this.$stateParams = $stateParams;\n        this.$location = $location;\n        this.constants = constants;\n        this.messagesService = messagesService;\n        this.$timeout = $timeout;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n        this.initData();\n        this.setInitialFocus();\n    }\n\n    initData() {\n        let libraryId = encodeURIComponent(this.$stateParams.libraryId);\n        if (!!libraryId) {\n            if (\"create\" === libraryId) {\n                this.library = {};\n                this.mode = \"create\";\n            } else {\n                this.library = this.libraryPersistenceService.getLibrary(libraryId);\n                this.mode = \"edit\";\n            }\n        }\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element = that.$window.document.getElementById(\"siteName\");\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    save(form) {\n        this.formHelperService.setErrorFieldsAsDirty(form, true);\n        if (form.$invalid) {\n            return ;\n        }\n\n        try {\n            this.libraryPersistenceService.updateLibrary(this.library);\n            this.$location.url(this.constants.url.libraries);\n        } catch (error) {\n            this.messagesService.errorMessage(error, false);\n        }\n    }\n}\n\nexport default LibraryDetailController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/detail/library-detail.controller.js\n **/","import angular from 'angular';\nimport LanguageAvailabilityChecker from './language-availability-checker/language-availability-checker';\nimport SoftwareRequirementsChecker from './software-requirements-checker/software-requirements-checker';\nimport PreScreenLoadingInterceptorsCaller from './pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller';\nimport Persistence from './persistence/persistence';\nimport Dices from './dices/dices';\nimport FormHelper from './form-helper/form-helper';\nimport RemoteJsonRetriever from './remote-json-retriever/remote-json-retriever';\n\nlet servicesModule = angular.module('app.components.services', [\n    SoftwareRequirementsChecker.name, Persistence.name, Dices.name, LanguageAvailabilityChecker.name, PreScreenLoadingInterceptorsCaller.name, FormHelper.name, RemoteJsonRetriever.name\n]);\n\nexport default servicesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/services.js\n **/","class LanguageAvailabilityCheckerService {\n\n    /*@ngInject*/\n    constructor(gamePersistenceService, $location, constants, $translate) {\n        this.gamePersistenceService = gamePersistenceService;\n        this.$location = $location;\n        this.constants = constants;\n        this.$translate = $translate;\n    }\n\n    selectLanguageIfMissing() {\n        let selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n        let currentUrl = this.$location.url();\n        if (!!selectedLanguage) {\n            this.$translate.use(selectedLanguage);\n        } else {\n            if (!!currentUrl && !currentUrl.startsWith('/choose-language')) {\n                this.$location.url(this.constants.url.chooseLanguage);\n            }\n        }\n    }\n}\n\nexport default LanguageAvailabilityCheckerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/language-availability-checker/language-availability-checker.service.js\n **/","class SoftwareRequirementsCheckerService {\n\n    /*@ngInject*/\n    constructor(messagesService) {\n        this.messagesService = messagesService;\n    }\n\n    checkSoftwareRequirements() {\n        let hasSoftwareRequirements = true;\n        if (!this.isLocalStorageSupported()) {\n            hasSoftwareRequirements = false;\n            this.messagesService.errorMessage(\"The application cannot be used because the version of the browser is too old or because it is not possible to save data in 'localStorage'.\", true);\n        }\n    }\n\n    isLocalStorageSupported() {\n    \ttry {\n    \t\tlet storage = window['localStorage'];\n            let x = '__storage_test__';\n    \t\tstorage.setItem(x, x);\n    \t\tstorage.removeItem(x);\n    \t\treturn true;\n    \t} catch(e) {\n    \t\treturn false;\n    \t}\n    }\n}\n\nexport default SoftwareRequirementsCheckerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/software-requirements-checker/software-requirements-checker.service.js\n **/","import angular from 'angular';\nimport preScreenLoadingInterceptorsCallerService from './pre-screen-loading-interceptors-caller.service';\n\nlet preScreenLoadingInterceptorsCallerModule = angular.module('app.components.services.pre-screen-loading-interceptors-caller', [])\n\n.service('preScreenLoadingInterceptorsCallerService', preScreenLoadingInterceptorsCallerService);\n\nexport default preScreenLoadingInterceptorsCallerModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.js\n **/","class PreScreenLoadingInterceptorsCallerService {\n\n    /*@ngInject*/\n    constructor(languageAvailabilityCheckerService, softwareRequirementsCheckerService) {\n        this.softwareRequirementsCheckerService = softwareRequirementsCheckerService;\n        this.languageAvailabilityCheckerService = languageAvailabilityCheckerService;\n    }\n\n    intercept() {\n        this.softwareRequirementsCheckerService.checkSoftwareRequirements();\n        this.languageAvailabilityCheckerService.selectLanguageIfMissing();\n    }\n\n}\n\nexport default PreScreenLoadingInterceptorsCallerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.service.js\n **/","import angular from 'angular';\n\nimport GamePersistence from './game-persistence/game-persistence';\nimport AdventurePersistence from './adventure-persistence/adventure-persistence';\nimport LibraryPersistence from './library-persistence/library-persistence';\nimport persistenceService from './persistence.service';\n\nlet persistenceModule = angular.module('app.components.services.persistence', [\n    GamePersistence.name, AdventurePersistence.name, LibraryPersistence.name\n])\n\n.service('persistenceService', persistenceService);\n\nexport default persistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/persistence.js\n **/","import angular from 'angular';\nimport gamePersistenceService from './game-persistence.service';\n\nlet gamePersistenceModule = angular.module('app.components.services.persistence.game', [])\n\n.service('gamePersistenceService', gamePersistenceService);\n\nexport default gamePersistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/game-persistence/game-persistence.js\n **/","class GamePersistenceService {\n\n    /*@ngInject*/\n    constructor(constants, persistenceService, adventurePersistenceService, messagesService) {\n        this.persistenceService = persistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.constants = constants;\n        this.messagesService = messagesService;\n    }\n\n    getSelectedLanguage() {\n        return this.persistenceService.get(this.constants.data.selectedLanguage);\n    }\n\n    setSelectedLanguage(language) {\n        this.persistenceService.save(this.constants.data.selectedLanguage, language);\n    }\n\n    addGame(game) {\n        let savedGame = {\n            id : this.newGameId(),\n            playerName : game.playerName,\n            adventureId : game.adventureId,\n            items : game.items,\n            stats : game.stats,\n            currentParagraphNr : game.currentParagraphNr\n        };\n\n        savedGame.stats = [];\n        for (let i = 0; i < game.stats.length;i++) {\n            savedGame.stats.push({ name: game.stats[i].name, initial: game.stats[i].value, current: game.stats[i].value});\n        }\n\n        this.updateGame(savedGame);\n        return savedGame;\n    }\n\n    importGame(gameAsStr) {\n        try {\n            let game = JSON.parse(gameAsStr);\n            let missingMandatoryFields = [];\n            if (!game.id) {\n                missingMandatoryFields.push('id');\n            }\n            if (!game.playerName) {\n                missingMandatoryFields.push('playerName');\n            }\n            if (!game.adventureId) {\n                missingMandatoryFields.push('adventureId');\n            }\n            if (!game.currentParagraphNr) {\n                missingMandatoryFields.push('currentParagraphNr');\n            }\n\n            if (missingMandatoryFields.length > 0) {\n                this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n            } else if (!!this.getGame(game.id)) {\n                this.messagesService.errorMessage(\"The game already exists with id '\" + game.id + \"'\", false);\n            } else {\n                this.updateGame(game);\n            }\n        } catch (error) {\n            this.messagesService.errorMessage('Cannot import game', false);\n        }\n    }\n\n    updateGame(game) {\n        if (!game) {\n            return ;\n        }\n        game = JSON.parse(JSON.stringify(game));\n\n        let key = this.getGamePersistenceKey(game.id);\n        if (!!game.items) {\n            for (let i = 0; i < game.items.length; i++) {\n                delete game.items[i]['$$hashKey'];\n            }\n        }\n        this.persistenceService.save(key, game);\n    }\n\n    deleteGame(gameId, deleteParagraphNotesOfGame, deleteParagraphChoicesOfGame) {\n        let game = this.getGame(gameId);\n        let key = this.getGamePersistenceKey(gameId);\n        if (!!deleteParagraphNotesOfGame || !!deleteParagraphChoicesOfGame) {\n            let paragraphKeys = this.adventurePersistenceService.getAdventureParagraphKeys(game.adventureId);\n            for (let i = 0; i < paragraphKeys.length; i++) {\n                let paragraph = this.persistenceService.get(paragraphKeys[i]);\n                if (!!deleteParagraphNotesOfGame && !!paragraph.notes) {\n                    let newNotes = [];\n                    for (let j = 0; j < paragraph.notes.length; j++) {\n                        if (!paragraph.notes[j].playerName || paragraph.notes[j].playerName !== game.playerName) {\n                            newNotes.push(paragraph.notes[j]);\n                        }\n                    }\n                    paragraph.notes = newNotes;\n                    this.adventurePersistenceService.updateParagraph(game.adventureId, paragraph);\n                }\n                if (!!deleteParagraphChoicesOfGame) {\n                    // TODO\n                }\n            }\n        }\n        localStorage.removeItem(key);\n    }\n\n    newGameId() {\n        return new Date().getTime().toString();\n    }\n\n    getUrlOfGame(gameId, paragraphNr) {\n        let game = this.getGame(gameId);\n        if (!paragraphNr) {\n            paragraphNr = game.currentParagraphNr;\n        }\n        let urlOfGame = \"/\" + encodeURIComponent(game.adventureId) + \"/\" + encodeURIComponent(paragraphNr) + \"/game/\" + encodeURIComponent(game.id);\n        return urlOfGame;\n    }\n\n    getGame(gameId) {\n        let key = this.getGamePersistenceKey(gameId);\n        return this.persistenceService.get(key);\n    }\n\n    getGamePersistenceKeys() {\n        return this.persistenceService.findKeysWithPrefix(this.constants.data.game);\n    }\n\n    getGamePersistenceKey(gameId) {\n        let key = gameId;\n        if (!key.startsWith(this.constants.data.game)) {\n            key = this.constants.data.game + \".\" + key;\n        }\n        return key;\n\n    }\n\n    setCurrentParagraphNrOfGame(gameId, fromParagrahNr, toParagraphNr) {\n        let game = this.getGame(gameId);\n        if (!!fromParagrahNr) {\n            let persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n            let choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n            if (!choosenParagraphs) {\n                choosenParagraphs = {};\n            }\n            let keyArray = toParagraphNr;\n            let choosenBy = choosenParagraphs[keyArray];\n            if (!choosenBy) {\n                choosenBy = [];\n                choosenParagraphs[keyArray] = choosenBy;\n            }\n            if (choosenBy.indexOf(gameId) === -1) {\n                choosenBy.push(gameId);\n                this.persistenceService.save(persistenceKeyChoosenParagraphs, choosenParagraphs);\n            }\n        }\n        game.currentParagraphNr = toParagraphNr;\n        if (!game.path) {\n            game.path = [];\n        }\n        game.path.push(toParagraphNr);\n        this.updateGame(game);\n    }\n\n    getChoosenChoices(gameId, paragraphNr) {\n        let game = this.getGame(gameId);\n        let persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n        let choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n        if (!choosenParagraphs) {\n            return [];\n        } else {\n            let paragraph = this.adventurePersistenceService.getParagraph(game.adventureId, paragraphNr);\n            let choosen = [];\n            if (!!paragraph.choices) {\n                for (let i = 0; i < paragraph.choices.length; i++) {\n                    let keyArray = paragraph.choices[i].paragraphNr;\n                    if (!!choosenParagraphs[keyArray]) {\n                        choosen.push(paragraph.choices[i].paragraphNr);\n                    }\n                }\n            }\n            return choosen;\n        }\n    }\n}\n\nexport default GamePersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/game-persistence/game-persistence.service.js\n **/","import angular from 'angular';\n\nimport adventurePersistenceService from './adventure-persistence.service';\n\nlet adventurePersistenceModule = angular.module('app.components.services.persistence.adventure', [])\n\n.service('adventurePersistenceService', adventurePersistenceService);\n\nexport default adventurePersistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/adventure-persistence/adventure-persistence.js\n **/","class AdventurePersistenceService {\n\n    /*@ngInject*/\n    constructor(constants, persistenceService, messagesService, $translate, $q, remoteJsonRetrieverService) {\n        this.constants = constants;\n        this.persistenceService = persistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.$q = $q;\n        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n    }\n\n    downloadAdventure(adventure) {\n        let self = this;\n        let deferred = this.$q.defer();\n        let promise = this.remoteJsonRetrieverService.retrieveJson(adventure.downloadUrl);\n        promise.then(\n            function(json) {\n            // TODO\n//                library.downloadHistory.push(self.now() + ' : downloaded');\n//                self.updateLibrary(library);\n//                self.adventurePersistenceService.updateDownloadableAdventures(json);\n//                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n                deferred.resolve('Success');\n            },\n            function(reason) {\n            // TODO\n//                library.downloadHistory.push(self.now() + ' : error');\n//                self.updateLibrary(library);\n//                self.messagesService.errorMessage(reason, false);\n                deferred.reject(reason);\n            }\n        );\n        return deferred.promise;\n    }\n\n    now() {\n        let now = new Date();\n        return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n    }\n\n    updateDownloadableAdventures(adventures) {\n        if (!!adventures) {\n            for (let i = 0; i < adventures.length; i++) {\n                this.updateDownloadableAdventure(adventures[i]);\n            }\n        }\n    }\n\n    updateDownloadableAdventure(adventure) {\n        try {\n            this.updateAdventureWithoutParagraphs(adventure);\n        } catch (error) {\n            if (this.constants.errors.adventureAlreadyExist === error) {\n                let existingAdventure = this.getAdventure(adventure.id);\n                existingAdventure.downloadUrl = adventure.downloadUrl;\n                this.updateAdventureWithoutParagraphs(existingAdventure);\n            }\n        }\n    }\n\n    getAdventuresOverview() {\n        let keys = this.getAdventurePersistenceKeys();\n        let adventures = [];\n        for (let i = 0; i < keys.length; i++) {\n            let adventure = this.persistenceService.get(keys[i]);\n            adventures.push({\n                id: adventure.id,\n                name : adventure.name,\n                numberOfParagraphs : adventure.numberOfParagraphs,\n                language : adventure.language,\n                version : adventure.version,\n                authors : adventure.authors,\n                serie: adventure.serie,\n                downloadUrl: adventure.downloadUrl\n            });\n        }\n        return adventures;\n    }\n\n    getAdventurePersistenceKeys() {\n        let keys = Object.keys(localStorage);\n        let result = [];\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') === -1) {\n                result.push(keys[i]);\n            }\n        }\n        return result;\n    }\n\n    getAdventure(adventureId) {\n        return this.persistenceService.get(this.getAdventurePersistenceKey(adventureId));\n    }\n\n    importAdventure(adventureAsStr) {\n        try {\n            let adventure = JSON.parse(adventureAsStr);\n            let missingMandatoryFields = [];\n            if (!adventure.id) {\n                missingMandatoryFields.push('id');\n            }\n            if (!adventure.name) {\n                missingMandatoryFields.push('name');\n            }\n            if (!adventure.authors) {\n                missingMandatoryFields.push('authors');\n            }\n            if (!adventure.version) {\n                missingMandatoryFields.push('version');\n            }\n            if (!adventure.language) {\n                missingMandatoryFields.push('language');\n            }\n            if (!adventure.startParagraphNr) {\n                missingMandatoryFields.push('startParagraphNr');\n            }\n            if (missingMandatoryFields.length > 0) {\n                this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n            } else if (!!this.getAdventure(adventure.id)) {\n                this.messagesService.errorMessage(\"The adventure already exists with id '\" + adventure.id + \"'\", false);\n            } else {\n                this.updateAdventureWithoutParagraphs(adventure);\n                if (!!adventure.paragraphs) {\n                    for (let i = 0; i < adventure.paragraphs.length; i++) {\n                        this.setParagraph(adventure.id, adventure.paragraphs[i], true);\n                    }\n                }\n            }\n        } catch (error) {\n            this.messagesService.errorMessage('Cannot import adventure', false);\n        }\n    }\n\n    updateAdventureWithoutParagraphs(adventure) {\n        let adventureIdFromFromAdventureName = this.getAdventureIdFromAdventureName(adventure.name);\n        if (!adventure.id) {\n            adventure.id = adventureIdFromFromAdventureName;\n            let existingAdventure = this.getAdventure(adventureIdFromFromAdventureName);\n            if (!!existingAdventure) {\n                throw this.constants.errors.adventureAlreadyExist;\n            }\n        }\n        let adventureInfo = {};\n        let keys = Object.keys(adventure);\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i] !== 'paragraphs') {\n                adventureInfo[keys[i]] = adventure[keys[i]];\n            }\n        }\n        this.persistenceService.save(this.constants.data.adventure + \".\" + adventure.id, adventureInfo);\n    }\n\n    getAdventureIdFromAdventureName(adventureName) {\n        return encodeURIComponent(adventureName.replace(/\\s+/g, '-').toLowerCase());\n    }\n\n    deleteAdventureAndParagraphs(adventureId) {\n        this.persistenceService.remove(this.getAdventurePersistenceKey(adventureId));\n        let paragraphKeys = this.getAdventureParagraphKeys(adventureId);\n        for (let i = 0; i < paragraphKeys.length; i++) {\n            this.persistenceService.remove(paragraphKeys[i]);\n        }\n    }\n\n    setParagraph(adventureId, paragraph, checkDupplicate) {\n        let key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n        if (!!checkDupplicate) {\n            let existingParagraph = this.persistenceService.get(key);\n            if (!!existingParagraph) {\n                this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraph\", {paragraphNr: paragraph.paragraphNr }), true);\n                return ;\n            }\n        }\n        this.checkDupplicateChoices(paragraph);\n        this.persistenceService.save(key, paragraph);\n    }\n\n    getOrCreateParagraph(adventureId, paragraphNr) {\n        let foundParagraph = this.getParagraph(adventureId, paragraphNr);\n        if (!!foundParagraph) {\n            return foundParagraph;\n        } else {\n            let paragraph = {\n                version : this.constants.version,\n                adventureId : adventureId,\n                paragraphNr : new Number(paragraphNr),\n                description : '',\n                choices : []\n            };\n            this.updateParagraph(adventureId, paragraph);\n            return paragraph;\n        }\n    }\n\n    getParagraph(adventureId, paragraphNr) {\n        let key = this.getParagraphPersistenceKey(adventureId, paragraphNr);\n        return this.persistenceService.get(key);\n    }\n\n    updateParagraph(adventureId, paragraph) {\n        if (!paragraph) {\n            return ;\n        }\n        paragraph = JSON.parse(JSON.stringify(paragraph));\n        let key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n        if (!!paragraph.choices) {\n            for (let i = 0; i < paragraph.choices.length; i++) {\n                delete paragraph.choices[i]['$$hashKey'];\n            }\n        }\n        this.checkDupplicateChoices(paragraph);\n        this.persistenceService.save(key, paragraph);\n    }\n\n    checkDupplicateChoices(paragraph) {\n        if (!!paragraph && !!paragraph.choices) {\n            let choices = [];\n            for (let i = 0; i < paragraph.choices.length; i++) {\n                if (choices.indexOf(paragraph.choices[i].paragraphNr) !== -1) {\n                    this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraphChoices\", {paragraphNr: paragraph.paragraphNr, choiceParagraphNr : paragraph.choices[i].paragraphNr }), true);\n                }\n                choices.push(paragraph.choices[i].paragraphNr);\n            }\n        }\n    }\n\n    getAdventureParagraphKeys(adventureId) {\n        let paragraphKeys = [];\n        let keys = Object.keys(localStorage);\n        let keyAdventureId = this.constants.data.adventure + '.' + adventureId;\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') !== -1) {\n                let adventureIdInKey = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n                if (adventureIdInKey === keyAdventureId) {\n                    paragraphKeys.push(keys[i]);\n                }\n            }\n        }\n        return paragraphKeys;\n    }\n\n    getParagraphPersistenceKey(adventureId, paragraphNr) {\n        return this.getAdventurePersistenceKey(adventureId) + \".paragraph.\" + paragraphNr;\n    }\n\n    getAdventurePersistenceKey(adventureId) {\n        let key = adventureId;\n        if (!key.startsWith(this.constants.data.adventure + \".\")) {\n            key = this.constants.data.adventure + \".\" + key;\n        }\n        return key;\n    }\n\n    exportAdventure(adventureId) {\n        let adventure = this.getAdventure(adventureId);\n        adventure.paragraphs = [];\n\n        let keys = Object.keys(localStorage);\n        let adventureIdKeyPrefix = this.constants.data.adventure + '.' + adventureId;\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(adventureIdKeyPrefix + \".paragraph\") !== -1) {\n                let currentAdventureIdPrefix = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n                if (currentAdventureIdPrefix === adventureIdKeyPrefix) {\n                    let paragraph = this.persistenceService.get(keys[i]);\n                    if (!!paragraph) {\n                        delete paragraph.version;\n                        delete paragraph.adventureId;\n                        adventure.paragraphs.push(paragraph);\n                    }\n                }\n            }\n        }\n        adventure.paragraphs = this.sortParagraphs(adventure.paragraphs);\n        return adventure;\n    }\n\n    sortParagraphs(paragraphs) {\n        return paragraphs.sort(this.compareParagraph);\n    }\n\n    compareParagraph(p1, p2) {\n        if (!p1 && !p2) {\n            return 0;\n        } else if (!p1) {\n            return 1;\n        } else if (!p2) {\n            return -1;\n        } else {\n            return p1.paragraphNr - p2.paragraphNr;\n        }\n    }\n}\n\nexport default AdventurePersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/adventure-persistence/adventure-persistence.service.js\n **/","import angular from 'angular';\nimport libraryPersistenceService from './library-persistence.service';\n\nlet libraryPersistenceModule = angular.module('app.components.services.persistence.library', [])\n\n.service('libraryPersistenceService', libraryPersistenceService);\n\nexport default libraryPersistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/library-persistence/library-persistence.js\n **/","class LibraryPersistenceService {\n\n    /*@ngInject*/\n    constructor(constants, persistenceService, messagesService, remoteJsonRetrieverService, $q, $filter, adventurePersistenceService) {\n        this.persistenceService = persistenceService;\n        this.constants = constants;\n        this.messagesService = messagesService;\n        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n        this.$q = $q;\n        this.$filter = $filter;\n        this.adventurePersistenceService = adventurePersistenceService;\n    }\n\n    downloadLibrary(library) {\n        let self = this;\n        let deferred = this.$q.defer();\n        let promise = this.remoteJsonRetrieverService.retrieveJson(library.libraryUrl);\n        promise.then(\n            function(json) {\n                library.downloadHistory.push(self.now() + ' : downloaded');\n                self.updateLibrary(library);\n                self.adventurePersistenceService.updateDownloadableAdventures(json);\n                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n                deferred.resolve('Success');\n            },\n            function(reason) {\n                library.downloadHistory.push(self.now() + ' : error');\n                self.updateLibrary(library);\n                self.messagesService.errorMessage(reason, false);\n                deferred.reject(reason);\n            }\n        );\n        return deferred.promise;\n    }\n\n    now() {\n        let now = new Date();\n        return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n    }\n\n\n    deleteLibrary(libraryId) {\n        this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n    }\n\n    importLibraries(librariesStr) {\n        try {\n            let libraries = JSON.parse(librariesStr);\n            this.checkMissingFields(libraries);\n            for (let i = 0; i < libraries.length; i++) {\n                let library = libraries[i];\n                this.updateLibrary(library);\n            }\n        } catch (error) {\n            this.messagesService.errorMessage('Cannot import libraries', false);\n            throw error;\n        }\n    }\n\n    checkMissingFields(libraries) {\n        for (let i = 0; i < libraries.length; i++) {\n            let library = libraries[i];\n            let missingMandatoryFields = [];\n            if (!library.siteName) {\n                missingMandatoryFields.push('siteName');\n            }\n            if (!library.libraryUrl) {\n                missingMandatoryFields.push('libraryUrl');\n            }\n            if (missingMandatoryFields.length > 0) {\n                this.messagesService.errorMessage('Cannot import a library because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n                throw this.constants.errors.missingMandatoryFields;\n            }\n        }\n    }\n\n    updateLibrary(library) {\n        if (!library.id) {\n            this.checkDupplicateLibrary(library);\n            library.id = this.getIdFromLibrarySiteName(library.siteName);\n        }\n        if (!library.downloadHistory) {\n            library.downloadHistory = [];\n            library.downloadHistory.push('Not downloaded yet');\n        }\n        this.persistenceService.save(this.getLibraryPersistenceKey(library.id), library);\n    }\n\n    getIdFromLibrarySiteName(siteName) {\n        return encodeURIComponent(siteName.replace(/\\s+/g, '-').toLowerCase()) + new Date().getTime().toString();\n    }\n\n    checkDupplicateLibrary(library) {\n        if (!!library.libraryUrl) {\n            let libraries = this.getLibraries();\n            for (let i = 0; i < libraries.length; i++) {\n                if (library.libraryUrl === libraries[i].libraryUrl) {\n                    throw this.constants.errors.libraryAlreadyExist;\n                }\n            }\n        }\n    }\n\n    exportLibraries() {\n        let libraries = this.getLibraries();\n        for (let i = 0; i < libraries.length; i++) {\n            delete libraries[i].id;\n            delete libraries[i].lastDownload;\n        }\n        return JSON.stringify(libraries);\n    }\n\n    getLibraries() {\n        let result = [];\n        let keys = this.getLibraryPersistenceKeys();\n        for (let i = 0; i < keys.length; i++) {\n            result.push(this.getLibrary(keys[i]));\n        }\n        return result;\n    }\n\n    getLibraryPersistenceKeys() {\n        let keys = Object.keys(localStorage);\n        let result = [];\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(this.constants.data.library)) {\n                result.push(keys[i]);\n            }\n        }\n        return result;\n    }\n\n    getLibrary(libraryId) {\n        return this.persistenceService.get(this.getLibraryPersistenceKey(libraryId));\n    }\n\n    deleteLibrary(libraryId) {\n        this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n    }\n\n    getLibraryPersistenceKey(libraryId) {\n        let key = libraryId;\n        if (!key.startsWith(this.constants.data.library)) {\n            key = this.constants.data.library + \".\" + key;\n        }\n        return key;\n    }\n}\n\nexport default LibraryPersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/library-persistence/library-persistence.service.js\n **/","class PersistenceService {\n\n    /*@ngInject*/\n    constructor(softwareRequirementsCheckerService, messagesService) {\n        this.isLocalStorageSupported = softwareRequirementsCheckerService.isLocalStorageSupported();\n        this.messagesService = messagesService;\n    }\n\n\n    findKeysWithPrefix(keyPrefix) {\n        if (!this.isLocalStorageSupported) {\n            return null;\n        }\n        let keys = Object.keys(localStorage);\n        let result = [];\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(keyPrefix)) {\n                result.push(keys[i]);\n            }\n        }\n        return result;\n    }\n\n    get(key) {\n        if (!this.isLocalStorageSupported) {\n            return null;\n        }\n        let value = localStorage.getItem(key);\n        if (value === null || value === \"undefined\" || value === undefined) {\n            return null;\n        } else {\n            try {\n                return JSON.parse(value);\n            } catch (e) {\n                // cannot be parsed, must be a string\n                return value;\n            }\n        }\n    }\n\n    save(key, value) {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        if (typeof value === 'string') {\n            localStorage.setItem(key, value);\n        } else {\n            localStorage.setItem(key, JSON.stringify(value));\n        }\n    }\n\n    remove(key) {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        localStorage.removeItem(key);\n    }\n\n    import(importDataAsJson) {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        this.cleanAllData();\n        let importData = JSON.parse(importDataAsJson);\n        let keys = Object.keys(importData);\n        for (let i = 0; i < keys.length; i++) {\n            this.save(keys[i], importData[keys[i]]);\n        }\n    }\n\n    export() {\n        return JSON.stringify(localStorage);\n\n    }\n\n    cleanAllData() {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        localStorage.clear();\n    }\n\n    getUsedCapacity() {\n        if (!this.isLocalStorageSupported) {\n            return 0;\n        }\n        return unescape(encodeURIComponent(JSON.stringify(localStorage))).length;\n    }\n\n    getRemainingCapacity() {\n        let b10 = \"0123456789\";\n        let b100 = this.repeat(b10, 10);\n        let b1000 = this.repeat(b100, 10);\n        let b10k = this.repeat(b1000, 10);\n        let b100k = this.repeat(b10k, 10);\n        let b1M = this.repeat(b100k, 10);\n        let buffers = [ b1M, b100k, b10k, b1000, b100, b10];\n        for (let i = 0; i < buffers.length; i++) {\n            while (this.setLocalStorageWithoutError(buffers[i])) {\n            }\n        }\n        let capacity = this.getUsedCapacity();\n        delete localStorage.test;\n        return capacity;\n    }\n\n    getUsedCapacityInPercent() {\n        let usedCapacity = this.getUsedCapacity();\n        let remainingCapacity = this.getRemainingCapacity();\n        let available = usedCapacity + remainingCapacity;\n        return usedCapacity / available * 100;\n    }\n\n    setLocalStorageWithoutError(value) {\n        try {\n            localStorage.test = localStorage.test + value;\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    repeat(string, count) {\n        var array = [];\n        while (count--) {\n            array.push(string);\n        }\n        return array.join('');\n    }\n}\n\nexport default PersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/persistence.service.js\n **/","import angular from 'angular';\nimport dicesService from './dices.service';\n\nlet dicesModule = angular.module('app.components.services.dices', [])\n\n.service('dicesService', dicesService);\n\nexport default dicesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/dices/dices.js\n **/","class DicesService {\n\n    /*@ngInject*/\n    constructor() {\n    }\n\n    rollDices(qty, maxDiceValue) {\n        let dicesValue = 0;\n        for (let i = 0; i < qty; i++) {\n            dicesValue = dicesValue + this.randomIntInclusive(1, maxDiceValue);\n        }\n        return dicesValue;\n    }\n\n    randomIntInclusive(min, max) {\n      return (Math.floor(Math.random() * (max - min + 1)) + min);\n    }\n}\n\nexport default DicesService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/dices/dices.service.js\n **/","import angular from 'angular';\nimport formHelperService from './form-helper.service';\n\nlet formHelperModule = angular.module('app.components.services.form-helper', [])\n\n.service('formHelperService', formHelperService);\n\nexport default formHelperModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/form-helper/form-helper.js\n **/","class FormHelperService {\n\n    /*@ngInject*/\n    constructor(messagesService) {\n        this.messagesService = messagesService;\n    }\n\n    setErrorFieldsAsDirty(form, withMessage) {\n        if (form.$invalid) {\n            if (!!withMessage) {\n                this.messagesService.errorMessage('Please complete mandatory fields', false);\n            }\n\n            // error \"dirty\" field will be hightlighted (see app.css)\n            angular.forEach(form.$error, function(type) {\n                angular.forEach(type, function(field) {\n                    field.$setDirty();\n                });\n            });\n        }\n    }\n}\n\nexport default FormHelperService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/form-helper/form-helper.service.js\n **/","class RemoteJsonRetrieverService {\n\n    /*@ngInject*/\n    constructor($http, $q) {\n        this.$http = $http;\n        this.$q = $q;\n    }\n\n    retrieveJson(jsonUrl) {\n        let deferred = this.$q.defer();\n        this.$http.get(jsonUrl).then(\n            function successCallback(response) {\n                if (!!response && !!response.data) {\n                    deferred.resolve(response.data);\n                } else {\n                    deferred.reject('Cannot get data from ' + jsonUrl);\n                }\n            },\n            function errorCallback(response) {\n                deferred.reject('Cannot get data from ' + jsonUrl);\n            }\n        );\n        return deferred.promise;\n    }\n}\n\nexport default RemoteJsonRetrieverService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/remote-json-retriever/remote-json-retriever.service.js\n **/","import angular from 'angular';\n\nlet constantsModule = angular.module('app.components.constants', [])\n    .constant('constants', {\n        version: '20161002',\n        supportedLanguages: ['en', 'fr'],\n        data: {\n            selectedLanguage: 'selectedLanguage',\n            adventure: 'adventure',\n            game: 'game',\n            library: 'library'\n        },\n        url: {\n            battle : '/battle',\n            chooseLanguage : '/choose-language',\n            administration: '/administration',\n            games : '/games',\n            root: '/',\n            selectAdventureForNewGame : '/games/create/select-adventure',\n            createPlayerForNewGame : '/games/create/create-player',\n            chooseItemsForNewGame : '/games/create/choose-items',\n            gameDetail: '/{adventureId}/{paragraphNr}/game/{gameId}',\n            about: '/about?admin',\n            adventures: '/adventures',\n            adventureDetail: '/adventures',\n            libraries: '/libraries',\n            libraryDetail: '/libraries',\n        },\n        choices : {\n            yes : 'Yes',\n            no : 'No',\n            ok: 'Ok',\n            cancel: 'Cancel'\n        },\n        errors: {\n            adventureAlreadyExist : 'error.adventureAlreadyExist',\n            libraryAlreadyExist : 'error.libraryAlreadyExist',\n            missingMandatoryFields: 'error.missingMandatoryFields'\n        }\n    });\n\nexport default constantsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/constants/constants.js\n **/","/**\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n *\n * ESTA WebJS: Hauptkomponente der Angular-Applikation\n *\n * @author u220374 (Reto Lehmann)\n * @version: 0.0.1\n * @since 23.10.2015, 2015.\n */\nimport template from './app.html';\nimport './app.css';\n\nlet appComponent = () => {\n    return {\n        template, restrict: 'E'\n    };\n};\n\nexport default appComponent;\n\n\n/** WEBPACK FOOTER **\n ** ./app.component.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./app.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./app.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./app.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app.css\n ** module id = 128\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body{padding-top:70px}.ng-invalid.ng-dirty:required{background-color:#f99!important}.error{color:#f99}.spacer{margin:0;padding:0;height:10px}.table-borderless tbody tr td,.table-borderless tbody tr th,.table-borderless thead tr th{border:none}.editable-div{height:auto;min-height:34px}.modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:30%}.close{float:right}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/pascal/Documents/dev/gamebooks-assistant/~/css-loader!./app.css\n ** module id = 129\n ** module chunks = 0\n **/","/*! http://mths.be/startswith v0.2.0 by @mathias */\nif (!String.prototype.startsWith) {\n\t(function() {\n\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar toString = {}.toString;\n\t\tvar startsWith = function(search) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\tif (search && toString.call(search) == '[object RegExp]') {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar stringLength = string.length;\n\t\t\tvar searchString = String(search);\n\t\t\tvar searchLength = searchString.length;\n\t\t\tvar position = arguments.length > 1 ? arguments[1] : undefined;\n\t\t\t// `ToInteger`\n\t\t\tvar pos = position ? Number(position) : 0;\n\t\t\tif (pos != pos) { // better `isNaN`\n\t\t\t\tpos = 0;\n\t\t\t}\n\t\t\tvar start = Math.min(Math.max(pos, 0), stringLength);\n\t\t\t// Avoid the `indexOf` call if no match is possible\n\t\t\tif (searchLength + start > stringLength) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar index = -1;\n\t\t\twhile (++index < searchLength) {\n\t\t\t\tif (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, 'startsWith', {\n\t\t\t\t'value': startsWith,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.startsWith = startsWith;\n\t\t}\n\t}());\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/pascal/Documents/dev/gamebooks-assistant/~/string.prototype.startswith/startswith.js\n ** module id = 132\n ** module chunks = 0\n **/"],"sourceRoot":""}