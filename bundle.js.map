{"version":3,"sources":["webpack:///bundle.js","webpack:///./app.js","webpack:///./i18n/en.js","webpack:///./i18n/fr.js","webpack:////home/pascal/Documents/dev/gamebooks-assistant/~/angular-cookies/index.js","webpack:////home/pascal/Documents/dev/gamebooks-assistant/~/angular-cookies/angular-cookies.js","webpack:///./components/components.js","webpack:///./components/gui/gui.js","webpack:///./components/gui/components/components.js","webpack:///./components/gui/components/dices/dices.js","webpack:///./components/gui/components/dices/dices.html","webpack:///./components/gui/components/dices/dices.controller.js","webpack:///./components/gui/components/messages/messages.service.js","webpack:///./components/gui/components/messages/messages.html","webpack:///./components/gui/components/messages/messages.controller.js","webpack:///./components/gui/components/navbar/navbar.controller.js","webpack:///./components/gui/components/language-picker/language-picker.js","webpack:///./components/gui/components/language-picker/language-picker.controller.js","webpack:///./components/gui/components/language-picker/language-picker.service.js","webpack:///./components/gui/components/popup/popup.js","webpack:///./components/gui/components/popup/popup.html","webpack:///./components/gui/components/popup/popup.controller.js","webpack:///./components/gui/components/popup/popup.service.js","webpack:///./components/gui/components/items/items.js","webpack:///./components/gui/components/items/items.html","webpack:///./components/gui/components/items/items.controller.js","webpack:///./components/gui/components/stats/stats.js","webpack:///./components/gui/components/stats/stats.controller.js","webpack:///./components/gui/components/paragraph/paragraph.js","webpack:///./components/gui/components/paragraph/paragraph.controller.js","webpack:///./components/gui/components/back-button/back-button.js","webpack:///./components/gui/components/back-button/back-button.controller.js","webpack:///./components/gui/components/end-game-popup/end-game-popup.js","webpack:///./components/gui/components/end-game-popup/end-game-popup.html","webpack:///./components/gui/components/end-game-popup/end-game-popup.controller.js","webpack:///./components/gui/components/end-game-popup/end-game-popup.service.js","webpack:///./components/gui/components/export-data-popup/export-data-popup.js","webpack:///./components/gui/components/export-data-popup/export-data-popup.html","webpack:///./components/gui/components/export-data-popup/export-data-popup.controller.js","webpack:///./components/gui/components/export-data-popup/export-data-popup.service.js","webpack:///./components/gui/components/import-data-popup/import-data-popup.js","webpack:///./components/gui/components/import-data-popup/import-data-popup.html","webpack:///./components/gui/components/import-data-popup/import-data-popup.controller.js","webpack:///./components/gui/components/import-data-popup/import-data-popup.service.js","webpack:///./components/gui/screens/home/home.js","webpack:///./components/gui/screens/home/home.html","webpack:///./components/gui/screens/home/home.controller.js","webpack:///./components/gui/screens/games/list/games-list.js","webpack:///./components/gui/screens/games/list/games-list.html","webpack:///./components/gui/screens/games/list/games-list.controller.js","webpack:///./components/gui/screens/games/detail/game-detail.js","webpack:///./components/gui/screens/games/detail/notes/notes.js","webpack:///./components/gui/screens/games/detail/notes/notes.controller.js","webpack:///./components/gui/screens/games/detail/game-detail.controller.js","webpack:///./components/gui/screens/games/create/create-game-wizard.js","webpack:///./components/gui/screens/games/create/select-adventure/select-adventure.js","webpack:///./components/gui/screens/games/create/select-adventure/select-adventure.controller.js","webpack:///./components/gui/screens/games/create/create-player/create-player.js","webpack:///./components/gui/screens/games/create/create-player/create-player.html","webpack:///./components/gui/screens/games/create/create-player/create-player.controller.js","webpack:///./components/gui/screens/games/create/choose-items/choose-items.js","webpack:///./components/gui/screens/games/create/choose-items/choose-items.controller.js","webpack:///./components/gui/screens/battle/battle.js","webpack:///./components/gui/screens/battle/battle.html","webpack:///./components/gui/screens/battle/battle.controller.js","webpack:///./components/gui/screens/administration/administration.js","webpack:///./components/gui/screens/administration/administration.controller.js","webpack:///./components/gui/screens/choose-language/choose-language.js","webpack:///./components/gui/screens/choose-language/choose-language.html","webpack:///./components/gui/screens/choose-language/choose-language.controller.js","webpack:///./components/gui/screens/about/about.js","webpack:///./components/gui/screens/about/about.controller.js","webpack:///./components/gui/screens/adventures/adventures.js","webpack:///./components/gui/screens/adventures/list/adventures-list.js","webpack:///./components/gui/screens/adventures/list/adventures-list.controller.js","webpack:///./components/gui/screens/adventures/detail/adventure-detail.js","webpack:///./components/gui/screens/adventures/detail/adventure-detail.html","webpack:///./components/gui/screens/adventures/detail/adventure-detail.controller.js","webpack:///./components/gui/screens/libraries/libraries.js","webpack:///./components/gui/screens/libraries/list/libraries-list.js","webpack:///./components/gui/screens/libraries/list/libraries-list.controller.js","webpack:///./components/gui/screens/libraries/detail/library-detail.js","webpack:///./components/gui/screens/libraries/detail/library-detail.html","webpack:///./components/gui/screens/libraries/detail/library-detail.controller.js","webpack:///./components/services/services.js","webpack:///./components/services/language-availability-checker/language-availability-checker.service.js","webpack:///./components/services/software-requirements-checker/software-requirements-checker.service.js","webpack:///./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.js","webpack:///./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.service.js","webpack:///./components/services/persistence/persistence.js","webpack:///./components/services/persistence/game-persistence/game-persistence.js","webpack:///./components/services/persistence/game-persistence/game-persistence.service.js","webpack:///./components/services/persistence/adventure-persistence/adventure-persistence.js","webpack:///./components/services/persistence/adventure-persistence/adventure-persistence.service.js","webpack:///./components/services/persistence/library-persistence/library-persistence.js","webpack:///./components/services/persistence/library-persistence/library-persistence.service.js","webpack:///./components/services/persistence/persistence.service.js","webpack:///./components/services/dices/dices.js","webpack:///./components/services/dices/dices.service.js","webpack:///./components/services/form-helper/form-helper.js","webpack:///./components/services/form-helper/form-helper.service.js","webpack:///./components/services/remote-json-retriever/remote-json-retriever.service.js","webpack:///./components/constants/constants.js","webpack:///./app.component.js","webpack:///./app.css?4676","webpack:///./app.css","webpack:////home/pascal/Documents/dev/gamebooks-assistant/~/string.prototype.startswith/startswith.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_i18nEnJs","_i18nEnJs2","_i18nFrJs","_i18nFrJs2","_angular","_angular2","_angularUiRouter","_angularUiRouter2","_angularResource","_angularResource2","_angularCookies","_angularCookies2","_angularTranslate","_angularTranslate2","_angularUiBootstrap","_angularUiBootstrap2","_componentsComponents","_componentsComponents2","_appComponent","_appComponent2","name","config","$translateProvider","translations","preferredLanguage","useSanitizeValueStrategy","$compileProvider","aHrefSanitizationWhitelist","directive","$parse","restrict","scope","link","element","attrs","fn","onReadFile","on","onChangeEvent","reader","FileReader","onload","onLoadEvent","$apply","$fileContent","target","result","readAsText","srcElement","files","Object","defineProperty","value","englishTranslations","yesno_true","yesno_false","NumberOfParagraphs","ChoiceAdventure","ChoosenAdventure","ChoiceGame","ChoosenGame","ChoiceLibrary","ChoosenLibrary","DupplicateParagraph","ExportGame","ExportAdventure","export_file","export_email","export_text","import_file","import_text","error.adventureAlreadyExist","error.libraryAlreadyExist","frenchTranslations","window","angular","$$CookieWriter","$document","$log","$browser","buildCookieString","options","path","expires","isDefined","cookiePath","isUndefined","isString","Date","str","encodeURIComponent","domain","toUTCString","secure","cookieLength","length","warn","baseHref","rawDocument","cookie","provider","calcOptions","extend","defaults","this","$get","$$cookieReader","$$cookieWriter","get","key","getObject","fromJson","getAll","put","putObject","toJson","remove","undefined","factory","$cookies","$inject","_guiGui","_guiGui2","_servicesServices","_servicesServices2","_constantsConstants","_constantsConstants2","componentModule","_screensScreens","_screensScreens2","guiModule","_dicesDices","_dicesDices2","_messagesMessages","_messagesMessages2","_navbarNavbar","_navbarNavbar2","_languagePickerLanguagePicker","_languagePickerLanguagePicker2","_popupPopup","_popupPopup2","_itemsItems","_itemsItems2","_statsStats","_statsStats2","_paragraphParagraph","_paragraphParagraph2","_backButtonBackButton","_backButtonBackButton2","_endGamePopupEndGamePopup","_endGamePopupEndGamePopup2","_exportDataPopupExportDataPopup","_exportDataPopupExportDataPopup2","_importDataPopupImportDataPopup","_importDataPopupImportDataPopup2","guiComponentsModule","_dicesHtml","_dicesHtml2","_dicesController","_dicesController2","dicesModule","component","template","controller","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","DicesController","dicesService","clear","appendToResult","rollDices","dicesValue","_messagesService","_messagesService2","_messagesHtml","_messagesHtml2","_messagesController","_messagesController2","messagesModule","service","MessagesService","$rootScope","$translate","messages","forEach","msg","index","arr","keepAfterLocationChange","splice","_addMessage","type","translatedMsg","instant","_hasMessage","push","message","hasMessage","MessagesController","messagesService","_this","$on","clearMessages","getMessages","removeMessage","_navbarHtml","_navbarHtml2","_navbarController","_navbarController2","navbarModule","NavbarController","preScreenLoadingInterceptorsCallerService","$location","languagePickerService","intercept","params","search","admin","navCollapsed","initData","supportedLanguages","getSupportedLanguages","changeLanguage","getSelectedLanguage","selectedLanguage","language","_languagePickerHtml","_languagePickerHtml2","_languagePickerController","_languagePickerController2","_languagePickerService","_languagePickerService2","languagePickerModule","LanguagePickerController","LanguagePickerService","gamePersistenceService","constants","initSupportedLanguages","code","navigator","startsWith","use","setSelectedLanguage","selected","_popupHtml","_popupHtml2","_popupController","_popupController2","_popupService","_popupService2","popupModule","bindings","PopupController","popupService","cfg","JSON","parse","closeOnClickOutsideModal","close","choice","id","PopupService","popups","popupDomElementId","callback","modalElement","document","getElementById","style","display","_itemsHtml","_itemsHtml2","_itemsController","_itemsController2","itemsModule","gameId","items","ItemsController","rows","popupDeleteItemConfig","text","choices","yes","no","withCloseButton","row","quantity","addedRow","removedRow","rowToBeRemoved","self","show","removeRow","indexOf","clearEditedRow","saveInPersistence","editedRow","originalRow","description","$invalid","updatedGame","getGame","updateGame","_statsHtml","_statsHtml2","_statsController","_statsController2","statsModule","stats","StatsController","current","save","_paragraphHtml","_paragraphHtml2","_paragraphController","_paragraphController2","paragraphModule","paragraph","ParagraphController","adventurePersistenceService","popupDeleteChoiceConfig","game","adventureId","playerName","descriptionEditable","alreadyChoosen","getChoosenChoices","paragraphNr","inputParagraphNr","inputDescription","saveParagraphChoices","originalDescription","updateParagraph","bookId","setCurrentParagraphNrOfGame","nextUrl","getUrlOfGame","url","_backButtonHtml","_backButtonHtml2","_backButtonController","_backButtonController2","backButtonModule","BackButtonController","$window","history","back","_endGamePopupHtml","_endGamePopupHtml2","_endGamePopupController","_endGamePopupController2","_endGamePopupService","_endGamePopupService2","endGamePopupModule","EndGamePopupController","endGamePopupService","endGameReason","EndGamePopupService","_exportDataPopupHtml","_exportDataPopupHtml2","_exportDataPopupController","_exportDataPopupController2","_exportDataPopupService","_exportDataPopupService2","exportDataPopupModule","constant","file","email","ExportDataPopupController","exportDataPopupService","exportMethods","formHelperService","cancel","ok","methods","exportMethod","form","setErrorFieldsAsDirty","displayExportEmail","href","click","displayDownload","ExportDataPopupService","data","blob","Blob","URL","webkitURL","createObjectURL","_importDataPopupHtml","_importDataPopupHtml2","_importDataPopupController","_importDataPopupController2","_importDataPopupService","_importDataPopupService2","importDataPopupModule","ImportDataPopupController","importDataPopupService","importMethods","importMethod","importData","importTextData","importUploadData","ImportDataPopupService","_homeHome","_homeHome2","_gamesGames","_gamesGames2","_battleBattle","_battleBattle2","_administrationAdministration","_administrationAdministration2","_chooseLanguageChooseLanguage","_chooseLanguageChooseLanguage2","_aboutAbout","_aboutAbout2","_adventuresAdventures","_adventuresAdventures2","_librariesLibraries","_librariesLibraries2","screensModule","_homeHtml","_homeHtml2","_homeController","_homeController2","homeModule","$stateProvider","$urlRouterProvider","otherwise","state","root","HomeController","games","_listGamesList","_listGamesList2","_detailGameDetail","_detailGameDetail2","_createCreateGameWizard","_createCreateGameWizard2","gamesModule","_gamesListHtml","_gamesListHtml2","_gamesListController","_gamesListController2","gamesListModule","GamesListController","popupDeleteGameConfig","popupExportGameConfig","popupImportGameConfig","gamePersistenceKeys","getGamePersistenceKeys","completeAdventureData","adventure","getAdventure","adventureName","serie","errorMessage","adventureKeys","getAdventurePersistenceKeys","selectAdventureForNewGame","getSelectedRow","deleteGame","exportData","stringify","exportDownloadBlobUrl","createDownloadBlobUrl","exportTitle","title","importGame","_notesNotes","_notesNotes2","_gameDetailHtml","_gameDetailHtml2","_gameDetailController","_gameDetailController2","gameDetailModule","gameDetail","_notesHtml","_notesHtml2","_notesController","_notesController2","notesModule","NotesController","popupDeleteNoteConfig","notes","getParagraph","isParagraph","note","concat","noteValue","saveNotes","Number","savePlayerNotes","saveParagraphNotes","savedNotes","GameDetailController","$stateParams","decodeURIComponent","getOrCreateParagraph","popupAbandonGameConfig","checkAvailableAdventure","battle","_selectAdventureSelectAdventure","_selectAdventureSelectAdventure2","_createPlayerCreatePlayer","_createPlayerCreatePlayer2","_chooseItemsChooseItems","_chooseItemsChooseItems2","createGameWizardModule","_selectAdventureHtml","_selectAdventureHtml2","_selectAdventureController","_selectAdventureController2","SelectAdventureModule","SelectAdventureController","$timeout","setInitialFocus","adventurePersistenceKeys","adventures","selectedAdventureId","that","focus","createPlayerForNewGame","_createPlayerHtml","_createPlayerHtml2","_createPlayerController","_createPlayerController2","CreatePlayerModule","CreatePlayerController","loadData","generateStats","_loop","currentStats","generate","init","sixDiceQuantity","invalid","chooseItemsForNewGame","statsParam","_chooseItemsHtml","_chooseItemsHtml2","_chooseItemsController","_chooseItemsController2","ChooseItemsModule","ChooseItemsController","playerItems","displayNotes","startGameNote","infoMessage","buildGame","addGame","startParagraphNr","getStatsInUrlParam","statsParamValue","startPos","endPos","statsValue","substring","_battleHtml","_battleHtml2","_battleController","_battleController2","BattleModule","BattleController","popupDeleteEnemyConfig","initStatsData","initPlayerStats","defaultEnemy","initDefaultEnemy","addEnemy","displayed","enemyDefaultValue","editableForEnemy","statsPlayer","j","currentGameStats","defaultEnemyName","statsDefaultEnemy","lastColumnSizeInPercent","_administrationHtml","_administrationHtml2","_administrationController","_administrationController2","administrationModule","administration","AdministrationController","persistenceService","popupConfirmImportApplicationDataConfig","popupConfirmDeleteApplicationDataConfig","applicationData","computeLocalStorageCapacities","usedLocalStorage","getUsedCapacity","remainingCapacity","getRemainingCapacity","usedLocalStorageInPercent","getUsedCapacityInPercent","location","reload","cleanAllData","_chooseLanguageHtml","_chooseLanguageHtml2","_chooseLanguageController","_chooseLanguageController2","chooseLanguageModule","chooseLanguage","ChooseLanguageController","_aboutHtml","_aboutHtml2","_aboutController","_aboutController2","aboutModule","about","AboutController","appVersion","version","_listAdventuresList","_listAdventuresList2","_detailAdventureDetail","_detailAdventureDetail2","adventuresModule","_adventuresListHtml","_adventuresListHtml2","_adventuresListController","_adventuresListController2","adventuresListModule","AdventuresListController","popupDeleteAdventureConfig","popupExportAdventureConfig","popupImportAdventureConfig","getAdventuresOverview","clearSelection","downloadHistory","downloadStatus","downloadUrl","adventureDetail","deleteAdventure","deleteAdventureAndParagraphs","exportAdventure","importAdventure","promise","downloadAdventure","then","json","reason","selectedRow","_adventureDetailHtml","_adventureDetailHtml2","_adventureDetailController","_adventureDetailController2","adventureDetailModule","AdventureDetailController","popupDeleteStatsConfig","mode","modifiedItems","updateAdventureWithoutParagraphs","error","getEditRow","_listLibrariesList","_listLibrariesList2","_detailLibraryDetail","_detailLibraryDetail2","librariesModule","_librariesListHtml","_librariesListHtml2","_librariesListController","_librariesListController2","librariesListModule","libraries","LibrariesListController","libraryPersistenceService","popupDeleteLibraryConfig","popupExportLibrariesConfig","popupImportLibrariesConfig","getLibraries","lastDownloadStatus","libraryDetail","deleteLibrary","exportLibraries","importLibraries","downloadLibrary","_libraryDetailHtml","_libraryDetailHtml2","_libraryDetailController","_libraryDetailController2","libraryDetailModule","LibraryDetailController","libraryId","library","getLibrary","updateLibrary","_languageAvailabilityCheckerLanguageAvailabilityChecker","_languageAvailabilityCheckerLanguageAvailabilityChecker2","_softwareRequirementsCheckerSoftwareRequirementsChecker","_softwareRequirementsCheckerSoftwareRequirementsChecker2","_preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller","_preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller2","_persistencePersistence","_persistencePersistence2","_formHelperFormHelper","_formHelperFormHelper2","_remoteJsonRetrieverRemoteJsonRetriever","_remoteJsonRetrieverRemoteJsonRetriever2","servicesModule","_languageAvailabilityCheckerService","_languageAvailabilityCheckerService2","languageAvailabilityCheckerModule","LanguageAvailabilityCheckerService","currentUrl","_softwareRequirementsCheckerService","_softwareRequirementsCheckerService2","softwareRequirementsCheckerModule","SoftwareRequirementsCheckerService","hasSoftwareRequirements","isLocalStorageSupported","storage","x","setItem","removeItem","e","_preScreenLoadingInterceptorsCallerService","_preScreenLoadingInterceptorsCallerService2","preScreenLoadingInterceptorsCallerModule","PreScreenLoadingInterceptorsCallerService","languageAvailabilityCheckerService","softwareRequirementsCheckerService","checkSoftwareRequirements","selectLanguageIfMissing","_gamePersistenceGamePersistence","_gamePersistenceGamePersistence2","_adventurePersistenceAdventurePersistence","_adventurePersistenceAdventurePersistence2","_libraryPersistenceLibraryPersistence","_libraryPersistenceLibraryPersistence2","_persistenceService","_persistenceService2","persistenceModule","_gamePersistenceService","_gamePersistenceService2","gamePersistenceModule","GamePersistenceService","savedGame","newGameId","currentParagraphNr","initial","gameAsStr","missingMandatoryFields","join","getGamePersistenceKey","deleteParagraphNotesOfGame","deleteParagraphChoicesOfGame","paragraphKeys","getAdventureParagraphKeys","newNotes","localStorage","getTime","toString","urlOfGame","findKeysWithPrefix","fromParagrahNr","toParagraphNr","persistenceKeyChoosenParagraphs","choosenParagraphs","keyArray","choosenBy","choosen","_adventurePersistenceService","_adventurePersistenceService2","adventurePersistenceModule","AdventurePersistenceService","$q","remoteJsonRetrieverService","deferred","defer","retrieveJson","resolve","reject","now","$filter","updateDownloadableAdventure","errors","adventureAlreadyExist","existingAdventure","keys","numberOfParagraphs","authors","getAdventurePersistenceKey","adventureAsStr","paragraphs","setParagraph","adventureIdFromFromAdventureName","getAdventureIdFromAdventureName","adventureInfo","replace","toLowerCase","checkDupplicate","getParagraphPersistenceKey","existingParagraph","checkDupplicateChoices","foundParagraph","choiceParagraphNr","keyAdventureId","adventureIdInKey","adventureIdKeyPrefix","currentAdventureIdPrefix","sortParagraphs","sort","compareParagraph","p1","p2","_libraryPersistenceService","_libraryPersistenceService2","libraryPersistenceModule","LibraryPersistenceService","libraryUrl","updateDownloadableAdventures","successMessage","getLibraryPersistenceKey","librariesStr","checkMissingFields","siteName","checkDupplicateLibrary","getIdFromLibrarySiteName","libraryAlreadyExist","lastDownload","getLibraryPersistenceKeys","PersistenceService","keyPrefix","getItem","importDataAsJson","unescape","b10","b100","repeat","b1000","b10k","b100k","b1M","buffers","setLocalStorageWithoutError","capacity","test","usedCapacity","available","string","count","array","_dicesService","_dicesService2","DicesService","qty","maxDiceValue","randomIntInclusive","min","max","Math","floor","random","_formHelperService","_formHelperService2","formHelperModule","FormHelperService","withMessage","$error","field","$setDirty","_remoteJsonRetrieverService","_remoteJsonRetrieverService2","remoteJsonRetrieverModule","RemoteJsonRetrieverService","$http","jsonUrl","response","constantsModule","_appHtml","_appHtml2","appComponent","content","locals","String","object","$defineProperty","call","stringLength","searchString","searchLength","position","arguments","pos","start","charCodeAt"],"mappings":"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","file":"bundle.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Angular-Modul der Hauptkomponente\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 23.10.2015, 2015.\n\t */\n\n\t'use strict';\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _i18nEnJs = __webpack_require__(1);\n\n\tvar _i18nEnJs2 = _interopRequireDefault(_i18nEnJs);\n\n\tvar _i18nFrJs = __webpack_require__(2);\n\n\tvar _i18nFrJs2 = _interopRequireDefault(_i18nFrJs);\n\n\t// Vendor-Imports\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _angularResource = __webpack_require__(6);\n\n\tvar _angularResource2 = _interopRequireDefault(_angularResource);\n\n\tvar _angularCookies = __webpack_require__(8);\n\n\tvar _angularCookies2 = _interopRequireDefault(_angularCookies);\n\n\tvar _angularTranslate = __webpack_require__(10);\n\n\tvar _angularTranslate2 = _interopRequireDefault(_angularTranslate);\n\n\tvar _angularUiBootstrap = __webpack_require__(11);\n\n\tvar _angularUiBootstrap2 = _interopRequireDefault(_angularUiBootstrap);\n\n\t// Interne Modul-Imports\n\n\tvar _componentsComponents = __webpack_require__(13);\n\n\tvar _componentsComponents2 = _interopRequireDefault(_componentsComponents);\n\n\tvar _appComponent = __webpack_require__(130);\n\n\tvar _appComponent2 = _interopRequireDefault(_appComponent);\n\n\t// A robust & optimized ES3-compatible polyfill for the String.prototype.startsWith method in ECMAScript 6\n\t__webpack_require__(136);\n\n\t_angular2['default'].module('app', [_angularUiRouter2['default'], _angularTranslate2['default'], _angularCookies2['default'], _angularResource2['default'], _angularUiBootstrap2['default'], _componentsComponents2['default'].name]).config(['$translateProvider', function ($translateProvider) {\n\t    $translateProvider.translations('en', _i18nEnJs2['default']);\n\t    $translateProvider.translations('fr', _i18nFrJs2['default']);\n\t    $translateProvider.preferredLanguage('en');\n\t    $translateProvider.useSanitizeValueStrategy('escape');\n\t}]).config(['$compileProvider', function ($compileProvider) {\n\t    $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|file|blob):/);\n\t}]).directive('onReadFile', function ($parse) {\n\t    return {\n\t        restrict: 'A',\n\t        scope: false,\n\t        link: function link(scope, element, attrs) {\n\t            var fn = $parse(attrs.onReadFile);\n\n\t            element.on('change', function (onChangeEvent) {\n\t                var reader = new FileReader();\n\n\t                reader.onload = function (onLoadEvent) {\n\t                    scope.$apply(function () {\n\t                        fn(scope, { $fileContent: onLoadEvent.target.result });\n\t                    });\n\t                };\n\n\t                reader.readAsText((onChangeEvent.srcElement || onChangeEvent.target).files[0]);\n\t            });\n\t        }\n\t    };\n\t})\n\n\t// Die App als Direktive exportieren\n\t.directive('app', _appComponent2['default']);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\tvar englishTranslations = {\n\t    'yesno_true': 'yes',\n\t    'yesno_false': 'no',\n\t    'NumberOfParagraphs': '{{ (!!numberOfParagraphs ? numberOfParagraphs + \" paragraphs\" : \"\") }}',\n\t    'ChoiceAdventure': 'Select the adventure \"{{ adventureName }}\"',\n\t    'ChoosenAdventure': 'The adventure \"{{ adventureName }}\" is choosen',\n\t    'ChoiceGame': 'Select the game \"{{ adventureName }}\" of the player \"{{ playerName }}\"',\n\t    'ChoosenGame': 'The game \"{{ adventureName }}\" of the player \"{{ playerName }}\" is choosen',\n\t    'ChoiceLibrary': 'Select the library \"{{ siteName }}\"',\n\t    'ChoosenLibrary': 'The library \"{{ siteName }}\" is choosen',\n\t    'DupplicateParagraph': 'The paragraph \"{{paragraphNr}}\" already exist',\n\t    'ExportGame': \"Export the game of '{{playerName}}' from the adventure '{{adventureName}}'\",\n\t    'ExportAdventure': \"Export the adventure of '{{adventureName}}'\",\n\t    'export_file': 'Download file',\n\t    'export_email': 'Sent email',\n\t    'export_text': 'Text',\n\t    'import_file': 'Upload file',\n\t    'import_text': 'Text',\n\t    'error.adventureAlreadyExist': 'Adventure already exists',\n\t    'error.libraryAlreadyExist': 'Library already exists (JSON url)'\n\t};\n\n\texports['default'] = englishTranslations;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar frenchTranslations = {};\n\n\texports[\"default\"] = frenchTranslations;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(9);\n\tmodule.exports = 'ngCookies';\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t/**\n\t * @license AngularJS v1.5.8\n\t * (c) 2010-2016 Google, Inc. http://angularjs.org\n\t * License: MIT\n\t */\n\t(function(window, angular) {'use strict';\n\n\t/**\n\t * @ngdoc module\n\t * @name ngCookies\n\t * @description\n\t *\n\t * # ngCookies\n\t *\n\t * The `ngCookies` module provides a convenient wrapper for reading and writing browser cookies.\n\t *\n\t *\n\t * <div doc-module-components=\"ngCookies\"></div>\n\t *\n\t * See {@link ngCookies.$cookies `$cookies`} for usage.\n\t */\n\n\n\tangular.module('ngCookies', ['ng']).\n\t  /**\n\t   * @ngdoc provider\n\t   * @name $cookiesProvider\n\t   * @description\n\t   * Use `$cookiesProvider` to change the default behavior of the {@link ngCookies.$cookies $cookies} service.\n\t   * */\n\t   provider('$cookies', [function $CookiesProvider() {\n\t    /**\n\t     * @ngdoc property\n\t     * @name $cookiesProvider#defaults\n\t     * @description\n\t     *\n\t     * Object containing default options to pass when setting cookies.\n\t     *\n\t     * The object may have following properties:\n\t     *\n\t     * - **path** - `{string}` - The cookie will be available only for this path and its\n\t     *   sub-paths. By default, this is the URL that appears in your `<base>` tag.\n\t     * - **domain** - `{string}` - The cookie will be available only for this domain and\n\t     *   its sub-domains. For security reasons the user agent will not accept the cookie\n\t     *   if the current domain is not a sub-domain of this domain or equal to it.\n\t     * - **expires** - `{string|Date}` - String of the form \"Wdy, DD Mon YYYY HH:MM:SS GMT\"\n\t     *   or a Date object indicating the exact date/time this cookie will expire.\n\t     * - **secure** - `{boolean}` - If `true`, then the cookie will only be available through a\n\t     *   secured connection.\n\t     *\n\t     * Note: By default, the address that appears in your `<base>` tag will be used as the path.\n\t     * This is important so that cookies will be visible for all routes when html5mode is enabled.\n\t     *\n\t     **/\n\t    var defaults = this.defaults = {};\n\n\t    function calcOptions(options) {\n\t      return options ? angular.extend({}, defaults, options) : defaults;\n\t    }\n\n\t    /**\n\t     * @ngdoc service\n\t     * @name $cookies\n\t     *\n\t     * @description\n\t     * Provides read/write access to browser's cookies.\n\t     *\n\t     * <div class=\"alert alert-info\">\n\t     * Up until Angular 1.3, `$cookies` exposed properties that represented the\n\t     * current browser cookie values. In version 1.4, this behavior has changed, and\n\t     * `$cookies` now provides a standard api of getters, setters etc.\n\t     * </div>\n\t     *\n\t     * Requires the {@link ngCookies `ngCookies`} module to be installed.\n\t     *\n\t     * @example\n\t     *\n\t     * ```js\n\t     * angular.module('cookiesExample', ['ngCookies'])\n\t     *   .controller('ExampleController', ['$cookies', function($cookies) {\n\t     *     // Retrieving a cookie\n\t     *     var favoriteCookie = $cookies.get('myFavorite');\n\t     *     // Setting a cookie\n\t     *     $cookies.put('myFavorite', 'oatmeal');\n\t     *   }]);\n\t     * ```\n\t     */\n\t    this.$get = ['$$cookieReader', '$$cookieWriter', function($$cookieReader, $$cookieWriter) {\n\t      return {\n\t        /**\n\t         * @ngdoc method\n\t         * @name $cookies#get\n\t         *\n\t         * @description\n\t         * Returns the value of given cookie key\n\t         *\n\t         * @param {string} key Id to use for lookup.\n\t         * @returns {string} Raw cookie value.\n\t         */\n\t        get: function(key) {\n\t          return $$cookieReader()[key];\n\t        },\n\n\t        /**\n\t         * @ngdoc method\n\t         * @name $cookies#getObject\n\t         *\n\t         * @description\n\t         * Returns the deserialized value of given cookie key\n\t         *\n\t         * @param {string} key Id to use for lookup.\n\t         * @returns {Object} Deserialized cookie value.\n\t         */\n\t        getObject: function(key) {\n\t          var value = this.get(key);\n\t          return value ? angular.fromJson(value) : value;\n\t        },\n\n\t        /**\n\t         * @ngdoc method\n\t         * @name $cookies#getAll\n\t         *\n\t         * @description\n\t         * Returns a key value object with all the cookies\n\t         *\n\t         * @returns {Object} All cookies\n\t         */\n\t        getAll: function() {\n\t          return $$cookieReader();\n\t        },\n\n\t        /**\n\t         * @ngdoc method\n\t         * @name $cookies#put\n\t         *\n\t         * @description\n\t         * Sets a value for given cookie key\n\t         *\n\t         * @param {string} key Id for the `value`.\n\t         * @param {string} value Raw value to be stored.\n\t         * @param {Object=} options Options object.\n\t         *    See {@link ngCookies.$cookiesProvider#defaults $cookiesProvider.defaults}\n\t         */\n\t        put: function(key, value, options) {\n\t          $$cookieWriter(key, value, calcOptions(options));\n\t        },\n\n\t        /**\n\t         * @ngdoc method\n\t         * @name $cookies#putObject\n\t         *\n\t         * @description\n\t         * Serializes and sets a value for given cookie key\n\t         *\n\t         * @param {string} key Id for the `value`.\n\t         * @param {Object} value Value to be stored.\n\t         * @param {Object=} options Options object.\n\t         *    See {@link ngCookies.$cookiesProvider#defaults $cookiesProvider.defaults}\n\t         */\n\t        putObject: function(key, value, options) {\n\t          this.put(key, angular.toJson(value), options);\n\t        },\n\n\t        /**\n\t         * @ngdoc method\n\t         * @name $cookies#remove\n\t         *\n\t         * @description\n\t         * Remove given cookie\n\t         *\n\t         * @param {string} key Id of the key-value pair to delete.\n\t         * @param {Object=} options Options object.\n\t         *    See {@link ngCookies.$cookiesProvider#defaults $cookiesProvider.defaults}\n\t         */\n\t        remove: function(key, options) {\n\t          $$cookieWriter(key, undefined, calcOptions(options));\n\t        }\n\t      };\n\t    }];\n\t  }]);\n\n\tangular.module('ngCookies').\n\t/**\n\t * @ngdoc service\n\t * @name $cookieStore\n\t * @deprecated\n\t * @requires $cookies\n\t *\n\t * @description\n\t * Provides a key-value (string-object) storage, that is backed by session cookies.\n\t * Objects put or retrieved from this storage are automatically serialized or\n\t * deserialized by angular's toJson/fromJson.\n\t *\n\t * Requires the {@link ngCookies `ngCookies`} module to be installed.\n\t *\n\t * <div class=\"alert alert-danger\">\n\t * **Note:** The $cookieStore service is **deprecated**.\n\t * Please use the {@link ngCookies.$cookies `$cookies`} service instead.\n\t * </div>\n\t *\n\t * @example\n\t *\n\t * ```js\n\t * angular.module('cookieStoreExample', ['ngCookies'])\n\t *   .controller('ExampleController', ['$cookieStore', function($cookieStore) {\n\t *     // Put cookie\n\t *     $cookieStore.put('myFavorite','oatmeal');\n\t *     // Get cookie\n\t *     var favoriteCookie = $cookieStore.get('myFavorite');\n\t *     // Removing a cookie\n\t *     $cookieStore.remove('myFavorite');\n\t *   }]);\n\t * ```\n\t */\n\t factory('$cookieStore', ['$cookies', function($cookies) {\n\n\t    return {\n\t      /**\n\t       * @ngdoc method\n\t       * @name $cookieStore#get\n\t       *\n\t       * @description\n\t       * Returns the value of given cookie key\n\t       *\n\t       * @param {string} key Id to use for lookup.\n\t       * @returns {Object} Deserialized cookie value, undefined if the cookie does not exist.\n\t       */\n\t      get: function(key) {\n\t        return $cookies.getObject(key);\n\t      },\n\n\t      /**\n\t       * @ngdoc method\n\t       * @name $cookieStore#put\n\t       *\n\t       * @description\n\t       * Sets a value for given cookie key\n\t       *\n\t       * @param {string} key Id for the `value`.\n\t       * @param {Object} value Value to be stored.\n\t       */\n\t      put: function(key, value) {\n\t        $cookies.putObject(key, value);\n\t      },\n\n\t      /**\n\t       * @ngdoc method\n\t       * @name $cookieStore#remove\n\t       *\n\t       * @description\n\t       * Remove given cookie\n\t       *\n\t       * @param {string} key Id of the key-value pair to delete.\n\t       */\n\t      remove: function(key) {\n\t        $cookies.remove(key);\n\t      }\n\t    };\n\n\t  }]);\n\n\t/**\n\t * @name $$cookieWriter\n\t * @requires $document\n\t *\n\t * @description\n\t * This is a private service for writing cookies\n\t *\n\t * @param {string} name Cookie name\n\t * @param {string=} value Cookie value (if undefined, cookie will be deleted)\n\t * @param {Object=} options Object with options that need to be stored for the cookie.\n\t */\n\tfunction $$CookieWriter($document, $log, $browser) {\n\t  var cookiePath = $browser.baseHref();\n\t  var rawDocument = $document[0];\n\n\t  function buildCookieString(name, value, options) {\n\t    var path, expires;\n\t    options = options || {};\n\t    expires = options.expires;\n\t    path = angular.isDefined(options.path) ? options.path : cookiePath;\n\t    if (angular.isUndefined(value)) {\n\t      expires = 'Thu, 01 Jan 1970 00:00:00 GMT';\n\t      value = '';\n\t    }\n\t    if (angular.isString(expires)) {\n\t      expires = new Date(expires);\n\t    }\n\n\t    var str = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n\t    str += path ? ';path=' + path : '';\n\t    str += options.domain ? ';domain=' + options.domain : '';\n\t    str += expires ? ';expires=' + expires.toUTCString() : '';\n\t    str += options.secure ? ';secure' : '';\n\n\t    // per http://www.ietf.org/rfc/rfc2109.txt browser must allow at minimum:\n\t    // - 300 cookies\n\t    // - 20 cookies per unique domain\n\t    // - 4096 bytes per cookie\n\t    var cookieLength = str.length + 1;\n\t    if (cookieLength > 4096) {\n\t      $log.warn(\"Cookie '\" + name +\n\t        \"' possibly not set or overflowed because it was too large (\" +\n\t        cookieLength + \" > 4096 bytes)!\");\n\t    }\n\n\t    return str;\n\t  }\n\n\t  return function(name, value, options) {\n\t    rawDocument.cookie = buildCookieString(name, value, options);\n\t  };\n\t}\n\n\t$$CookieWriter.$inject = ['$document', '$log', '$browser'];\n\n\tangular.module('ngCookies').provider('$$cookieWriter', function $$CookieWriterProvider() {\n\t  this.$get = $$CookieWriter;\n\t});\n\n\n\t})(window, window.angular);\n\n\n/***/ },\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Angular-Modul der Komponenten\n\t * - Hier werden alle Komponenten als einheitliches Modul exportiert\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 04.12.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _guiGui = __webpack_require__(14);\n\n\tvar _guiGui2 = _interopRequireDefault(_guiGui);\n\n\tvar _servicesServices = __webpack_require__(108);\n\n\tvar _servicesServices2 = _interopRequireDefault(_servicesServices);\n\n\tvar _constantsConstants = __webpack_require__(129);\n\n\tvar _constantsConstants2 = _interopRequireDefault(_constantsConstants);\n\n\tvar componentModule = _angular2['default'].module('app.components', [_constantsConstants2['default'].name, _servicesServices2['default'].name, _guiGui2['default'].name]);\n\n\texports['default'] = componentModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _componentsComponents = __webpack_require__(15);\n\n\tvar _componentsComponents2 = _interopRequireDefault(_componentsComponents);\n\n\tvar _screensScreens = __webpack_require__(58);\n\n\tvar _screensScreens2 = _interopRequireDefault(_screensScreens);\n\n\tvar guiModule = _angular2['default'].module('app.components.gui', [_componentsComponents2['default'].name, _screensScreens2['default'].name]);\n\n\texports['default'] = guiModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _dicesDices = __webpack_require__(16);\n\n\tvar _dicesDices2 = _interopRequireDefault(_dicesDices);\n\n\tvar _messagesMessages = __webpack_require__(19);\n\n\tvar _messagesMessages2 = _interopRequireDefault(_messagesMessages);\n\n\tvar _navbarNavbar = __webpack_require__(23);\n\n\tvar _navbarNavbar2 = _interopRequireDefault(_navbarNavbar);\n\n\tvar _languagePickerLanguagePicker = __webpack_require__(26);\n\n\tvar _languagePickerLanguagePicker2 = _interopRequireDefault(_languagePickerLanguagePicker);\n\n\tvar _popupPopup = __webpack_require__(30);\n\n\tvar _popupPopup2 = _interopRequireDefault(_popupPopup);\n\n\tvar _itemsItems = __webpack_require__(34);\n\n\tvar _itemsItems2 = _interopRequireDefault(_itemsItems);\n\n\tvar _statsStats = __webpack_require__(37);\n\n\tvar _statsStats2 = _interopRequireDefault(_statsStats);\n\n\tvar _paragraphParagraph = __webpack_require__(40);\n\n\tvar _paragraphParagraph2 = _interopRequireDefault(_paragraphParagraph);\n\n\tvar _backButtonBackButton = __webpack_require__(43);\n\n\tvar _backButtonBackButton2 = _interopRequireDefault(_backButtonBackButton);\n\n\tvar _endGamePopupEndGamePopup = __webpack_require__(46);\n\n\tvar _endGamePopupEndGamePopup2 = _interopRequireDefault(_endGamePopupEndGamePopup);\n\n\tvar _exportDataPopupExportDataPopup = __webpack_require__(50);\n\n\tvar _exportDataPopupExportDataPopup2 = _interopRequireDefault(_exportDataPopupExportDataPopup);\n\n\tvar _importDataPopupImportDataPopup = __webpack_require__(54);\n\n\tvar _importDataPopupImportDataPopup2 = _interopRequireDefault(_importDataPopupImportDataPopup);\n\n\tvar guiComponentsModule = _angular2['default'].module('app.components.gui.components', [_dicesDices2['default'].name, _messagesMessages2['default'].name, _navbarNavbar2['default'].name, _languagePickerLanguagePicker2['default'].name, _popupPopup2['default'].name, _itemsItems2['default'].name, _statsStats2['default'].name, _paragraphParagraph2['default'].name, _backButtonBackButton2['default'].name, _endGamePopupEndGamePopup2['default'].name, _exportDataPopupExportDataPopup2['default'].name, _importDataPopupImportDataPopup2['default'].name]);\n\n\texports['default'] = guiComponentsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _dicesHtml = __webpack_require__(17);\n\n\tvar _dicesHtml2 = _interopRequireDefault(_dicesHtml);\n\n\tvar _dicesController = __webpack_require__(18);\n\n\tvar _dicesController2 = _interopRequireDefault(_dicesController);\n\n\tvar dicesModule = _angular2['default'].module('app.components.gui.components.dices', []).component('dices', { template: _dicesHtml2['default'], controller: _dicesController2['default'] });\n\n\texports['default'] = dicesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form>\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:85%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>\\n                <ng-include src=\\\"'dice-image.html'\\\"></ng-include>\\n            </th>\\n            <th></th>\\n            <th>{{ 'Sum of dices value' | translate }}</th>\\n            <th></th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll1d6()\\\"\\n                        aria-label=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\">\\n                    {{ 'x1' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll2d6()\\\"\\n                        aria-label=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\">\\n                    {{ 'x2' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                {{ $ctrl.dicesValue }}\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default glyphicon glyphicon-erase\\\"\\n                        title=\\\"{{ 'Clear values' | translate }}\\\"\\n                        aria-label=\\\"{{ 'Clear values' | translate }}\\\"\\n                        ng-click=\\\"$ctrl.clear()\\\">\\n\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n\"\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar DicesController = (function () {\n\t    /*@ngInject*/\n\n\t    DicesController.$inject = [\"dicesService\"];\n\t    function DicesController(dicesService) {\n\t        _classCallCheck(this, DicesController);\n\n\t        this.dicesService = dicesService;\n\t        this.clear();\n\t    }\n\n\t    _createClass(DicesController, [{\n\t        key: 'roll2d6',\n\t        value: function roll2d6() {\n\t            this.appendToResult(this.dicesService.rollDices(2, 6));\n\t        }\n\t    }, {\n\t        key: 'roll1d6',\n\t        value: function roll1d6() {\n\t            this.appendToResult(this.dicesService.rollDices(1, 6));\n\t        }\n\t    }, {\n\t        key: 'clear',\n\t        value: function clear() {\n\t            this.dicesValue = '';\n\t        }\n\t    }, {\n\t        key: 'appendToResult',\n\t        value: function appendToResult(value) {\n\t            if (this.dicesValue !== '') {\n\t                this.dicesValue = this.dicesValue + ',';\n\t            }\n\t            this.dicesValue = this.dicesValue + value;\n\t        }\n\t    }]);\n\n\t    return DicesController;\n\t})();\n\n\texports['default'] = DicesController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Definition der Messages-Komponente\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.2\n\t * @since 06.11.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _messagesService = __webpack_require__(20);\n\n\tvar _messagesService2 = _interopRequireDefault(_messagesService);\n\n\tvar _messagesHtml = __webpack_require__(21);\n\n\tvar _messagesHtml2 = _interopRequireDefault(_messagesHtml);\n\n\tvar _messagesController = __webpack_require__(22);\n\n\tvar _messagesController2 = _interopRequireDefault(_messagesController);\n\n\tvar messagesModule = _angular2['default'].module('app.components.gui.components.messages', []).service('messagesService', _messagesService2['default']).component('messages', { template: _messagesHtml2['default'], controller: _messagesController2['default'] });\n\n\texports['default'] = messagesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar MessagesService = (function () {\n\t    /*@ngInject*/\n\n\t    MessagesService.$inject = [\"$rootScope\", \"$translate\"];\n\t    function MessagesService($rootScope, $translate) {\n\t        _classCallCheck(this, MessagesService);\n\n\t        this.$rootScope = $rootScope;\n\t        this.$translate = $translate;\n\n\t        if (!this.$rootScope.messages) {\n\t            this.$rootScope.messages = [];\n\t        }\n\t    }\n\n\t    _createClass(MessagesService, [{\n\t        key: 'getMessages',\n\t        value: function getMessages() {\n\t            return this.$rootScope.messages || [];\n\t        }\n\t    }, {\n\t        key: 'clearMessages',\n\t        value: function clearMessages() {\n\t            this.$rootScope.messages.forEach(function (msg, index, arr) {\n\t                if (!msg.keepAfterLocationChange) {\n\t                    arr.splice(index, 1);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeMessage',\n\t        value: function removeMessage(index) {\n\t            this.$rootScope.messages.splice(index, 1);\n\t        }\n\t    }, {\n\t        key: 'successMessage',\n\t        value: function successMessage(msg, keepAfterLocationChange) {\n\t            this._addMessage(msg, 'success', keepAfterLocationChange);\n\t        }\n\t    }, {\n\t        key: 'errorMessage',\n\t        value: function errorMessage(msg, keepAfterLocationChange) {\n\t            this._addMessage(msg, 'error', keepAfterLocationChange);\n\t        }\n\t    }, {\n\t        key: 'infoMessage',\n\t        value: function infoMessage(msg, keepAfterLocationChange) {\n\t            this._addMessage(msg, 'info', keepAfterLocationChange);\n\t        }\n\t    }, {\n\t        key: '_addMessage',\n\t        value: function _addMessage(msg, type, keepAfterLocationChange) {\n\t            var translatedMsg = this.$translate.instant(msg);\n\t            if (!this._hasMessage(translatedMsg, type)) {\n\t                this.$rootScope.messages.push({\n\t                    message: translatedMsg,\n\t                    type: type,\n\t                    keepAfterLocationChange: keepAfterLocationChange\n\t                });\n\t            }\n\t        }\n\t    }, {\n\t        key: '_hasMessage',\n\t        value: function _hasMessage(msg, type) {\n\t            var hasMessage = false;\n\t            for (var i = 0; i < this.$rootScope.messages.length; i++) {\n\t                if (this.$rootScope.messages[i].message === msg && this.$rootScope.messages[i].type === type) {\n\t                    hasMessage = true;\n\t                    break;\n\t                }\n\t            }\n\t            return hasMessage;\n\t        }\n\t    }]);\n\n\t    return MessagesService;\n\t})();\n\n\texports['default'] = MessagesService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div ng-repeat=\\\"msg in $ctrl.messages\\\">\\n    <div class=\\\"alert alert-{{ msg.type === 'error' ? 'danger' : msg.type }}\\\">\\n        {{ msg.message }}\\n        <a class=\\\"close\\\" ng-click=\\\"$ctrl.removeMessage($index)\\\">&times;</a>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar MessagesController = (function () {\n\t    /*@ngInject*/\n\n\t    MessagesController.$inject = [\"messagesService\", \"$rootScope\"];\n\t    function MessagesController(messagesService, $rootScope) {\n\t        var _this = this;\n\n\t        _classCallCheck(this, MessagesController);\n\n\t        this.messagesService = messagesService;\n\n\t        $rootScope.$on('$locationChangeStart', function () {\n\t            return _this.messagesService.clearMessages();\n\t        });\n\n\t        this.messages = messagesService.getMessages();\n\t    }\n\n\t    _createClass(MessagesController, [{\n\t        key: 'removeMessage',\n\t        value: function removeMessage(index) {\n\t            this.messagesService.removeMessage(index);\n\t        }\n\t    }]);\n\n\t    return MessagesController;\n\t})();\n\n\texports['default'] = MessagesController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Definition der Navbar-Komponente\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 23.10.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _navbarHtml = __webpack_require__(24);\n\n\tvar _navbarHtml2 = _interopRequireDefault(_navbarHtml);\n\n\tvar _navbarController = __webpack_require__(25);\n\n\tvar _navbarController2 = _interopRequireDefault(_navbarController);\n\n\tvar navbarModule = _angular2['default'].module('app.components.gui.components.navbar', [_angularUiRouter2['default']]).component('navbar', { template: _navbarHtml2['default'], controller: _navbarController2['default'] });\n\n\texports['default'] = navbarModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\" role=\\\"navigation\\\">\\n    <div class=\\\"container-fluid\\\">\\n        <div class=\\\"navbar-header\\\">\\n            <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" data-toggle=\\\"collapse\\\"\\n                    data-target=\\\"#navbar-collapse-1\\\" aria-expanded=\\\"false\\\"\\n                    ng-click=\\\"$ctrl.navCollapsed = !$ctrl.navCollapsed\\\">\\n                <span class=\\\"sr-only\\\">Toggle navigation</span>\\n                <span class=\\\"icon-bar\\\"></span>\\n                <span class=\\\"icon-bar\\\"></span>\\n                <span class=\\\"icon-bar\\\"></span>\\n            </button>\\n        </div>\\n        <div uib-collapse=\\\"$ctrl.navCollapsed\\\" class=\\\"collapse navbar-collapse\\\" id=\\\"navbar-collapse-1\\\">\\n            <ul class=\\\"nav navbar-nav navbar-left\\\">\\n                <li><a ui-sref=\\\"gamesList\\\">{{ 'Games' | translate }}</a></li>\\n                <li><a ui-sref=\\\"adventuresList\\\">{{ 'Adventures' | translate }}</a></li>\\n                <li><a ui-sref=\\\"librariesList\\\">{{ 'Libraries' | translate }}</a></li>\\n                <li ng-if=\\\"$ctrl.admin\\\"><a ui-sref=\\\"administration\\\">{{ 'Administration' | translate }}</a></li>\\n            </ul>\\n            <ul class=\\\"nav navbar-nav navbar-right\\\">\\n                <li>\\n                    <a ui-sref=\\\"about\\\"\\n                       class=\\\"glyphicon glyphicon-info-sign\\\"\\n                       aria-label=\\\"{{ 'About' | translate}}\\\"\\n                       title=\\\"{{ 'About' | translate}}\\\">\\n                    </a>\\n                </li>\\n            </ul>\\n            <p class=\\\"navbar-text navbar-right\\\">\\n                <a ng-repeat=\\\"language in $ctrl.supportedLanguages\\\"\\n                   href ng-click=\\\"$ctrl.changeLanguage(language.code)\\\"\\n                   ng-show=\\\"$ctrl.language !== language.code\\\"\\n                   aria-label=\\\"{{ 'Change language to ' + language.code | translate}}\\\"\\n                   title=\\\"{{ 'Change language to ' + language.code | translate}}\\\">\\n                    {{ language.code }}\\n                </a>\\n            </p>\\n        </div>\\n    </div>\\n</nav>\"\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2016.\n\t */\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar NavbarController = (function () {\n\t    /*@ngInject*/\n\n\t    NavbarController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$location\", \"languagePickerService\"];\n\t    function NavbarController(preScreenLoadingInterceptorsCallerService, $location, languagePickerService) {\n\t        _classCallCheck(this, NavbarController);\n\n\t        this.languagePickerService = languagePickerService;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        var params = $location.search();\n\t        if (!!params.admin) {\n\t            this.admin = true;\n\t        }\n\t        this.navCollapsed = true;\n\t        this.initData();\n\t    }\n\n\t    _createClass(NavbarController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n\t            this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n\t        }\n\t    }, {\n\t        key: \"changeLanguage\",\n\t        value: function changeLanguage(selectedLanguage) {\n\t            this.language = selectedLanguage;\n\t            this.languagePickerService.changeLanguage(selectedLanguage);\n\t        }\n\t    }]);\n\n\t    return NavbarController;\n\t})();\n\n\texports[\"default\"] = NavbarController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _languagePickerHtml = __webpack_require__(27);\n\n\tvar _languagePickerHtml2 = _interopRequireDefault(_languagePickerHtml);\n\n\tvar _languagePickerController = __webpack_require__(28);\n\n\tvar _languagePickerController2 = _interopRequireDefault(_languagePickerController);\n\n\tvar _languagePickerService = __webpack_require__(29);\n\n\tvar _languagePickerService2 = _interopRequireDefault(_languagePickerService);\n\n\tvar languagePickerModule = _angular2['default'].module('app.components.gui.components.language-picker', []).component('languagePicker', { template: _languagePickerHtml2['default'], controller: _languagePickerController2['default'] }).service('languagePickerService', _languagePickerService2['default']);\n\n\texports['default'] = languagePickerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"col-md-12\\\">\\n    <form>\\n        <div>\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"language\\\">{{ 'Choose language' | translate }}</label>\\n                <ul class=\\\"nav nav-pills\\\" role=\\\"tablist\\\" id=\\\"language\\\">\\n                    <li ng-repeat=\\\"language in $ctrl.supportedLanguages\\\" role=\\\"button\\\" ng-class=\\\"{ 'active' : language.selected }\\\" title=\\\"{{ 'Choice' | translate }} {{ language.code | translate }}\\\">\\n                        <a href=\\\"\\\" ng-click=\\\"$ctrl.changeLanguage(language.code)\\\">{{ language.code | translate }}</a></li>\\n                </ul>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\"\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar LanguagePickerController = (function () {\n\t    /*@ngInject*/\n\n\t    LanguagePickerController.$inject = [\"languagePickerService\"];\n\t    function LanguagePickerController(languagePickerService) {\n\t        _classCallCheck(this, LanguagePickerController);\n\n\t        this.languagePickerService = languagePickerService;\n\t        this.initData();\n\t    }\n\n\t    _createClass(LanguagePickerController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n\t            this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n\t        }\n\t    }, {\n\t        key: \"changeLanguage\",\n\t        value: function changeLanguage(selectedLanguage) {\n\t            this.languagePickerService.changeLanguage(selectedLanguage);\n\t        }\n\t    }]);\n\n\t    return LanguagePickerController;\n\t})();\n\n\texports[\"default\"] = LanguagePickerController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar LanguagePickerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    LanguagePickerService.$inject = [\"gamePersistenceService\", \"$translate\", \"constants\"];\n\t    function LanguagePickerService(gamePersistenceService, $translate, constants) {\n\t        _classCallCheck(this, LanguagePickerService);\n\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.$translate = $translate;\n\t        this.constants = constants;\n\t        this.supportedLanguages = this.initSupportedLanguages();\n\t    }\n\n\t    _createClass(LanguagePickerService, [{\n\t        key: \"initSupportedLanguages\",\n\t        value: function initSupportedLanguages() {\n\t            var supportedLanguages = [];\n\t            for (var i = 0; i < this.constants.supportedLanguages.length; i++) {\n\t                supportedLanguages.push({\n\t                    code: this.constants.supportedLanguages[i]\n\t                });\n\t            }\n\t            return supportedLanguages;\n\t        }\n\t    }, {\n\t        key: \"getSupportedLanguages\",\n\t        value: function getSupportedLanguages() {\n\t            return this.supportedLanguages;\n\t        }\n\t    }, {\n\t        key: \"getSelectedLanguage\",\n\t        value: function getSelectedLanguage() {\n\t            var selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n\t            if (!!selectedLanguage) {\n\t                return selectedLanguage;\n\t            } else if (!!navigator.language) {\n\t                var i = undefined;\n\t                for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n\t                    if (this.constants.supportedLanguages[i] === navigator.language) {\n\t                        return this.constants.supportedLanguages[i];\n\t                    }\n\t                }\n\n\t                for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n\t                    if (navigator.language.startsWith(this.constants.supportedLanguages[i])) {\n\t                        return this.constants.supportedLanguages[i];\n\t                    }\n\t                }\n\t            }\n\t            return this.constants.supportedLanguages[0];\n\t        }\n\t    }, {\n\t        key: \"changeLanguage\",\n\t        value: function changeLanguage(selectedLanguage) {\n\t            this.$translate.use(selectedLanguage);\n\t            this.gamePersistenceService.setSelectedLanguage(selectedLanguage);\n\t            for (var i = 0; i < this.supportedLanguages.length; i++) {\n\t                this.supportedLanguages[i].selected = this.supportedLanguages[i].code === selectedLanguage;\n\t            }\n\t        }\n\t    }]);\n\n\t    return LanguagePickerService;\n\t})();\n\n\texports[\"default\"] = LanguagePickerService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _popupHtml = __webpack_require__(31);\n\n\tvar _popupHtml2 = _interopRequireDefault(_popupHtml);\n\n\tvar _popupController = __webpack_require__(32);\n\n\tvar _popupController2 = _interopRequireDefault(_popupController);\n\n\tvar _popupService = __webpack_require__(33);\n\n\tvar _popupService2 = _interopRequireDefault(_popupService);\n\n\tvar popupModule = _angular2['default'].module('app.components.gui.components.popup', []).component('popup', {\n\t    template: _popupHtml2['default'],\n\t    controller: _popupController2['default'],\n\t    bindings: {\n\t        config: '@'\n\t    }\n\t}).service('popupService', _popupService2['default']);\n\n\texports['default'] = popupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <span class=\\\"close glyphicon glyphicon-remove-circle\\\" ng-click=\\\"$ctrl.close()\\\" ng-show=\\\"$ctrl.cfg.withCloseButton\\\"></span>\\n        <p>{{ $ctrl.cfg.text | translate }}</p>\\n        <span ng-repeat=\\\"choice in $ctrl.cfg.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PopupController = (function () {\n\t    /*@ngInject*/\n\n\t    PopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\"];\n\t    function PopupController(preScreenLoadingInterceptorsCallerService, popupService) {\n\t        _classCallCheck(this, PopupController);\n\n\t        this.cfg = JSON.parse(this.config);\n\t        this.popupService = popupService;\n\t        if (this.cfg.closeOnClickOutsideModal) {\n\t            this.close();\n\t        }\n\t    }\n\n\t    _createClass(PopupController, [{\n\t        key: \"select\",\n\t        value: function select(choice) {\n\t            this.close(choice);\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(choice) {\n\t            this.popupService.close(this.cfg.id, choice);\n\t        }\n\t    }]);\n\n\t    return PopupController;\n\t})();\n\n\texports[\"default\"] = PopupController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    function PopupService() {\n\t        _classCallCheck(this, PopupService);\n\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(PopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback) {\n\t                callback(popupDomElementId, choice);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return PopupService;\n\t})();\n\n\texports[\"default\"] = PopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _itemsHtml = __webpack_require__(35);\n\n\tvar _itemsHtml2 = _interopRequireDefault(_itemsHtml);\n\n\tvar _itemsController = __webpack_require__(36);\n\n\tvar _itemsController2 = _interopRequireDefault(_itemsController);\n\n\tvar itemsModule = _angular2['default'].module('app.components.gui.screen.items', []).component('items', {\n\t    template: _itemsHtml2['default'],\n\t    controller: _itemsController2['default'],\n\t    bindings: {\n\t        gameId: '@?',\n\t        items: '='\n\t    }\n\t});\n\n\texports['default'] = itemsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"itemsTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Quantity' | translate }}</th>\\n            <th>{{ 'Item' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\"\\n                        class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add item' | translate}}\\\"\\n                        title=\\\"{{ 'Add item' | translate}}\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.quantity }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"quantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.quantity\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.quantity\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the quantity' | translate }}\\n                </div>\\n            </td>\\n\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.description }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"description\\\" type=\\\"text\\\" class=\\\"form-control description\\\" ng-model=\\\"row.description\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.description\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the description' | translate }}\\n                </div>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                        aria-label=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.saveRowChanges(notesTableForm.$invalid)\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteItemConfig }}\\\"></popup>\\n\"\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ItemsController = (function () {\n\t    /*@ngInject*/\n\n\t    ItemsController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\", \"constants\", \"gamePersistenceService\"];\n\t    function ItemsController(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService) {\n\t        _classCallCheck(this, ItemsController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.rows = this.items;\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.gamePersistenceService = gamePersistenceService;\n\n\t        this.popupDeleteItemConfig = {\n\t            id: 'popupDeleteItem',\n\t            text: 'Are you sure to remove the item?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\t    }\n\n\t    _createClass(ItemsController, [{\n\t        key: 'addRow',\n\t        value: function addRow() {\n\t            var row = { quantity: 1 };\n\t            this.rows.push(row);\n\t            this.addedRow = row;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteItemConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.rows.indexOf(removedRow);\n\t            this.rows.splice(index, 1);\n\t            this.clearEditedRow();\n\t            this.saveInPersistence();\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = { quantity: row.quantity, description: row.description };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid) {\n\t            if ($invalid) {\n\t                return;\n\t            }\n\t            this.clearEditedRow();\n\t            this.saveInPersistence();\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.quantity = this.originalRow.quantity;\n\t                this.editedRow.description = this.originalRow.description;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }, {\n\t        key: 'saveInPersistence',\n\t        value: function saveInPersistence() {\n\t            if (!!this.gameId) {\n\t                var updatedGame = this.gamePersistenceService.getGame(this.gameId);\n\t                updatedGame.items = this.items;\n\t                this.gamePersistenceService.updateGame(updatedGame);\n\t            }\n\t        }\n\t    }]);\n\n\t    return ItemsController;\n\t})();\n\n\texports['default'] = ItemsController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _statsHtml = __webpack_require__(38);\n\n\tvar _statsHtml2 = _interopRequireDefault(_statsHtml);\n\n\tvar _statsController = __webpack_require__(39);\n\n\tvar _statsController2 = _interopRequireDefault(_statsController);\n\n\tvar statsModule = _angular2['default'].module('app.components.gui.screen.stats', []).component('stats', {\n\t    template: _statsHtml2['default'],\n\t    controller: _statsController2['default'],\n\t    bindings: {\n\t        gameId: '@',\n\t        stats: '='\n\t    }\n\t});\n\n\texports['default'] = statsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<table class=\\\"table\\\">\\n    <col style=\\\"width:10%\\\">\\n    <col style=\\\"width:20%\\\">\\n    <col style=\\\"width:10%\\\">\\n    <col style=\\\"width:70%\\\">\\n    <col style=\\\"width:5%\\\">\\n    <col style=\\\"width:5%\\\">\\n    <thead>\\n    <tr>\\n        <th>{{ 'Stats' | translate }}</th>\\n        <th>{{ 'Current' | translate }}</th>\\n        <th>{{ 'Initial' | translate }}</th>\\n        <th></th>\\n        <th></th>\\n        <th></th>\\n    </tr>\\n    </thead>\\n    <tbody>\\n    <tr ng-repeat=\\\"row in $ctrl.stats\\\">\\n        <td>{{ row.name }}</td>\\n        <td>{{ row.current }}</td>\\n        <td>{{ row.initial }}</td>\\n        <td></td>\\n        <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" aria-label=\\\"{{ 'Increment' | translate }} {{ row.name | translate }}\\\" title=\\\"{{ 'Increment' | translate }} {{ row.name | translate }}\\\" ng-click=\\\"$ctrl.increment(row)\\\">\\n                <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n        </td>\\n        <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" aria-label=\\\"{{ 'Decrement' | translate }} {{ row.name | translate }}\\\" title=\\\"{{ 'Decrement' | translate }} {{ row.name | translate }}\\\" ng-click=\\\"$ctrl.decrement(row)\\\">\\n                <span class=\\\"glyphicon glyphicon-minus\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n        </td>\\n    </tr>\\n    </tbody>\\n</table>\\n\"\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar StatsController = (function () {\n\t    /*@ngInject*/\n\n\t    StatsController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"gamePersistenceService\"];\n\t    function StatsController(preScreenLoadingInterceptorsCallerService, gamePersistenceService) {\n\t        _classCallCheck(this, StatsController);\n\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t    }\n\n\t    _createClass(StatsController, [{\n\t        key: \"increment\",\n\t        value: function increment(row) {\n\t            row.current = row.current + 1;\n\t            this.save();\n\t        }\n\t    }, {\n\t        key: \"decrement\",\n\t        value: function decrement(row) {\n\t            row.current = row.current - 1;\n\t            this.save();\n\t        }\n\t    }, {\n\t        key: \"save\",\n\t        value: function save() {\n\t            var updatedGame = this.gamePersistenceService.getGame(this.gameId);\n\t            updatedGame.stats = this.stats;\n\t            this.gamePersistenceService.updateGame(updatedGame);\n\t        }\n\t    }]);\n\n\t    return StatsController;\n\t})();\n\n\texports[\"default\"] = StatsController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _paragraphHtml = __webpack_require__(41);\n\n\tvar _paragraphHtml2 = _interopRequireDefault(_paragraphHtml);\n\n\tvar _paragraphController = __webpack_require__(42);\n\n\tvar _paragraphController2 = _interopRequireDefault(_paragraphController);\n\n\tvar paragraphModule = _angular2['default'].module('app.components.gui.screen.paragraph', []).component('paragraph', {\n\t    template: _paragraphHtml2['default'],\n\t    controller: _paragraphController2['default'],\n\t    bindings: {\n\t        gameId: '@',\n\t        paragraph: '='\n\t    }\n\t});\n\n\texports['default'] = paragraphModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<table class=\\\"table table-borderless\\\">\\n    <col style=\\\"width:95%\\\">\\n    <col style=\\\"width:5%\\\">\\n    <thead>\\n    <tr>\\n        <th>{{ 'Description' | translate }}</th>\\n        <th>\\n        </th>\\n    </tr>\\n    </thead>\\n    <tbody>\\n    <tr>\\n        <td>\\n            <div contenteditable=\\\"true\\\" id=\\\"inputCurrentDescription\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.paragraph.description\\\" ng-readonly=\\\"!$ctrl.isDescriptionEditable()\\\"></div>\\n        </td>\\n        <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                    aria-label=\\\"{{ 'Edit description' | translate}}\\\"\\n                    title=\\\"{{ 'Edit description' | translate}}\\\"\\n                    ng-click=\\\"$ctrl.editDescription()\\\"\\n                    ng-show=\\\"!$ctrl.isDescriptionEditable()\\\">\\n                <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                    aria-label=\\\"{{ 'Save description changes' | translate}}\\\"\\n                    title=\\\"{{ 'Save description changes' | translate}}\\\"\\n                    ng-click=\\\"$ctrl.saveDescriptionChanges()\\\"\\n                    ng-show=\\\"$ctrl.isDescriptionEditable()\\\">\\n                <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                    aria-label=\\\"{{ 'Abort description changes' | translate}}\\\"\\n                    title=\\\"{{ 'Abort description changes' | translate}}\\\"\\n                    ng-click=\\\"$ctrl.abortDescriptionChanges()\\\"\\n                    ng-show=\\\"$ctrl.isDescriptionEditable()\\\">\\n                <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n            </button>\\n        </td>\\n    </tr>\\n    </tbody>\\n</table>\\n\\n<form name=\\\"choicesTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Choice' | translate }}</th>\\n            <th>{{ 'Description' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add choice' | translate}}\\\"\\n                        title=\\\"{{ 'Add choice' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n            <tr ng-repeat=\\\"row in $ctrl.paragraph.choices\\\">\\n                <td ng-if=\\\"!$ctrl.isRowEdited(row) && !$ctrl.hasEditedRow()\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                            aria-label=\\\"{{ 'Choice paragragh' | translate}} {{ row.paragraphNr }}\\\"\\n                            title=\\\"{{ 'Choice paragragh' | translate}} '{{ row.paragraphNr }}'\\\"\\n                            ng-click=\\\"$ctrl.goTo(row.paragraphNr)\\\">\\n                        <div ng-if=\\\"!!$ctrl.isAlreadyChoosen(row)\\\">{{ row.paragraphNr }}</div>\\n                        <div ng-if=\\\"!$ctrl.isAlreadyChoosen(row)\\\"><strong>{{ row.paragraphNr }}</strong></div>\\n                    </button>\\n                </td>\\n                <td ng-if=\\\"!$ctrl.isRowEdited(row) && $ctrl.hasEditedRow()\\\">\\n                    {{ row.paragraphNr }}\\n                </td>\\n                <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <input id=\\\"rowParagraphNr\\\" type=\\\"number\\\" required class=\\\"form-control\\\" ng-model=\\\"row.paragraphNr\\\">\\n                    <div class=\\\"error\\\" ng-show=\\\"choicesTableForm.$invalid\\\">\\n                        {{ 'Please fill the paragraph number' | translate }}\\n                    </div>\\n                </td>\\n\\n                <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                    {{ row.description }}\\n                </td>\\n                <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.description\\\">\\n                </td>\\n\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                            aria-label=\\\"{{ 'Save choice changes' | translate}}\\\"\\n                            title=\\\"{{ 'Save choice changes' | translate}}\\\"\\n                            ng-click=\\\"$ctrl.saveRowChanges(choicesTableForm.$invalid)\\\"\\n                            ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                        <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                </td>\\n\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                            aria-label=\\\"{{ 'Abort choice changes' | translate}}\\\"\\n                            title=\\\"{{ 'Abort choice changes' | translate}}\\\"\\n                            ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                            ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                        <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                </td>\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                            aria-label=\\\"{{ 'Edit choice' | translate}} {{ row.paragraphNr }}\\\"\\n                            title=\\\"{{ 'Edit choice' | translate}} '{{ row.paragraphNr }}'\\\"\\n                            ng-click=\\\"$ctrl.editRow(row)\\\"\\n                            ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                        <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                            aria-label=\\\"{{ 'Remove choice' | translate}} {{ row.paragraphNr }}\\\"\\n                            title=\\\"{{ 'Remove choice' | translate}} '{{ row.paragraphNr }}'\\\"\\n                            ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                            ng-disabled=\\\"$ctrl.addedRow\\\"\\n                            ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                        <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                    </button>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                            aria-label=\\\"{{ 'Go to paragraph' | translate}}\\\"\\n                            title=\\\"{{ 'Go to paragraph' | translate}}\\\"\\n                            ng-click=\\\"$ctrl.goTo($ctrl.paragraphNrChoice)\\\"\\n                            ng-disabled=\\\"!$ctrl.paragraphNrChoice\\\">\\n                        {{ 'Go to' | translate}}\\n                    </button>\\n                </td>\\n                <td>\\n                    <input id=\\\"goToParagraphNr\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.paragraphNrChoice\\\">\\n                </td>\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n            </tr>\\n\\n        </tbody>\\n    </table>\\n</form>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteChoiceConfig }}\\\"></popup>\"\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ParagraphController = (function () {\n\t    /*@ngInject*/\n\n\t    ParagraphController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"$location\"];\n\t    function ParagraphController(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService, $location) {\n\t        _classCallCheck(this, ParagraphController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$location = $location;\n\n\t        this.popupDeleteChoiceConfig = {\n\t            id: 'popupDeleteChoice',\n\t            text: 'Are you sure to remove the choice?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(ParagraphController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var game = this.gamePersistenceService.getGame(this.gameId);\n\t            this.adventureId = game.adventureId;\n\t            this.playerName = game.playerName;\n\t            this.descriptionEditable = false;\n\t            this.alreadyChoosen = this.gamePersistenceService.getChoosenChoices(this.gameId, this.paragraph.paragraphNr);\n\t        }\n\t    }, {\n\t        key: 'addRow',\n\t        value: function addRow() {\n\t            var row = { paragraphNr: this.inputParagraphNr, description: this.inputDescription };\n\t            this.paragraph.choices.push(row);\n\t            this.inputParagraphNr = '';\n\t            this.inputDescription = '';\n\t            this.addedRow = row;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteChoiceConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.paragraph.choices.indexOf(removedRow);\n\t            this.paragraph.choices.splice(index, 1);\n\t            this.clearEditedRow();\n\t            this.saveParagraphChoices();\n\t        }\n\t    }, {\n\t        key: 'editDescription',\n\t        value: function editDescription() {\n\t            this.descriptionEditable = true;\n\t            this.originalDescription = this.paragraph.description;\n\t        }\n\t    }, {\n\t        key: 'isDescriptionEditable',\n\t        value: function isDescriptionEditable() {\n\t            return this.descriptionEditable;\n\t        }\n\t    }, {\n\t        key: 'saveDescriptionChanges',\n\t        value: function saveDescriptionChanges() {\n\t            this.originalDescription = null;\n\t            this.descriptionEditable = false;\n\t            this.adventurePersistenceService.updateParagraph(this.bookId, this.paragraph);\n\t        }\n\t    }, {\n\t        key: 'abortDescriptionChanges',\n\t        value: function abortDescriptionChanges() {\n\t            this.paragraph.description = this.originalDescription;\n\t            this.originalDescription = null;\n\t            this.descriptionEditable = false;\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = { paragraphNr: row.paragraphNr, description: row.description };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid) {\n\t            if ($invalid) {\n\t                return;\n\t            }\n\t            this.clearEditedRow();\n\t            this.saveParagraphChoices();\n\t        }\n\t    }, {\n\t        key: 'saveParagraphChoices',\n\t        value: function saveParagraphChoices() {\n\t            this.adventurePersistenceService.updateParagraph(this.adventureId, this.paragraph);\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n\t                this.editedRow.description = this.originalRow.description;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }, {\n\t        key: 'goTo',\n\t        value: function goTo(paragraphNr) {\n\t            this.gamePersistenceService.setCurrentParagraphNrOfGame(this.gameId, this.paragraph.paragraphNr, paragraphNr);\n\t            var nextUrl = this.gamePersistenceService.getUrlOfGame(this.gameId);\n\t            this.$location.url(nextUrl);\n\t        }\n\t    }, {\n\t        key: 'isAlreadyChoosen',\n\t        value: function isAlreadyChoosen(choice) {\n\t            return this.alreadyChoosen.indexOf(choice.paragraphNr) !== -1;\n\t        }\n\t    }]);\n\n\t    return ParagraphController;\n\t})();\n\n\texports['default'] = ParagraphController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _backButtonHtml = __webpack_require__(44);\n\n\tvar _backButtonHtml2 = _interopRequireDefault(_backButtonHtml);\n\n\tvar _backButtonController = __webpack_require__(45);\n\n\tvar _backButtonController2 = _interopRequireDefault(_backButtonController);\n\n\tvar backButtonModule = _angular2['default'].module('app.components.gui.components.back-button', []).component('backButton', { template: _backButtonHtml2['default'], controller: _backButtonController2['default'] });\n\n\texports['default'] = backButtonModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button type=\\\"button\\\"\\n        class=\\\"btn btn-default glyphicon glyphicon-circle-arrow-left\\\"\\n        aria-label=\\\"{{ 'Back' | translate }}\\\"\\n        title=\\\"{{ 'Back' | translate }}\\\"\\n        ng-click=\\\"$ctrl.back()\\\"\\n        ng-disabled=\\\"$ctrl.isBackDisabled()\\\">\\n    {{ 'Back' | translate }}\\n</button>\"\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar BackButtonController = (function () {\n\t    /*@ngInject*/\n\n\t    BackButtonController.$inject = [\"$window\"];\n\t    function BackButtonController($window) {\n\t        _classCallCheck(this, BackButtonController);\n\n\t        this.$window = $window;\n\t    }\n\n\t    _createClass(BackButtonController, [{\n\t        key: \"isBackDisabled\",\n\t        value: function isBackDisabled() {\n\t            return this.$window.history.length < 2;\n\t        }\n\t    }, {\n\t        key: \"back\",\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }]);\n\n\t    return BackButtonController;\n\t})();\n\n\texports[\"default\"] = BackButtonController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _endGamePopupHtml = __webpack_require__(47);\n\n\tvar _endGamePopupHtml2 = _interopRequireDefault(_endGamePopupHtml);\n\n\tvar _endGamePopupController = __webpack_require__(48);\n\n\tvar _endGamePopupController2 = _interopRequireDefault(_endGamePopupController);\n\n\tvar _endGamePopupService = __webpack_require__(49);\n\n\tvar _endGamePopupService2 = _interopRequireDefault(_endGamePopupService);\n\n\tvar endGamePopupModule = _angular2['default'].module('app.components.gui.components.end-game-popup', []).component('endGamePopup', {\n\t    template: _endGamePopupHtml2['default'],\n\t    controller: _endGamePopupController2['default'],\n\t    bindings: {\n\t        config: '@'\n\t    }\n\t}).service('endGamePopupService', _endGamePopupService2['default']);\n\n\texports['default'] = endGamePopupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 47 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <h1>{{ 'Are you sure to abandon this game?' | translate }}</h1>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"endGameReason\\\">{{ \\\"End game's reason\\\" | translate }}</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"endGameReason\\\" ng-model=\\\"$ctrl.endGameReason\\\">\\n        </div>\\n\\n        <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar EndGamePopupController = (function () {\n\t    /*@ngInject*/\n\n\t    EndGamePopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"endGamePopupService\", \"constants\"];\n\t    function EndGamePopupController(preScreenLoadingInterceptorsCallerService, endGamePopupService, constants) {\n\t        _classCallCheck(this, EndGamePopupController);\n\n\t        this.cfg = JSON.parse(this.config);\n\t        this.constants = constants;\n\t        this.endGamePopupService = endGamePopupService;\n\t        this.choices = [constants.choices.yes, constants.choices.no];\n\t    }\n\n\t    _createClass(EndGamePopupController, [{\n\t        key: \"select\",\n\t        value: function select(choice) {\n\t            this.close(choice);\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(choice) {\n\t            this.endGamePopupService.close(this.cfg.id, choice, this.endGameReason);\n\t        }\n\t    }]);\n\n\t    return EndGamePopupController;\n\t})();\n\n\texports[\"default\"] = EndGamePopupController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar EndGamePopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    EndGamePopupService.$inject = [\"constants\"];\n\t    function EndGamePopupService(constants) {\n\t        _classCallCheck(this, EndGamePopupService);\n\n\t        this.constants = constants;\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(EndGamePopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice, endGameReason) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback && choice === this.constants.choices.yes) {\n\t                callback(popupDomElementId, endGameReason);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return EndGamePopupService;\n\t})();\n\n\texports[\"default\"] = EndGamePopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _exportDataPopupHtml = __webpack_require__(51);\n\n\tvar _exportDataPopupHtml2 = _interopRequireDefault(_exportDataPopupHtml);\n\n\tvar _exportDataPopupController = __webpack_require__(52);\n\n\tvar _exportDataPopupController2 = _interopRequireDefault(_exportDataPopupController);\n\n\tvar _exportDataPopupService = __webpack_require__(53);\n\n\tvar _exportDataPopupService2 = _interopRequireDefault(_exportDataPopupService);\n\n\tvar exportDataPopupModule = _angular2['default'].module('app.components.gui.components.export-data-popup', []).component('exportDataPopup', {\n\t    template: _exportDataPopupHtml2['default'],\n\t    controller: _exportDataPopupController2['default'],\n\t    bindings: {\n\t        config: '<'\n\t    }\n\t}).service('exportDataPopupService', _exportDataPopupService2['default']).constant('exportMethods', { file: 'file', text: 'text', email: 'email' });\n\n\texports['default'] = exportDataPopupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 51 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"exportDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.exportTitle}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"exportMethod\\\">{{ 'Select the export method' | translate }}</label>\\n                <select id=\\\"exportMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.exportMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'export_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportText()\\\">\\n                <label for=\\\"exportText\\\">{{ \\\"Export text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"exportText\\\" rows=\\\"4\\\"ng-model=\\\"$ctrl.config.exportData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportEmail()\\\">\\n                <label for=\\\"exportEmail\\\">{{ \\\"Receiver Email\\\" | translate }}</label>\\n                <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"exportEmail\\\" ng-model=\\\"$ctrl.exportEmail\\\" required>\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, exportDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n\\n            <a id=\\\"linkSendEmail\\\" ng-show=\\\"false\\\" href=\\\"mailto:{{$ctrl.exportEmail}}?subject={{$ctrl.config.exportTitle}}&body={{$ctrl.config.exportData}}\\\">{{ 'Sent' | translate }}</a>\\n            <a id=\\\"linkDownload\\\" ng-show=\\\"false\\\" ng-href=\\\"{{$ctrl.config.exportDownloadBlobUrl}}\\\" download=\\\"export.txt\\\">{{ 'Download' | translate }}</a>\\n        </div>\\n    </div>\\n</form>\"\n\n/***/ },\n/* 52 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ExportDataPopupController = (function () {\n\t    /*@ngInject*/\n\n\t    ExportDataPopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"exportDataPopupService\", \"constants\", \"exportMethods\", \"$window\", \"formHelperService\"];\n\t    function ExportDataPopupController(preScreenLoadingInterceptorsCallerService, exportDataPopupService, constants, exportMethods, $window, formHelperService) {\n\t        _classCallCheck(this, ExportDataPopupController);\n\n\t        this.constants = constants;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.exportMethods = exportMethods;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\n\t        this.choices = [constants.choices.cancel, constants.choices.ok];\n\t        this.methods = [exportMethods.text, exportMethods.file, exportMethods.email];\n\t        this.exportMethod = exportMethods.text;\n\t    }\n\n\t    _createClass(ExportDataPopupController, [{\n\t        key: 'select',\n\t        value: function select(choice, form) {\n\t            this.formHelperService.setErrorFieldsAsDirty(form, false);\n\t            if (!form.$invalid) {\n\t                if (choice === this.constants.choices.ok) {\n\t                    if (this.displayExportEmail()) {\n\t                        var href = window.document.getElementById('linkSendEmail');\n\t                        window.document.getElementById('exportDataForm');\n\t                        href.click();\n\t                    } else if (this.displayDownload()) {\n\t                        var href = window.document.getElementById('linkDownload');\n\t                        href.click();\n\t                    }\n\t                }\n\t                this.close(choice);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close(choice) {\n\t            this.exportDataPopupService.close(this.config.id, choice);\n\t        }\n\t    }, {\n\t        key: 'displayExportText',\n\t        value: function displayExportText() {\n\t            return !!this.exportMethod && this.exportMethod === this.exportMethods.text;\n\t        }\n\t    }, {\n\t        key: 'displayDownload',\n\t        value: function displayDownload() {\n\t            return !!this.exportMethod && this.exportMethod === this.exportMethods.file;\n\t        }\n\t    }, {\n\t        key: 'displayExportEmail',\n\t        value: function displayExportEmail() {\n\t            return !!this.exportMethod && this.exportMethod === this.exportMethods.email;\n\t        }\n\t    }]);\n\n\t    return ExportDataPopupController;\n\t})();\n\n\texports['default'] = ExportDataPopupController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ExportDataPopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    ExportDataPopupService.$inject = [\"constants\", \"$window\"];\n\t    function ExportDataPopupService(constants, $window) {\n\t        _classCallCheck(this, ExportDataPopupService);\n\n\t        this.constants = constants;\n\t        this.$window = $window;\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(ExportDataPopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"createDownloadBlobUrl\",\n\t        value: function createDownloadBlobUrl(data) {\n\t            var blob = new Blob([data], { type: 'text/plain' });\n\t            var url = this.$window.URL || this.$window.webkitURL;\n\t            return url.createObjectURL(blob);\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice, endGameReason) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback && choice === this.constants.choices.ok) {\n\t                callback(popupDomElementId, choice);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return ExportDataPopupService;\n\t})();\n\n\texports[\"default\"] = ExportDataPopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _importDataPopupHtml = __webpack_require__(55);\n\n\tvar _importDataPopupHtml2 = _interopRequireDefault(_importDataPopupHtml);\n\n\tvar _importDataPopupController = __webpack_require__(56);\n\n\tvar _importDataPopupController2 = _interopRequireDefault(_importDataPopupController);\n\n\tvar _importDataPopupService = __webpack_require__(57);\n\n\tvar _importDataPopupService2 = _interopRequireDefault(_importDataPopupService);\n\n\tvar importDataPopupModule = _angular2['default'].module('app.components.gui.components.import-data-popup', []).component('importDataPopup', {\n\t    template: _importDataPopupHtml2['default'],\n\t    controller: _importDataPopupController2['default'],\n\t    bindings: {\n\t        config: '<'\n\t    }\n\t}).service('importDataPopupService', _importDataPopupService2['default']).constant('importMethods', { file: 'file', text: 'text' });\n\n\texports['default'] = importDataPopupModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 55 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"importDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.title}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"importMethod\\\">{{ 'Select the import method' | translate }}</label>\\n                <select id=\\\"importMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.importMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'import_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayImportText()\\\">\\n                <label for=\\\"importText\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"importText\\\" rows=\\\"4\\\" ng-model=\\\"$ctrl.importTextData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayUpload()\\\">\\n                <label for=\\\"importUpload\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <input id=\\\"importUpload\\\" type=\\\"file\\\" ng-model=\\\"$ctrl.uploadFile\\\" on-read-file=\\\"$ctrl.showContent($fileContent)\\\" />\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, importDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n        </div>\\n    </div>\\n</form>\"\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ImportDataPopupController = (function () {\n\t    /*@ngInject*/\n\n\t    ImportDataPopupController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"importDataPopupService\", \"constants\", \"importMethods\", \"$window\", \"formHelperService\"];\n\t    function ImportDataPopupController(preScreenLoadingInterceptorsCallerService, importDataPopupService, constants, importMethods, $window, formHelperService) {\n\t        _classCallCheck(this, ImportDataPopupController);\n\n\t        this.constants = constants;\n\t        this.importDataPopupService = importDataPopupService;\n\t        this.importMethods = importMethods;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\n\t        this.choices = [constants.choices.cancel, constants.choices.ok];\n\t        this.methods = [importMethods.text, importMethods.file];\n\t        this.importMethod = importMethods.text;\n\t    }\n\n\t    _createClass(ImportDataPopupController, [{\n\t        key: \"select\",\n\t        value: function select(choice, form) {\n\t            if (choice === this.constants.choices.cancel) {\n\t                this.close(choice);\n\t            } else if (choice === this.constants.choices.ok) {\n\t                this.formHelperService.setErrorFieldsAsDirty(form, false);\n\t                if (!form.$invalid) {\n\t                    var importData = null;\n\t                    if (this.importMethod === this.importMethods.text) {\n\t                        importData = this.importTextData;\n\t                    } else if (this.importMethod === this.importMethods.file) {\n\t                        importData = this.importUploadData;\n\t                    }\n\t                    this.close(choice, importData);\n\t                    this.importTextData = null;\n\t                    this.importUploadData = null;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(choice, importData) {\n\t            this.importDataPopupService.close(this.config.id, choice, importData);\n\t        }\n\t    }, {\n\t        key: \"displayImportText\",\n\t        value: function displayImportText() {\n\t            return !!this.importMethod && this.importMethod === this.importMethods.text;\n\t        }\n\t    }, {\n\t        key: \"displayUpload\",\n\t        value: function displayUpload() {\n\t            return !!this.importMethod && this.importMethod === this.importMethods.file;\n\t        }\n\t    }, {\n\t        key: \"showContent\",\n\t        value: function showContent($fileContent) {\n\t            this.importUploadData = $fileContent;\n\t        }\n\t    }]);\n\n\t    return ImportDataPopupController;\n\t})();\n\n\texports[\"default\"] = ImportDataPopupController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 57 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ImportDataPopupService = (function () {\n\n\t    /*@ngInject*/\n\n\t    ImportDataPopupService.$inject = [\"constants\"];\n\t    function ImportDataPopupService(constants) {\n\t        _classCallCheck(this, ImportDataPopupService);\n\n\t        this.constants = constants;\n\t        this.popups = {};\n\t    }\n\n\t    _createClass(ImportDataPopupService, [{\n\t        key: \"show\",\n\t        value: function show(popupDomElementId, callback) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"block\";\n\n\t            this.popups[popupDomElementId] = callback;\n\t        }\n\t    }, {\n\t        key: \"close\",\n\t        value: function close(popupDomElementId, choice, data) {\n\t            var modalElement = window.document.getElementById(popupDomElementId);\n\t            modalElement.style.display = \"none\";\n\n\t            var callback = this.popups[popupDomElementId];\n\t            if (!!callback && choice === this.constants.choices.ok) {\n\t                callback(popupDomElementId, data);\n\t            }\n\t            delete this.popups[popupDomElementId];\n\t        }\n\t    }]);\n\n\t    return ImportDataPopupService;\n\t})();\n\n\texports[\"default\"] = ImportDataPopupService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _homeHome = __webpack_require__(59);\n\n\tvar _homeHome2 = _interopRequireDefault(_homeHome);\n\n\tvar _gamesGames = __webpack_require__(62);\n\n\tvar _gamesGames2 = _interopRequireDefault(_gamesGames);\n\n\tvar _battleBattle = __webpack_require__(82);\n\n\tvar _battleBattle2 = _interopRequireDefault(_battleBattle);\n\n\tvar _administrationAdministration = __webpack_require__(85);\n\n\tvar _administrationAdministration2 = _interopRequireDefault(_administrationAdministration);\n\n\tvar _chooseLanguageChooseLanguage = __webpack_require__(88);\n\n\tvar _chooseLanguageChooseLanguage2 = _interopRequireDefault(_chooseLanguageChooseLanguage);\n\n\tvar _aboutAbout = __webpack_require__(91);\n\n\tvar _aboutAbout2 = _interopRequireDefault(_aboutAbout);\n\n\tvar _adventuresAdventures = __webpack_require__(94);\n\n\tvar _adventuresAdventures2 = _interopRequireDefault(_adventuresAdventures);\n\n\tvar _librariesLibraries = __webpack_require__(101);\n\n\tvar _librariesLibraries2 = _interopRequireDefault(_librariesLibraries);\n\n\tvar screensModule = _angular2['default'].module('app.components.gui.screens', [_homeHome2['default'].name, _gamesGames2['default'].name, _battleBattle2['default'].name, _administrationAdministration2['default'].name, _chooseLanguageChooseLanguage2['default'].name, _aboutAbout2['default'].name, _adventuresAdventures2['default'].name, _librariesLibraries2['default'].name]);\n\n\texports['default'] = screensModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _homeHtml = __webpack_require__(60);\n\n\tvar _homeHtml2 = _interopRequireDefault(_homeHtml);\n\n\tvar _homeController = __webpack_require__(61);\n\n\tvar _homeController2 = _interopRequireDefault(_homeController);\n\n\tvar homeModule = _angular2['default'].module('app.components.gui.screen.home', [_angularUiRouter2['default'], \"app.components.constants\"]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('home', {\n\t        url: constants.url.root, template: '<home></home>'\n\t    });\n\t}]).component('home', { template: _homeHtml2['default'], controller: _homeController2['default'] });\n\n\texports['default'] = homeModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 60 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n</main>\"\n\n/***/ },\n/* 61 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar HomeController =\n\n\t/*@ngInject*/\n\t[\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", function HomeController($location, preScreenLoadingInterceptorsCallerService, constants) {\n\t    _classCallCheck(this, HomeController);\n\n\t    preScreenLoadingInterceptorsCallerService.intercept();\n\t    $location.url(constants.url.games);\n\t}];\n\n\texports[\"default\"] = HomeController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _listGamesList = __webpack_require__(63);\n\n\tvar _listGamesList2 = _interopRequireDefault(_listGamesList);\n\n\tvar _detailGameDetail = __webpack_require__(66);\n\n\tvar _detailGameDetail2 = _interopRequireDefault(_detailGameDetail);\n\n\tvar _createCreateGameWizard = __webpack_require__(72);\n\n\tvar _createCreateGameWizard2 = _interopRequireDefault(_createCreateGameWizard);\n\n\tvar gamesModule = _angular2['default'].module('app.components.gui.screens.games', [_listGamesList2['default'].name, _detailGameDetail2['default'].name, _createCreateGameWizard2['default'].name]);\n\n\texports['default'] = gamesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _gamesListHtml = __webpack_require__(64);\n\n\tvar _gamesListHtml2 = _interopRequireDefault(_gamesListHtml);\n\n\tvar _gamesListController = __webpack_require__(65);\n\n\tvar _gamesListController2 = _interopRequireDefault(_gamesListController);\n\n\tvar gamesListModule = _angular2['default'].module('app.components.gui.screen.games.list', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('gamesList', {\n\t        url: constants.url.games, template: '<games-list></games-list>'\n\t    });\n\t}]).component('gamesList', { template: _gamesListHtml2['default'], controller: _gamesListController2['default'] });\n\n\texports['default'] = gamesListModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Games' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:25%\\\">\\n                    <col style=\\\"width:20% \\\">\\n                    <col style=\\\"width:15% \\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Adventure' | translate }}</th>\\n                        <th>{{ 'Serie' | translate }}</th>\\n                        <th>{{ 'Player' | translate }}</th>\\n                        <th>{{ 'State' | translate }}</th>\\n                        <th>{{ 'Paragraph' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td>{{ row.adventureName }}</td>\\n                        <td>{{ row.serie }}</td>\\n                        <td>{{ row.playerName }}</td>\\n                        <td>{{ (!!row.endGameReason ? 'game over' : 'in progress') | translate }}\\n                            {{ (!!row.endGameReason ? \\\": '\\\" + row.endGameReason + \\\"'\\\" : '' ) }}\\n                        </td>\\n                        <td>{{ row.currentParagraphNr }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventurekName, playerName: row.playerName}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-click=\\\"$ctrl.startNewGame()\\\"\\n                aria-label=\\\"{{ 'Start a new game' | translate }}\\\"\\n                title=\\\"{{ 'Start a new game' | translate }}\\\">{{ 'New game' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportGamePopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.continueGame()\\\"\\n                aria-label=\\\"{{ 'Continue the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Continue the selected game' | translate }}\\\">{{ 'Continue' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayRemoveGamePopup()\\\"\\n                aria-label=\\\"{{ 'Remove the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Remove the selected game' | translate }}\\\">{{ 'Remove' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayExportGamePopup()\\\"\\n                aria-label=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Export selected adventure' | translate }}\\\">{{ 'Export' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteGameConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportGameConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportGameConfig\\\"></import-data-popup>\\n\"\n\n/***/ },\n/* 65 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar GamesListController = (function () {\n\t    /*@ngInject*/\n\n\t    GamesListController.$inject = [\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"messagesService\", \"$translate\", \"popupService\", \"exportDataPopupService\", \"importDataPopupService\"];\n\t    function GamesListController($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n\t        _classCallCheck(this, GamesListController);\n\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.popupService = popupService;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.importDataPopupService = importDataPopupService;\n\n\t        this.popupDeleteGameConfig = {\n\t            id: 'popupDeleteGame',\n\t            text: 'Are you sure to remove the selected game?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupExportGameConfig = { id: 'popupExportGame' };\n\t        this.popupImportGameConfig = { id: 'popupImportGame' };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(GamesListController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var gamePersistenceKeys = this.gamePersistenceService.getGamePersistenceKeys();\n\t            this.rows = [];\n\t            for (var i = 0; i < gamePersistenceKeys.length; i++) {\n\t                var game = this.gamePersistenceService.getGame(gamePersistenceKeys[i]);\n\t                this.rows.push(game);\n\t            }\n\n\t            this.completeAdventureData(this.rows);\n\t        }\n\t    }, {\n\t        key: 'completeAdventureData',\n\t        value: function completeAdventureData(games) {\n\t            for (var i = 0; i < games.length; i++) {\n\t                var adventure = this.adventurePersistenceService.getAdventure(games[i].adventureId);\n\t                if (!!adventure) {\n\t                    games[i].adventureName = adventure.name;\n\t                    games[i].serie = adventure.serie;\n\t                } else {\n\t                    this.messagesService.errorMessage(this.$translate.instant('Cannot find adventure') + \" '\" + games[i].adventureId + \"'\", false);\n\t                    games[i].adventureName = games[i].adventureId;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(row) {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                this.rows[i].selected = false;\n\t            }\n\t            row.selected = true;\n\t        }\n\t    }, {\n\t        key: 'startNewGame',\n\t        value: function startNewGame() {\n\t            var adventureKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n\t            if (!adventureKeys || adventureKeys.length === 0) {\n\t                this.messagesService.errorMessage('No adventure available', false);\n\t                return;\n\t            }\n\t            this.$location.url(this.constants.url.selectAdventureForNewGame);\n\t        }\n\t    }, {\n\t        key: 'continueGame',\n\t        value: function continueGame() {\n\t            var game = this.gamePersistenceService.getGame(this.getSelectedRow().id);\n\t            var adventure = this.adventurePersistenceService.getAdventure(game.adventureId);\n\t            if (!adventure) {\n\t                this.messagesService.errorMessage('The adventure is not available', false);\n\t            } else {\n\t                var nextUrl = this.gamePersistenceService.getUrlOfGame(this.getSelectedRow().id);\n\t                this.$location.url(nextUrl);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'displayRemoveGamePopup',\n\t        value: function displayRemoveGamePopup() {\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteGameConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.deleteGame();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'deleteGame',\n\t        value: function deleteGame() {\n\t            this.gamePersistenceService.deleteGame(this.getSelectedRow().id, true, true);\n\t            this.initData();\n\t        }\n\t    }, {\n\t        key: 'displayExportGamePopup',\n\t        value: function displayExportGamePopup() {\n\t            var self = this;\n\t            this.popupExportGameConfig.exportData = JSON.stringify(this.gamePersistenceService.getGame(this.getSelectedRow().id));\n\t            this.popupExportGameConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportGameConfig.exportData);\n\t            this.popupExportGameConfig.exportTitle = this.$translate.instant('ExportGame', { playerName: this.getSelectedRow().playerName, adventureName: this.getSelectedRow().adventureName });\n\t            this.exportDataPopupService.show(this.popupExportGameConfig.id);\n\t        }\n\t    }, {\n\t        key: 'displayImportGamePopup',\n\t        value: function displayImportGamePopup() {\n\t            var self = this;\n\t            this.popupImportGameConfig.title = this.$translate.instant('Import a game');\n\t            this.importDataPopupService.show(this.popupImportGameConfig.id, function (popupDomElementId, data) {\n\t                self.gamePersistenceService.importGame(data);\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'hasSelectedRow',\n\t        value: function hasSelectedRow() {\n\t            return !!this.getSelectedRow();\n\t        }\n\t    }, {\n\t        key: 'getSelectedRow',\n\t        value: function getSelectedRow() {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                if (!!this.rows[i].selected) {\n\t                    return this.rows[i];\n\t                }\n\t            }\n\t            return null;\n\t        }\n\t    }]);\n\n\t    return GamesListController;\n\t})();\n\n\texports['default'] = GamesListController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _notesNotes = __webpack_require__(67);\n\n\tvar _notesNotes2 = _interopRequireDefault(_notesNotes);\n\n\tvar _gameDetailHtml = __webpack_require__(70);\n\n\tvar _gameDetailHtml2 = _interopRequireDefault(_gameDetailHtml);\n\n\tvar _gameDetailController = __webpack_require__(71);\n\n\tvar _gameDetailController2 = _interopRequireDefault(_gameDetailController);\n\n\tvar gameDetailModule = _angular2['default'].module('app.components.gui.screen.games.detail', [_angularUiRouter2['default'], _notesNotes2['default'].name]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\t    $stateProvider.state('game-detail', {\n\t        url: constants.url.gameDetail, template: '<game-detail></game-detail>'\n\t    });\n\t}]).component('gameDetail', { template: _gameDetailHtml2['default'], controller: _gameDetailController2['default'] });\n\n\texports['default'] = gameDetailModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _notesHtml = __webpack_require__(68);\n\n\tvar _notesHtml2 = _interopRequireDefault(_notesHtml);\n\n\tvar _notesController = __webpack_require__(69);\n\n\tvar _notesController2 = _interopRequireDefault(_notesController);\n\n\tvar notesModule = _angular2['default'].module('app.components.gui.screen.games.detail.notes', []).component('notes', {\n\t    template: _notesHtml2['default'],\n\t    controller: _notesController2['default'],\n\t    bindings: {\n\t        gameId: '@',\n\t        paragraphNr: '@',\n\t        adventureId: '@'\n\t    }\n\t});\n\n\texports['default'] = notesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 68 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form name=\\\"notesTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Note' | translate }}</th>\\n            <th>{{ 'Paragraph' | translate }}</th>\\n            <th>{{ 'Player' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add note' | translate}}\\\"\\n                        title=\\\"{{ 'Add note' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr ng-repeat=\\\"row in $ctrl.notes track by $index\\\">\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.note }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.note\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"notesTableForm.$invalid\\\">\\n                    {{ 'Please fill the note' | translate }}\\n                </div>\\n            </td>\\n\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row) || !$ctrl.gameId || !row.playerName\\\">\\n                {{ row.paragraphNr }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row) && (!!$ctrl.gameId && !!row.playerName)\\\">\\n                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.isParagraph\\\" name=\\\"isParagraph\\\" value=\\\"true\\\"><br>\\n            </td>\\n\\n            <td>\\n                {{ row.playerName }}\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                        aria-label=\\\"{{ 'Save note changes' | translate}}\\\"\\n                        title=\\\"{{ 'Save note changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.saveRowChanges(notesTableForm.$invalid, row)\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Abort note changes' | translate}}\\\"\\n                        title=\\\"{{ 'Abort note changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Edit note' | translate}} '{{ row.note | translate }}'\\\"\\n                        title=\\\"{{ 'Edit note' | translate}} '{{ row.note | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Remove note' | translate }} '{{ row.note | translate }}'\\\"\\n                        title=\\\"{{ 'Remove note' | translate }} '{{ row.note | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n<popup config=\\\"{{ $ctrl.popupDeleteNoteConfig }}\\\"></popup>\\n\"\n\n/***/ },\n/* 69 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar NotesController = (function () {\n\t    /*@ngInject*/\n\n\t    NotesController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"popupService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\"];\n\t    function NotesController(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService) {\n\t        _classCallCheck(this, NotesController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\n\t        this.popupDeleteNoteConfig = {\n\t            id: 'popupDeleteNoteConfig',\n\t            text: 'Are you sure to remove the note?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(NotesController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var game = undefined;\n\t            if (!!this.gameId) {\n\t                game = this.gamePersistenceService.getGame(this.gameId);\n\t            }\n\n\t            this.notes = [];\n\t            var paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n\t            if (!!paragraph && !!paragraph.notes) {\n\t                for (var i = 0; i < paragraph.notes.length; i++) {\n\t                    this.notes.push(paragraph.notes[i]);\n\t                    paragraph.notes[i].paragraphNr = this.paragraphNr;\n\t                    paragraph.notes[i].isParagraph = !!paragraph.notes[i].paragraphNr;\n\t                    if (!paragraph.notes[i].playerName) {\n\t                        paragraph.notes[i].note = paragraph.notes[i].note;\n\t                    }\n\t                }\n\t            }\n\n\t            if (!!game) {\n\t                this.playerName = game.playerName;\n\t                if (!!game.notes) {\n\t                    this.notes = this.notes.concat(game.notes);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addRow',\n\t        value: function addRow(noteValue) {\n\t            var row = { note: noteValue, isParagraph: true, paragraphNr: this.paragraphNr, playerName: this.playerName };\n\t            this.notes.push(row);\n\t            this.addedRow = row;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteNoteConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.notes.indexOf(removedRow);\n\t            this.notes.splice(index, 1);\n\t            this.clearEditedRow();\n\t            this.saveNotes();\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = { note: row.note, paragraphNr: row.paragraphNr, playerName: row.playerName };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid, row) {\n\t            if ($invalid) {\n\t                return;\n\t            }\n\n\t            if (!!row.isParagraph) {\n\t                row.paragraphNr = Number(this.paragraphNr);\n\t            } else {\n\t                row.paragraphNr = undefined;\n\t            }\n\n\t            this.clearEditedRow();\n\t            this.saveNotes();\n\t        }\n\t    }, {\n\t        key: 'saveNotes',\n\t        value: function saveNotes() {\n\t            this.savePlayerNotes();\n\t            this.saveParagraphNotes();\n\t        }\n\t    }, {\n\t        key: 'savePlayerNotes',\n\t        value: function savePlayerNotes() {\n\t            if (!this.gameId) {\n\t                return;\n\t            }\n\n\t            var savedNotes = [];\n\t            for (var i = 0; i < this.notes.length; i++) {\n\t                if (!this.notes[i].paragraphNr) {\n\t                    savedNotes.push({ note: this.notes[i].note, playerName: this.notes[i].playerName });\n\t                }\n\t            }\n\t            var game = this.gamePersistenceService.getGame(this.gameId);\n\t            game.notes = savedNotes;\n\t            this.gamePersistenceService.updateGame(game);\n\t        }\n\t    }, {\n\t        key: 'saveParagraphNotes',\n\t        value: function saveParagraphNotes() {\n\t            var savedNotes = [];\n\t            for (var i = 0; i < this.notes.length; i++) {\n\t                if (!!this.notes[i].paragraphNr) {\n\t                    savedNotes.push({ note: this.notes[i].note, playerName: this.notes[i].playerName });\n\t                }\n\t            }\n\t            var paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n\t            paragraph.notes = savedNotes;\n\t            this.adventurePersistenceService.updateParagraph(this.adventureId, paragraph);\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.note = this.originalRow.note;\n\t                this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n\t                this.editedRow.playerName = this.originalRow.playerName;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }]);\n\n\t    return NotesController;\n\t})();\n\n\texports['default'] = NotesController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 70 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Paragraph' | translate }} {{ $ctrl.paragraph.paragraphNr }}</h1>\\n        </div>\\n\\n        <div id=\\\"paragraphEdit\\\">\\n            <paragraph paragraph=\\\"$ctrl.paragraph\\\" game-id=\\\"{{$ctrl.game.id}}\\\"></paragraph>\\n            <notes adventure-id=\\\"{{$ctrl.adventureId}}\\\" paragraph-nr=\\\"{{$ctrl.paragraph.paragraphNr}}\\\" game-id=\\\"{{$ctrl.game.id}}\\\"></notes>\\n        </div>\\n\\n        <div id=\\\"playerSheet\\\" ng-if=\\\"!!$ctrl.playerName\\\">\\n            <h2>{{ 'Player' | translate }} {{ $ctrl.playerName }}</h2>\\n            <stats game-id=\\\"{{$ctrl.game.id}}\\\" stats=\\\"$ctrl.stats\\\"></stats>\\n            <items game-id=\\\"{{$ctrl.game.id}}\\\" items=\\\"$ctrl.items\\\"></items>\\n            <dices></dices>\\n            <back-button></back-button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.startBattle()\\\">{{ 'Start Battle' | translate }}</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.displayAbandonGamePopup()\\\">{{ 'End Game' | translate }}</button>\\n        </div>\\n    </div>\\n\\n    <end-game-popup config=\\\"{{ $ctrl.popupAbandonGameConfig }}\\\"></end-game-popup>\\n</main>\"\n\n/***/ },\n/* 71 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar GameDetailController = (function () {\n\t    /*@ngInject*/\n\n\t    GameDetailController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$location\", \"constants\", \"endGamePopupService\", \"$stateParams\", \"gamePersistenceService\", \"adventurePersistenceService\", \"$translate\", \"messagesService\"];\n\t    function GameDetailController(preScreenLoadingInterceptorsCallerService, $location, constants, endGamePopupService, $stateParams, gamePersistenceService, adventurePersistenceService, $translate, messagesService) {\n\t        _classCallCheck(this, GameDetailController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.endGamePopupService = endGamePopupService;\n\t        this.$stateParams = $stateParams;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$translate = $translate;\n\t        this.messagesService = messagesService;\n\t        this.items = [];\n\t        this.stats = [];\n\n\t        this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.gameId));\n\t        this.playerName = this.game.playerName;\n\t        if (!!this.game.items) {\n\t            this.items = this.items.concat(this.game.items);\n\t        }\n\t        if (!!this.game.stats) {\n\t            this.stats = this.stats.concat(this.game.stats);\n\t        }\n\t        this.adventureId = this.$stateParams.adventureId;\n\t        this.paragraph = this.adventurePersistenceService.getOrCreateParagraph(this.adventureId, this.$stateParams.paragraphNr);\n\t        this.popupAbandonGameConfig = { id: 'popupAbandonGame' };\n\t        this.checkAvailableAdventure();\n\t    }\n\n\t    _createClass(GameDetailController, [{\n\t        key: 'checkAvailableAdventure',\n\t        value: function checkAvailableAdventure() {\n\t            var adventure = this.adventurePersistenceService.getAdventure(this.adventureId);\n\t            if (!adventure) {\n\t                this.messagesService.errorMessage('The adventure is not available', false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'startBattle',\n\t        value: function startBattle() {\n\t            this.$location.url(this.constants.url.battle + '/' + this.game.id);\n\t        }\n\t    }, {\n\t        key: 'displayAbandonGamePopup',\n\t        value: function displayAbandonGamePopup(removedRow) {\n\t            var self = this;\n\t            this.endGamePopupService.show(this.popupAbandonGameConfig.id, function (popupDomElementId, endGameReason) {\n\t                var updatedGame = self.gamePersistenceService.getGame(self.game.id);\n\t                updatedGame.endGameReason = endGameReason;\n\t                self.gamePersistenceService.updateGame(updatedGame);\n\t                self.$location.url(self.constants.url.games);\n\t            });\n\t        }\n\t    }]);\n\n\t    return GameDetailController;\n\t})();\n\n\texports['default'] = GameDetailController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _selectAdventureSelectAdventure = __webpack_require__(73);\n\n\tvar _selectAdventureSelectAdventure2 = _interopRequireDefault(_selectAdventureSelectAdventure);\n\n\tvar _createPlayerCreatePlayer = __webpack_require__(76);\n\n\tvar _createPlayerCreatePlayer2 = _interopRequireDefault(_createPlayerCreatePlayer);\n\n\tvar _chooseItemsChooseItems = __webpack_require__(79);\n\n\tvar _chooseItemsChooseItems2 = _interopRequireDefault(_chooseItemsChooseItems);\n\n\tvar createGameWizardModule = _angular2['default'].module('app.components.gui.screens.games.create', [_selectAdventureSelectAdventure2['default'].name, _createPlayerCreatePlayer2['default'].name, _chooseItemsChooseItems2['default'].name]);\n\n\texports['default'] = createGameWizardModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _selectAdventureHtml = __webpack_require__(74);\n\n\tvar _selectAdventureHtml2 = _interopRequireDefault(_selectAdventureHtml);\n\n\tvar _selectAdventureController = __webpack_require__(75);\n\n\tvar _selectAdventureController2 = _interopRequireDefault(_selectAdventureController);\n\n\tvar SelectAdventureModule = _angular2['default'].module('app.components.gui.screen.games.create.select-adventure', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('select-adventure', {\n\t        url: constants.url.selectAdventureForNewGame, template: '<select-adventure></select-adventure>'\n\t    });\n\t}]).component('selectAdventure', { template: _selectAdventureHtml2['default'], controller: _selectAdventureController2['default'] });\n\n\texports['default'] = SelectAdventureModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 74 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <form ng-submit=\\\"$ctrl.next()\\\">\\n            <div class=\\\"page-header\\\">\\n                <h1>{{ 'New game' | translate }}</h1>\\n            </div>\\n\\n            <ol class=\\\"breadcrumb\\\">\\n                <li class=\\\"active\\\">{{ 'Select Adventure' | translate }}</li>\\n                <li>{{ 'Create Player' | translate }}</li>\\n                <li>{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"selectedAdventure\\\">{{ 'Select an adventure' | translate }}</label>\\n                <select id=\\\"selectedAdventure\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.selectedAdventureId\\\">\\n                    <option ng-repeat=\\\"adventure in $ctrl.adventures\\\" value=\\\"{{ adventure.id }}\\\">{{ adventure.name }}</option>\\n                </select>\\n            </div>\\n\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.next()\\\">{{ 'Next' | translate }}</button>\\n        </form>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 75 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar SelectAdventureController = (function () {\n\t    /*@ngInject*/\n\n\t    SelectAdventureController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"constants\", \"$location\", \"$window\", \"adventurePersistenceService\", \"$timeout\"];\n\t    function SelectAdventureController(preScreenLoadingInterceptorsCallerService, constants, $location, $window, adventurePersistenceService, $timeout) {\n\t        _classCallCheck(this, SelectAdventureController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.$window = $window;\n\t        this.constants = constants;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$timeout = $timeout;\n\t        this.initData();\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(SelectAdventureController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            var adventurePersistenceKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n\t            this.adventures = [];\n\t            for (var i = 0; i < adventurePersistenceKeys.length; i++) {\n\t                var adventure = this.adventurePersistenceService.getAdventure(adventurePersistenceKeys[i]);\n\t                this.adventures.push(adventure);\n\t            }\n\t            this.selectedAdventureId = this.adventures[0].id;\n\t        }\n\t    }, {\n\t        key: \"setInitialFocus\",\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = that.$window.document.getElementById(\"selectedAdventure\");\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: \"back\",\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }, {\n\t        key: \"next\",\n\t        value: function next() {\n\t            this.$location.url(this.constants.url.createPlayerForNewGame + \"?adventureId=\" + encodeURIComponent(this.selectedAdventureId));\n\t        }\n\t    }]);\n\n\t    return SelectAdventureController;\n\t})();\n\n\texports[\"default\"] = SelectAdventureController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _createPlayerHtml = __webpack_require__(77);\n\n\tvar _createPlayerHtml2 = _interopRequireDefault(_createPlayerHtml);\n\n\tvar _createPlayerController = __webpack_require__(78);\n\n\tvar _createPlayerController2 = _interopRequireDefault(_createPlayerController);\n\n\tvar CreatePlayerModule = _angular2['default'].module('app.components.gui.screen.games.create.create-player', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('create-player', {\n\t        url: constants.url.createPlayerForNewGame + \"?adventureId\", template: '<create-player></create-player>'\n\t    });\n\t}]).component('createPlayer', { template: _createPlayerHtml2['default'], controller: _createPlayerController2['default'] });\n\n\texports['default'] = CreatePlayerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 77 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'New game' | translate }}</h1>\\n        </div>\\n\\n        <!-- novalidate=\\\"novalidate\\\" allow to do not display untranslated tooltip \\\"Fill out this field\\\" -->\\n        <form name=\\\"playerForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.next(playerForm.$invalid)\\\">\\n            <ol class=\\\"breadcrumb\\\">\\n                <li>{{ 'Select Adventure' | translate }}</li>\\n                <li class=\\\"active\\\">{{ 'Create Player' | translate }}</li>\\n                <li>{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"playerName\\\">{{ 'PlayerName' | translate }}*</label>\\n                <input type=\\\"text\\\" required class=\\\"form-control\\\" id=\\\"playerName\\\" ng-model=\\\"$ctrl.playerName\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"playerForm.$invalid\\\">\\n                    {{ 'Please fill the player name' | translate }}\\n                </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                <label for=\\\"{{ stats.name }}\\\">{{ stats.name }}</label>\\n                <input type=\\\"text\\\" disabled required class=\\\"form-control\\\" id=\\\"{{ stats.name }}\\\" ng-model=\\\"stats.value\\\">\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.generateStats()\\\">{{ 'Random Stats' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.next(playerForm.$invalid)\\\">{{ 'Next' | translate }}</button>\\n            </div>\\n        </form>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 78 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar CreatePlayerController = (function () {\n\t    /*@ngInject*/\n\n\t    CreatePlayerController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$stateParams\", \"$window\", \"$location\", \"constants\", \"dicesService\", \"adventurePersistenceService\", \"$timeout\"];\n\t    function CreatePlayerController(preScreenLoadingInterceptorsCallerService, $stateParams, $window, $location, constants, dicesService, adventurePersistenceService, $timeout) {\n\t        _classCallCheck(this, CreatePlayerController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.constants = constants;\n\t        this.$window = $window;\n\t        this.$location = $location;\n\t        this.dicesService = dicesService;\n\t        this.$timeout = $timeout;\n\t        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n\t        this.loadData(this.adventure);\n\t        this.generateStats();\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(CreatePlayerController, [{\n\t        key: \"loadData\",\n\t        value: function loadData(adventure) {\n\t            var _this = this;\n\n\t            this.stats = [];\n\t            var self = this;\n\n\t            var _loop = function (i) {\n\t                var currentStats = adventure.stats[i];\n\t                _this.stats.push({ name: currentStats.name,\n\t                    generate: function generate() {\n\t                        return currentStats.init.constant + self.dicesService.rollDices(currentStats.init.sixDiceQuantity, 6);\n\t                    }\n\t                });\n\t            };\n\n\t            for (var i = 0; i < adventure.stats.length; i++) {\n\t                _loop(i);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"generateStats\",\n\t        value: function generateStats() {\n\t            for (var i = 0; i < this.stats.length; i++) {\n\t                var stats = this.stats[i];\n\t                stats.value = stats.generate();\n\t            }\n\t        }\n\t    }, {\n\t        key: \"setInitialFocus\",\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = that.$window.document.getElementById(\"playerName\");\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: \"back\",\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }, {\n\t        key: \"next\",\n\t        value: function next(invalid) {\n\t            if (!!invalid) {\n\t                return;\n\t            }\n\n\t            var nextUrl = this.constants.url.chooseItemsForNewGame + \"?adventureId=\" + encodeURIComponent(this.adventure.id) + \"&playerName=\" + encodeURIComponent(this.playerName);\n\n\t            var statsParam = '';\n\n\t            for (var i = 0; i < this.stats.length; i++) {\n\t                var stats = this.stats[i];\n\t                statsParam = statsParam + encodeURIComponent(stats.name) + encodeURIComponent(stats.value) + ',';\n\t            }\n\n\t            nextUrl = nextUrl + \"&stats=\" + statsParam;\n\t            this.$location.url(nextUrl);\n\t        }\n\t    }]);\n\n\t    return CreatePlayerController;\n\t})();\n\n\texports[\"default\"] = CreatePlayerController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _chooseItemsHtml = __webpack_require__(80);\n\n\tvar _chooseItemsHtml2 = _interopRequireDefault(_chooseItemsHtml);\n\n\tvar _chooseItemsController = __webpack_require__(81);\n\n\tvar _chooseItemsController2 = _interopRequireDefault(_chooseItemsController);\n\n\tvar ChooseItemsModule = _angular2['default'].module('app.components.gui.screen.games.create.choose-items', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('choose-items', {\n\t        url: constants.url.chooseItemsForNewGame + \"?adventureId&playerName&stats\", template: '<choose-items></choose-items>'\n\t    });\n\t}]).component('chooseItems', { template: _chooseItemsHtml2['default'], controller: _chooseItemsController2['default'] });\n\n\texports['default'] = ChooseItemsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <form ng-submit=\\\"$ctrl.startGame()\\\">\\n            <div class=\\\"page-header\\\">\\n                <h1>{{ 'New game' | translate }}</h1>\\n            </div>\\n\\n            <ol class=\\\"breadcrumb\\\">\\n                <li>{{ 'Select Adventure' | translate }}</li>\\n                <li>{{ 'Create Player' | translate }}</li>\\n                <li class=\\\"active\\\">{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <messages></messages>\\n\\n            <items ng-if=\\\"$ctrl.isItemsDisplayed()\\\" items=\\\"$ctrl.getItems()\\\"></items>\\n\\n            <div class=\\\"spacer\\\"></div>\\n\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.startGame()\\\">{{ 'Start Game' | translate }}</button>\\n        </form>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 81 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar ChooseItemsController = (function () {\n\t    /*@ngInject*/\n\n\t    ChooseItemsController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$stateParams\", \"messagesService\", \"$window\", \"$location\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\"];\n\t    function ChooseItemsController(preScreenLoadingInterceptorsCallerService, $stateParams, messagesService, $window, $location, constants, gamePersistenceService, adventurePersistenceService) {\n\t        _classCallCheck(this, ChooseItemsController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.messagesService = messagesService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.$window = $window;\n\t        this.$stateParams = $stateParams;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\n\t        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n\t        this.playerItems = this.adventure.items;\n\t        for (var i = 0; i < this.playerItems.length; i++) {\n\t            this.playerItems[i].description = this.playerItems[i].description;\n\t        }\n\t        this.displayNotes();\n\t    }\n\n\t    _createClass(ChooseItemsController, [{\n\t        key: 'isItemsDisplayed',\n\t        value: function isItemsDisplayed() {\n\t            return !!this.adventure.items && this.adventure.items.length > 0;\n\t        }\n\t    }, {\n\t        key: 'displayNotes',\n\t        value: function displayNotes() {\n\t            if (!!this.adventure.startGameNote) {\n\t                this.messagesService.infoMessage(this.adventure.startGameNote, false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getItems',\n\t        value: function getItems() {\n\t            return this.playerItems;\n\t        }\n\t    }, {\n\t        key: 'startGame',\n\t        value: function startGame() {\n\t            var game = this.buildGame();\n\t            game = this.gamePersistenceService.addGame(game);\n\t            this.gamePersistenceService.setCurrentParagraphNrOfGame(game.id, null, this.adventure.startParagraphNr);\n\t            this.$location.url(this.gamePersistenceService.getUrlOfGame(game.id));\n\t        }\n\t    }, {\n\t        key: 'buildGame',\n\t        value: function buildGame() {\n\t            var game = {\n\t                playerName: this.$stateParams.playerName,\n\t                adventureId: this.adventure.id,\n\t                items: JSON.parse(JSON.stringify(this.playerItems))\n\t            };\n\t            game.stats = this.getStatsInUrlParam();\n\t            return game;\n\t        }\n\t    }, {\n\t        key: 'getStatsInUrlParam',\n\t        value: function getStatsInUrlParam() {\n\t            var statsParamValue = this.$stateParams['stats'];\n\t            var stats = [];\n\t            for (var i = 0; i < this.adventure.stats.length; i++) {\n\t                var currentStats = this.adventure.stats[i];\n\t                var startPos = statsParamValue.indexOf(currentStats.name);\n\t                startPos = startPos + currentStats.name.length;\n\t                var endPos = statsParamValue.indexOf(',', startPos);\n\t                var statsValue = statsParamValue.substring(startPos, endPos);\n\t                stats.push({\n\t                    name: currentStats.name,\n\t                    value: new Number(statsValue)\n\t                });\n\t            }\n\t            return stats;\n\t        }\n\t    }, {\n\t        key: 'back',\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }]);\n\n\t    return ChooseItemsController;\n\t})();\n\n\texports['default'] = ChooseItemsController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _battleHtml = __webpack_require__(83);\n\n\tvar _battleHtml2 = _interopRequireDefault(_battleHtml);\n\n\tvar _battleController = __webpack_require__(84);\n\n\tvar _battleController2 = _interopRequireDefault(_battleController);\n\n\tvar BattleModule = _angular2['default'].module('app.components.gui.screen.battle', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('battle', {\n\t        url: constants.url.battle + '/{game}', template: '<battle></battle>'\n\t    });\n\t}]).component('battle', { template: _battleHtml2['default'], controller: _battleController2['default'] });\n\n\texports['default'] = BattleModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 83 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Battle' | translate }}</h1>\\n        </div>\\n\\n        <form name=\\\"battleTableForm\\\" novalidate=\\\"novalidate\\\">\\n            <table class=\\\"table\\\">\\n                <col style=\\\"width:20%\\\">\\n                <col style=\\\"width:10%\\\" ng-repeat=\\\"row in $ctrl.stats\\\">\\n                <col style=\\\"width:{{ $ctrl.lastColumnSizeInPercent() }}%\\\">\\n                <col style=\\\"width:5%\\\">\\n                <thead>\\n                <tr>\\n                    <th></th>\\n                    <th ng-repeat=\\\"row in $ctrl.stats\\\">{{ row.name | translate }}</th>\\n                    <th></th>\\n                    <th>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                aria-label=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                title=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                ng-click=\\\"$ctrl.addEnemy()\\\">\\n                            <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </th>\\n                </tr>\\n                </thead>\\n                <tbody>\\n                <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                    <td ng-if=\\\"!$ctrl.isEnemy(row)\\\">\\n                        {{ row.name }}\\n                    </td>\\n                    <td ng-if=\\\"$ctrl.isEnemy(row)\\\">\\n                        <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                        <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                            {{ 'Please fill the name' | translate }}\\n                        </div>\\n                    </td>\\n\\n                    <td ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                        <div ng-if=\\\"!stats.editableForEnemy && !!$ctrl.isEnemy(row)\\\">\\n                            {{ row[stats.name] }}\\n                        </div>\\n\\n                        <div ng-if=\\\"!!stats.editableForEnemy || !$ctrl.isEnemy(row)\\\">\\n                            <input required type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row[stats.name]\\\" ng-change=\\\"$ctrl.save()\\\">\\n                            <div class=\\\"error\\\" ng-show=\\\"!row[stats.name]\\\">\\n                                {{ 'Please fill a value' | translate }}\\n                            </div>\\n                        </div>\\n                    </td>\\n\\n                    <td></td>\\n\\n                    <td>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                aria-label=\\\"{{ 'Remove enemy' | translate }} {{ row.name | translate }}\\\"\\n                                title=\\\"{{ 'Remove enemy' | translate }} '{{ row.name | translate }}'\\\"\\n                                ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                ng-show=\\\"$ctrl.isEnemy(row)\\\">\\n                            <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </td>\\n                </tr>\\n                </tbody>\\n            </table>\\n        </form>\\n\\n        <dices></dices>\\n        <back-button></back-button>\\n\\n        <popup config=\\\"{{ $ctrl.popupDeleteEnemyConfig }}\\\"></popup>\\n</main>\"\n\n/***/ },\n/* 84 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar BattleController = (function () {\n\t    /*@ngInject*/\n\n\t    BattleController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$window\", \"popupService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"$stateParams\"];\n\t    function BattleController(preScreenLoadingInterceptorsCallerService, $window, popupService, constants, gamePersistenceService, adventurePersistenceService, $stateParams) {\n\t        _classCallCheck(this, BattleController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$window = $window;\n\t        this.popupService = popupService;\n\t        this.constants = constants;\n\t        this.$stateParams = $stateParams;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\n\t        this.popupDeleteEnemyConfig = {\n\t            id: 'popupDeleteEnemy',\n\t            text: 'Are you sure to remove the enemy?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(BattleController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            if (!!this.$stateParams.game) {\n\t                this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.game));\n\t                this.adventure = this.adventurePersistenceService.getAdventure(this.game.adventureId);\n\t            }\n\n\t            this.initStatsData();\n\t            this.initPlayerStats();\n\t            this.defaultEnemy = this.initDefaultEnemy();\n\t            this.addEnemy();\n\t        }\n\t    }, {\n\t        key: 'initStatsData',\n\t        value: function initStatsData() {\n\t            if (!!this.game && !!this.adventure) {\n\t                this.stats = [];\n\t                for (var i = 0; i < this.adventure.stats.length; i++) {\n\t                    var currentStats = this.adventure.stats[i];\n\t                    if (!!currentStats.battle && !!currentStats.battle.displayed) {\n\t                        this.stats.push({ name: currentStats.name, enemyDefaultValue: currentStats.battle.enemyDefaultValue, editableForEnemy: currentStats.battle.editableForEnemy });\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'initPlayerStats',\n\t        value: function initPlayerStats() {\n\t            if (!!this.stats) {\n\t                this.statsPlayer = { name: this.game.playerName };\n\n\t                for (var i = 0; i < this.stats.length; i++) {\n\t                    var currentStats = this.stats[i];\n\t                    for (var j = 0; j < this.game.stats.length; j++) {\n\t                        var currentGameStats = this.game.stats[j];\n\t                        if (currentStats.name === currentGameStats.name) {\n\t                            this.statsPlayer[currentStats.name] = currentGameStats.current;\n\t                            break;\n\t                        }\n\t                    }\n\t                }\n\t                this.rows = [this.statsPlayer];\n\t            }\n\t        }\n\t    }, {\n\t        key: 'initDefaultEnemy',\n\t        value: function initDefaultEnemy() {\n\t            var defaultEnemyName = 'Enemy';\n\t            if (!!this.adventure.defaultEnemyName) {\n\t                defaultEnemyName = this.adventure.defaultEnemyName;\n\t            }\n\n\t            var statsDefaultEnemy = { name: defaultEnemyName };\n\n\t            for (var i = 0; i < this.stats.length; i++) {\n\t                var currentStats = this.stats[i];\n\t                statsDefaultEnemy[currentStats.name] = currentStats.enemyDefaultValue;\n\t            }\n\n\t            return statsDefaultEnemy;\n\t        }\n\t    }, {\n\t        key: 'addEnemy',\n\t        value: function addEnemy() {\n\t            this.rows.push(JSON.parse(JSON.stringify(this.defaultEnemy)));\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save() {\n\t            for (var i = 0; i < this.game.stats.length; i++) {\n\t                var currentStats = this.game.stats[i];\n\t                currentStats.current = this.statsPlayer[currentStats.name];\n\t            }\n\t            this.gamePersistenceService.updateGame(this.game);\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteEnemyConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.rows.indexOf(removedRow);\n\t            this.rows.splice(index, 1);\n\t        }\n\t    }, {\n\t        key: 'isEnemy',\n\t        value: function isEnemy(row) {\n\t            return this.rows.indexOf(row) !== 0;\n\t        }\n\t    }, {\n\t        key: 'lastColumnSizeInPercent',\n\t        value: function lastColumnSizeInPercent() {\n\t            var lastColumnSizeInPercent = 75;\n\t            if (!!this.stats) {\n\t                lastColumnSizeInPercent = lastColumnSizeInPercent - this.stats.length * 10;\n\t            }\n\t            return lastColumnSizeInPercent;\n\t        }\n\t    }, {\n\t        key: 'back',\n\t        value: function back() {\n\t            this.$window.history.back();\n\t        }\n\t    }]);\n\n\t    return BattleController;\n\t})();\n\n\texports['default'] = BattleController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 85 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _administrationHtml = __webpack_require__(86);\n\n\tvar _administrationHtml2 = _interopRequireDefault(_administrationHtml);\n\n\tvar _administrationController = __webpack_require__(87);\n\n\tvar _administrationController2 = _interopRequireDefault(_administrationController);\n\n\tvar administrationModule = _angular2['default'].module('app.components.gui.screen.administration', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('administration', {\n\t        url: constants.url.administration, template: '<administration></administration>'\n\t    });\n\t}]).component('administration', { template: _administrationHtml2['default'], controller: _administrationController2['default'] });\n\n\texports['default'] = administrationModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 86 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ 'Administration' | translate }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form>\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"usedLocalStorageInPercent\\\">{{ \\\"Used Local's Storage in Percent\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"usedLocalStorageInPercent\\\" value=\\\"{{ $ctrl.usedLocalStorageInPercent | number : 2}}%\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"usedLocalStorage\\\">{{ \\\"Used Local's Storage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"usedLocalStorage\\\" value=\\\"{{$ctrl.usedLocalStorage / 1024 | number : 2 }}kb\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"remainingCapacity\\\">{{ \\\"Remaining Local's Storage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"remainingCapacity\\\" value=\\\"{{$ctrl.remainingCapacity / 1024 | number : 2 }}kb\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"applicationData\\\">{{ \\\"Application's data\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"applicationData\\\" ng-model=\\\"$ctrl.applicationData\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"importData\\\">{{ \\\"Paste the application's data copied from another browser\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.importData\\\" id=\\\"importData\\\" placeholder=\\\"{{ 'Imported data' | translate }}\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <button class=\\\"btn btn-danger\\\" ng-click=\\\"$ctrl.showPopupConfirmImportData()\\\" aria-label=\\\"{{ 'Import' | translate }}\\\">{{ 'Import' | translate }}</button>\\n                    </div>\\n                </div>\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <button class=\\\"btn btn-danger\\\" ng-click=\\\"$ctrl.showPopupConfirmDeleteApplicationData()\\\" aria-label=\\\"{{ 'Delete application\\\\'s data' | translate }}\\\">{{ \\\"Delete application's data\\\" | translate }}</button>\\n                    </div>\\n                </div>\\n            </form>\\n\\n            <popup config=\\\"{{ $ctrl.popupConfirmImportApplicationDataConfig }}\\\"></popup>\\n            <popup config=\\\"{{ $ctrl.popupConfirmDeleteApplicationDataConfig }}\\\"></popup>\\n        </div>\\n        <back-button></back-button>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 87 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdministrationController = (function () {\n\t    /*@ngInject*/\n\n\t    AdministrationController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"persistenceService\", \"adventurePersistenceService\", \"constants\", \"popupService\", \"$window\"];\n\t    function AdministrationController(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, constants, popupService, $window) {\n\t        _classCallCheck(this, AdministrationController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.persistenceService = persistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.constants = constants;\n\t        this.popupService = popupService;\n\t        this.initData();\n\t        this.$window = $window;\n\n\t        this.popupConfirmImportApplicationDataConfig = {\n\t            id: 'popupConfirmImportApplicationData',\n\t            text: \"All existing application's data will be erased during the import. Are you sure to import the application data?\",\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupConfirmDeleteApplicationDataConfig = {\n\t            id: 'popupConfirmDeleteApplicationData',\n\t            text: 'Are you sure to clear the application data?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\t    }\n\n\t    _createClass(AdministrationController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            this.applicationData = this.persistenceService['export']();\n\t            this.computeLocalStorageCapacities();\n\t        }\n\t    }, {\n\t        key: 'computeLocalStorageCapacities',\n\t        value: function computeLocalStorageCapacities() {\n\t            this.usedLocalStorage = this.persistenceService.getUsedCapacity();\n\t            this.remainingCapacity = this.persistenceService.getRemainingCapacity();\n\t            this.usedLocalStorageInPercent = this.persistenceService.getUsedCapacityInPercent();\n\t        }\n\t    }, {\n\t        key: 'showPopupConfirmImportData',\n\t        value: function showPopupConfirmImportData() {\n\t            var self = this;\n\t            this.popupService.show(this.popupConfirmImportApplicationDataConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.persistenceService['import'](self.importData);\n\t                    self.$window.location.reload();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'showPopupConfirmDeleteApplicationData',\n\t        value: function showPopupConfirmDeleteApplicationData() {\n\t            var self = this;\n\t            this.popupService.show(this.popupConfirmDeleteApplicationDataConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.persistenceService.cleanAllData();\n\t                    self.$window.location.reload();\n\t                }\n\t            });\n\t        }\n\t    }]);\n\n\t    return AdministrationController;\n\t})();\n\n\texports['default'] = AdministrationController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _chooseLanguageHtml = __webpack_require__(89);\n\n\tvar _chooseLanguageHtml2 = _interopRequireDefault(_chooseLanguageHtml);\n\n\tvar _chooseLanguageController = __webpack_require__(90);\n\n\tvar _chooseLanguageController2 = _interopRequireDefault(_chooseLanguageController);\n\n\tvar chooseLanguageModule = _angular2['default'].module('app.components.gui.screen.choose-language', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('choose-language', {\n\t        url: constants.url.chooseLanguage, template: '<choose-language></choose-language>'\n\t    });\n\t}]).component('chooseLanguage', { template: _chooseLanguageHtml2['default'], controller: _chooseLanguageController2['default'] });\n\n\texports['default'] = chooseLanguageModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 89 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Gamebooks Companion' | translate }}</h1>\\n        </div>\\n        <language-picker></language-picker>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.goForward()\\\">{{ 'Continue' | translate }}</button>\\n    </div>\\n</main>\\n\"\n\n/***/ },\n/* 90 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar ChooseLanguageController = (function () {\n\t    /*@ngInject*/\n\n\t    ChooseLanguageController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"$location\", \"constants\"];\n\t    function ChooseLanguageController(preScreenLoadingInterceptorsCallerService, $location, constants) {\n\t        _classCallCheck(this, ChooseLanguageController);\n\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t    }\n\n\t    _createClass(ChooseLanguageController, [{\n\t        key: \"goForward\",\n\t        value: function goForward() {\n\t            this.$location.url(this.constants.url.games);\n\t        }\n\t    }]);\n\n\t    return ChooseLanguageController;\n\t})();\n\n\texports[\"default\"] = ChooseLanguageController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _aboutHtml = __webpack_require__(92);\n\n\tvar _aboutHtml2 = _interopRequireDefault(_aboutHtml);\n\n\tvar _aboutController = __webpack_require__(93);\n\n\tvar _aboutController2 = _interopRequireDefault(_aboutController);\n\n\tvar aboutModule = _angular2['default'].module('app.components.gui.screen.about', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('about', {\n\t        url: constants.url.about, template: '<about></about>'\n\t    });\n\t}]).component('about', { template: _aboutHtml2['default'], controller: _aboutController2['default'] });\n\n\texports['default'] = aboutModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 92 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\" uib-collapse=\\\"false\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'About' | translate }}</h1>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"appDescription\\\">{{ \\\"Application's description\\\" | translate }}</label>\\n            <div id=\\\"appDescription\\\">{{ 'application.description' | translate }}</div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"appVersion\\\">{{ \\\"Application's version\\\" | translate }}</label>\\n            <div id=\\\"appVersion\\\">{{ $ctrl.appVersion }}</div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"license\\\">{{ \\\"License\\\" | translate }}</label>\\n            <pre id=\\\"license\\\" ng-include src=\\\"'LICENSE.txt'\\\"></pre>\\n        </div>\\n\\n\\n        <h2>{{ 'Credits' | translate }}</h2>\\n\\n        <table class=\\\"table table-striped\\\">\\n            <col style=\\\"width:30%\\\">\\n            <col style=\\\"width:30%\\\">\\n            <col style=\\\"width:40%\\\">\\n            <thead>\\n            <tr>\\n                <th>{{ 'Who' | translate }}</th>\\n                <th>{{ 'For' | translate }}</th>\\n                <th>{{ 'Link' | translate }}</th>\\n            </tr>\\n            </thead>\\n            <tbody>\\n            <tr>\\n                <td>Ravenmore</td>\\n                <td>\\n                    {{ 'map image used as favicon' | translate }}\\n                    <ng-include src=\\\"'map-image.html'\\\"></ng-include>\\n                </td>\\n                <td><a href=\\\"//opengameart.org/content/fantasy-icon-pack-by-ravenmore-0\\\">opengameart.org Ravenmore page</a></td>\\n            </tr>\\n            <tr>\\n                <td>JamesWhite</td>\\n                <td>\\n                    {{ 'dice image' | translate }}\\n                    <ng-include src=\\\"'dice-image.html'\\\"></ng-include>\\n                </td>\\n                <td>\\n                    <a href=\\\"http://opengameart.org/content/dice-4\\\">opengameart.org JamesWhite page</a>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td>SBB (Schweizerische Bundesbahnen)</td>\\n                <td>{{ 'Web/JS Framework' | translate }}</td>\\n                <td><a href=\\\"https://github.com/SchweizerischeBundesbahnen/esta-webjs\\\">esta-webjs project github page</a></td>\\n            </tr>\\n            <tr>\\n                <td>{{ 'Developers and contributors' | translate }}</td>\\n                <td>{{ 'Angular JS, Bootstrap, Webpack and all existing tools that make javascript development fun to code' | translate }}</td>\\n                <td></td>\\n            </tr>\\n            </tbody>\\n        </table>\\n\\n        <back-button></back-button>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 93 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar AboutController =\n\t/*@ngInject*/\n\t[\"preScreenLoadingInterceptorsCallerService\", \"constants\", function AboutController(preScreenLoadingInterceptorsCallerService, constants) {\n\t    _classCallCheck(this, AboutController);\n\n\t    preScreenLoadingInterceptorsCallerService.intercept();\n\t    this.appVersion = constants.version;\n\t}];\n\n\texports[\"default\"] = AboutController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _listAdventuresList = __webpack_require__(95);\n\n\tvar _listAdventuresList2 = _interopRequireDefault(_listAdventuresList);\n\n\tvar _detailAdventureDetail = __webpack_require__(98);\n\n\tvar _detailAdventureDetail2 = _interopRequireDefault(_detailAdventureDetail);\n\n\tvar adventuresModule = _angular2['default'].module('app.components.gui.screens.adventures', [_listAdventuresList2['default'].name, _detailAdventureDetail2['default'].name]);\n\n\texports['default'] = adventuresModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _adventuresListHtml = __webpack_require__(96);\n\n\tvar _adventuresListHtml2 = _interopRequireDefault(_adventuresListHtml);\n\n\tvar _adventuresListController = __webpack_require__(97);\n\n\tvar _adventuresListController2 = _interopRequireDefault(_adventuresListController);\n\n\tvar adventuresListModule = _angular2['default'].module('app.components.gui.screen.adventures.list', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('adventuresList', {\n\t        url: constants.url.adventures, template: '<adventures-list></adventures-list>'\n\t    });\n\t}]).component('adventuresList', { template: _adventuresListHtml2['default'], controller: _adventuresListController2['default'] });\n\n\texports['default'] = adventuresListModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 96 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Adventures' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:5% \\\">\\n                    <col style=\\\"width:10% \\\">\\n                    <col style=\\\"width:5% \\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Title' | translate }}</th>\\n                        <th>{{ 'Serie' | translate }}</th>\\n                        <th>{{ 'Author(s)' | translate }}</th>\\n                        <th>{{ 'Length' | translate }}</th>\\n                        <th>{{ 'Language' | translate }}</th>\\n                        <th>{{ 'Version' | translate }}</th>\\n                        <th>{{ 'Download status' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td>{{ row.name }}</td>\\n                        <td>{{ row.serie }}</td>\\n                        <td>{{ row.authors }}</td>\\n                        <td aria-label=\\\"{{ 'NumberOfParagraphs' | translate: {numberOfParagraphs: row.numberOfParagraphs} }}\\\"\\n                            title=\\\"{{ 'NumberOfParagraphs' | translate: {numberOfParagraphs: row.numberOfParagraphs} }}\\\">\\n                            {{ row.numberOfParagraphs + (!!row.numberOfParagraphs ? '§' : '') }}\\n                        </td>\\n                        <td>{{ row.language | translate }}</td>\\n                        <td>{{ row.version }}</td>\\n                        <td>{{ row.downloadStatus | translate }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceAdventure' | translate: {adventureName: row.name}) :\\n                                        ('ChoosenAdventure' | translate: {adventureName: row.name}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceAdventure' | translate: {adventureName: row.name}) :\\n                                        ('ChoosenAdventure' | translate: {adventureName: row.name}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Create an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Create an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.create()\\\">{{ 'Create' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportAdventurePopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Display selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Display selected adventure' | translate }}\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.display()\\\">{{ 'Display' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                aria-label=\\\"{{ 'Remove selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Remove selected adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayRemoveAdventurePopup()\\\">{{ 'Remove' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                aria-label=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayExportAdventurePopup()\\\">{{ 'Export' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.isSelectedRowDownloadable()\\\"\\n                aria-label=\\\"{{ 'Download selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Download selected adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.downloadAdventure()\\\">{{ 'Download' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteAdventureConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportAdventureConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportAdventureConfig\\\"></import-data-popup>\\n\"\n\n/***/ },\n/* 97 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdventuresListController = (function () {\n\t    /*@ngInject*/\n\n\t    AdventuresListController.$inject = [\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"messagesService\", \"$translate\", \"popupService\", \"exportDataPopupService\", \"importDataPopupService\"];\n\t    function AdventuresListController($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n\t        _classCallCheck(this, AdventuresListController);\n\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.popupService = popupService;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.importDataPopupService = importDataPopupService;\n\n\t        this.popupDeleteAdventureConfig = {\n\t            id: 'popupDeleteAdventure',\n\t            text: 'Are you sure to remove the selected adventure?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupExportAdventureConfig = { id: 'popupExportAdventure' };\n\t        this.popupImportAdventureConfig = { id: 'popupImportAdventure' };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(AdventuresListController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            this.rows = this.adventurePersistenceService.getAdventuresOverview();\n\t            this.clearSelection();\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                if (!!this.rows[i].downloadHistory) {\n\t                    this.rows[i].downloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length - 1];\n\t                } else {\n\t                    if (!!this.rows[i].downloadUrl) {\n\t                        this.rows[i].downloadStatus = 'Downloadable';\n\t                    } else {\n\t                        this.rows[i].downloadStatus = 'N/A';\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(row) {\n\t            this.clearSelection();\n\t            row.selected = true;\n\t        }\n\t    }, {\n\t        key: 'clearSelection',\n\t        value: function clearSelection() {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                this.rows[i].selected = false;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'create',\n\t        value: function create() {\n\t            this.$location.url(this.constants.url.adventureDetail + '/create');\n\t        }\n\t    }, {\n\t        key: 'display',\n\t        value: function display() {\n\t            this.$location.url(this.constants.url.adventureDetail + '/' + this.getSelectedRow().id);\n\t        }\n\t    }, {\n\t        key: 'displayRemoveAdventurePopup',\n\t        value: function displayRemoveAdventurePopup() {\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteAdventureConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.deleteAdventure();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'deleteAdventure',\n\t        value: function deleteAdventure() {\n\t            this.adventurePersistenceService.deleteAdventureAndParagraphs(this.getSelectedRow().id);\n\t            this.initData();\n\t        }\n\t    }, {\n\t        key: 'displayExportAdventurePopup',\n\t        value: function displayExportAdventurePopup() {\n\t            var self = this;\n\t            this.popupExportAdventureConfig.exportData = JSON.stringify(this.adventurePersistenceService.exportAdventure(this.getSelectedRow().id));\n\t            this.popupExportAdventureConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportAdventureConfig.exportData);\n\t            this.popupExportAdventureConfig.exportTitle = this.$translate.instant('ExportAdventure', { adventureName: this.getSelectedRow().name });\n\t            this.exportDataPopupService.show(this.popupExportAdventureConfig.id);\n\t        }\n\t    }, {\n\t        key: 'displayImportAdventurePopup',\n\t        value: function displayImportAdventurePopup() {\n\t            var self = this;\n\t            this.popupImportAdventureConfig.title = this.$translate.instant('Import an adventure');\n\t            this.importDataPopupService.show(this.popupImportAdventureConfig.id, function (popupDomElementId, data) {\n\t                self.adventurePersistenceService.importAdventure(data);\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'downloadAdventure',\n\t        value: function downloadAdventure() {\n\t            var self = this;\n\t            var promise = this.adventurePersistenceService.downloadAdventure(this.getSelectedRow());\n\t            promise.then(function (json) {\n\t                self.initData();\n\t            }, function (reason) {\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'hasSelectedRow',\n\t        value: function hasSelectedRow() {\n\t            return !!this.getSelectedRow();\n\t        }\n\t    }, {\n\t        key: 'isSelectedRowDownloadable',\n\t        value: function isSelectedRowDownloadable() {\n\t            var selectedRow = this.getSelectedRow();\n\t            return !!selectedRow && !!selectedRow.downloadUrl;\n\t        }\n\t    }, {\n\t        key: 'getSelectedRow',\n\t        value: function getSelectedRow() {\n\t            if (!!this.rows) {\n\t                for (var i = 0; i < this.rows.length; i++) {\n\t                    if (!!this.rows[i].selected) {\n\t                        return this.rows[i];\n\t                    }\n\t                }\n\t            }\n\t            return null;\n\t        }\n\t    }]);\n\n\t    return AdventuresListController;\n\t})();\n\n\texports['default'] = AdventuresListController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 98 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _adventureDetailHtml = __webpack_require__(99);\n\n\tvar _adventureDetailHtml2 = _interopRequireDefault(_adventureDetailHtml);\n\n\tvar _adventureDetailController = __webpack_require__(100);\n\n\tvar _adventureDetailController2 = _interopRequireDefault(_adventureDetailController);\n\n\tvar adventureDetailModule = _angular2['default'].module('app.components.gui.screen.adventures.detail', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('adventure-detail', {\n\t        url: constants.url.adventureDetail + '/{adventureId}', template: '<adventure-detail></adventure-detail>'\n\t    });\n\t}]).component('adventureDetail', { template: _adventureDetailHtml2['default'], controller: _adventureDetailController2['default'] });\n\n\texports['default'] = adventureDetailModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 99 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ $ctrl.adventure.name }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"adventureTableForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <h3>{{ 'General' | translate }}</h3>\\n                <div>\\n                    <div class=\\\"form-group\\\" ng-if=\\\"!$ctrl.adventure.id\\\">\\n                        <label for=\\\"name\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\" ng-model=\\\"$ctrl.adventure.name\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"serie\\\">{{ \\\"Serie\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"serie\\\" ng-model=\\\"$ctrl.adventure.serie\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"authors\\\">{{ \\\"Author(s)\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"authors\\\" ng-model=\\\"$ctrl.adventure.authors\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"description\\\">{{ \\\"Description\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"description\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.description\\\"></div>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"version\\\">{{ \\\"Version\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"version\\\" ng-model=\\\"$ctrl.adventure.version\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"language\\\">{{ \\\"Language\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"language\\\" ng-model=\\\"$ctrl.adventure.language\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"homepage\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"homepage\\\" ng-model=\\\"$ctrl.adventure.homepage\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"isbn\\\">{{ \\\"ISBN\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"isbn\\\" ng-model=\\\"$ctrl.adventure.isbn\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"numberOfParagraphs\\\">{{ \\\"Number of paragraphs\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"numberOfParagraphs\\\" ng-model=\\\"$ctrl.adventure.numberOfParagraphs\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startParagraphNr\\\">{{ \\\"First paragraph\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"startParagraphNr\\\" ng-model=\\\"$ctrl.adventure.startParagraphNr\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startGameNote\\\">{{ \\\"Start game's note\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"startGameNote\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.startGameNote\\\"></div>\\n                    </div>\\n                </div>\\n\\n                <h3>{{ 'Stats rules' | translate }}</h3>\\n                <div>\\n                    <table class=\\\"table table-striped\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <col style=\\\"width:30%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <thead>\\n                        <tr>\\n                            <th>\\n                                {{ 'Name' | translate }}\\n                            </th>\\n                            <th>\\n                                {{ 'Player stats value generation' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is this stats displayed in battle?' | translate }}\\\"\\n                                title=\\\"{{ 'Is this stat displayed in battle?' | translate }}\\\">\\n                                {{ 'For battle?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is it a enemy stats?' | translate }}\\\"\\n                                title=\\\"{{ 'Is it a enemy stats?' | translate }}\\\">\\n                                {{ 'For enemy?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\"\\n                                title=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\">\\n                                {{ 'Default enemy value' | translate }}\\n                            </th>\\n                            <th></th>\\n                            <th></th>\\n                            <th>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.addRow()\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </th>\\n                        </tr>\\n                        </thead>\\n                        <tbody>\\n\\n                        <tr ng-repeat=\\\"row in $ctrl.adventure.stats\\\">\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.name }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                                    {{ 'Please fill the name of the stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.init.sixDiceQuantity + 'd6' + (!!row.init.constant ? '+' + row.init.constant : '')   }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"sixDiceQuantity\\\">{{ \\\"Quantity of dices 6 faces\\\" | translate }}</label>\\n                                    <input required id=\\\"sixDiceQuantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.sixDiceQuantity\\\">\\n                                </div>\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"constant\\\">{{ \\\"Constant\\\" | translate }}</label>\\n                                    <input id=\\\"constant\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.constant\\\">\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.init.sixDiceQuantity\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill the quantity of dices 6 faces used to generate a value for this stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.displayed | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.displayed\\\" id=\\\"displayed\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.editableForEnemy | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.editableForEnemy\\\" id=\\\"editableForEnemy\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.battle.enemyDefaultValue }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input id=\\\"enemyDefaultValue\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.enemyDefaultValue\\\" ng-required=\\\"!!row.battle.editableForEnemy\\\" >\\n                                <div class=\\\"error\\\" ng-show=\\\"!!row.battle.editableForEnemy && !row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill a default value of this stats for enemies' | translate }}\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.battle.editableForEnemy && !!row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please do not fill a default value as this stats is not available for enemies' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                                        aria-label=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.saveRowChanges(adventureTableForm.$invalid, row)\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        title=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n                        </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n\\n                <h3>{{ 'Initial items' | translate }}</h3>\\n                <div>\\n                    <items items=\\\"$ctrl.adventure.items\\\"></items>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(adventureTableForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteStatsConfig }}\\\"></popup>\\n\"\n\n/***/ },\n/* 100 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdventureDetailController = (function () {\n\t    /*@ngInject*/\n\n\t    AdventureDetailController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"persistenceService\", \"adventurePersistenceService\", \"$stateParams\", \"$location\", \"constants\", \"popupService\", \"messagesService\", \"$timeout\", \"$window\", \"formHelperService\"];\n\t    function AdventureDetailController(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, $stateParams, $location, constants, popupService, messagesService, $timeout, $window, formHelperService) {\n\t        _classCallCheck(this, AdventureDetailController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.persistenceService = persistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.$stateParams = $stateParams;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.popupService = popupService;\n\t        this.messagesService = messagesService;\n\t        this.$timeout = $timeout;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\t        this.initData();\n\n\t        this.popupDeleteStatsConfig = {\n\t            id: 'popupDeleteStats',\n\t            text: 'Are you sure to remove the status?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(AdventureDetailController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            var adventureId = encodeURIComponent(this.$stateParams.adventureId);\n\t            if (!!adventureId) {\n\t                if (\"create\" === adventureId) {\n\t                    this.adventure = {\n\t                        stats: [],\n\t                        items: []\n\t                    };\n\t                    this.mode = \"create\";\n\t                } else {\n\t                    this.adventure = this.adventurePersistenceService.getAdventure(adventureId);\n\t                    this.mode = \"edit\";\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setInitialFocus',\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = undefined;\n\t                if (that.mode === \"create\") {\n\t                    element = that.$window.document.getElementById(\"name\");\n\t                } else {\n\t                    element = that.$window.document.getElementById(\"authors\");\n\t                }\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'save',\n\t        value: function save(form) {\n\t            this.formHelperService.setErrorFieldsAsDirty(form, true);\n\t            if (form.$invalid) {\n\t                return;\n\t            }\n\n\t            if (!!this.adventure.items) {\n\t                var modifiedItems = [];\n\t                for (var i = 0; i < this.adventure.items.length; i++) {\n\t                    modifiedItems.push({\n\t                        quantity: this.adventure.items[i].quantity,\n\t                        description: this.adventure.items[i].description\n\t                    });\n\t                }\n\t                this.adventure.items = modifiedItems;\n\t            }\n\t            try {\n\t                this.adventurePersistenceService.updateAdventureWithoutParagraphs(this.adventure);\n\t                this.$location.url(this.constants.url.adventures);\n\t            } catch (error) {\n\t                this.messagesService.errorMessage(error, false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'addRow',\n\t        value: function addRow() {\n\t            var stats = { init: {}, battle: { displayed: true, editableForEnemy: false } };\n\t            this.adventure.stats.push(stats);\n\t            this.addedRow = stats;\n\t        }\n\t    }, {\n\t        key: 'displayRemovePopup',\n\t        value: function displayRemovePopup(removedRow) {\n\t            this.rowToBeRemoved = removedRow;\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteStatsConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.removeRow(self.rowToBeRemoved);\n\t                }\n\t                self.rowToBeRemoved = null;\n\t            });\n\t        }\n\t    }, {\n\t        key: 'removeRow',\n\t        value: function removeRow(removedRow) {\n\t            var index = this.adventure.stats.indexOf(removedRow);\n\t            this.adventure.stats.splice(index, 1);\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'editRow',\n\t        value: function editRow(row) {\n\t            this.editedRow = row;\n\t            this.originalRow = {\n\t                name: row.name,\n\t                init: {\n\t                    sixDiceQuantity: row.init.sixDiceQuantity,\n\t                    constants: row.init.constant\n\t                },\n\t                battle: {\n\t                    displayed: row.battle.displayed,\n\t                    enemyDefaultValue: row.battle.enemyDefaultValue,\n\t                    editableForEnemy: row.battle.editableForEnemy\n\t                }\n\t            };\n\t        }\n\t    }, {\n\t        key: 'isRowEdited',\n\t        value: function isRowEdited(row) {\n\t            return row === this.editedRow || row === this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'hasEditedRow',\n\t        value: function hasEditedRow() {\n\t            return !!this.editedRow || !!this.addedRow;\n\t        }\n\t    }, {\n\t        key: 'getEditRow',\n\t        value: function getEditRow() {\n\t            if (!!this.addedRow) {\n\t                return this.addedRow;\n\t            } else if (!!this.editedRow) {\n\t                return this.editedRow;\n\t            } else {\n\t                return null;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'saveRowChanges',\n\t        value: function saveRowChanges($invalid) {\n\t            if (!this.getEditRow().name) {\n\t                return;\n\t            }\n\t            if (!this.getEditRow().init.sixDiceQuantity) {\n\t                return;\n\t            }\n\t            if (!this.getEditRow().battle.editableForEnemy && !!this.getEditRow().battle.enemyDefaultValue) {\n\t                return;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'abortRowChanges',\n\t        value: function abortRowChanges() {\n\t            if (!!this.addedRow) {\n\t                this.removeRow(this.addedRow);\n\t            }\n\t            if (!!this.editedRow) {\n\t                this.editedRow.name = this.originalRow.name;\n\t                this.editedRow.init = this.originalRow.init;\n\t                this.editedRow.battle = this.originalRow.battle;\n\t            }\n\t            this.clearEditedRow();\n\t        }\n\t    }, {\n\t        key: 'clearEditedRow',\n\t        value: function clearEditedRow() {\n\t            this.addedRow = null;\n\t            this.editedRow = null;\n\t            this.originalRow = null;\n\t        }\n\t    }]);\n\n\t    return AdventureDetailController;\n\t})();\n\n\texports['default'] = AdventureDetailController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 101 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _listLibrariesList = __webpack_require__(102);\n\n\tvar _listLibrariesList2 = _interopRequireDefault(_listLibrariesList);\n\n\tvar _detailLibraryDetail = __webpack_require__(105);\n\n\tvar _detailLibraryDetail2 = _interopRequireDefault(_detailLibraryDetail);\n\n\tvar librariesModule = _angular2['default'].module('app.components.gui.screens.libraries', [_listLibrariesList2['default'].name, _detailLibraryDetail2['default'].name]);\n\n\texports['default'] = librariesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 102 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _librariesListHtml = __webpack_require__(103);\n\n\tvar _librariesListHtml2 = _interopRequireDefault(_librariesListHtml);\n\n\tvar _librariesListController = __webpack_require__(104);\n\n\tvar _librariesListController2 = _interopRequireDefault(_librariesListController);\n\n\tvar librariesListModule = _angular2['default'].module('app.components.gui.screen.libraries.list', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('librariesList', {\n\t        url: constants.url.libraries, template: '<libraries-list></libraries-list>'\n\t    });\n\t}]).component('librariesList', { template: _librariesListHtml2['default'], controller: _librariesListController2['default'] });\n\n\texports['default'] = librariesListModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 103 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Libraries' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:55%\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Site' | translate }}</th>\\n                        <th>{{ 'Library url' | translate }}</th>\\n                        <th>{{ 'Download Status' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td ng-if=\\\"!!row.siteUrl\\\"><a href=\\\"{{ row.siteUrl }}\\\">{{ row.siteName }}</a></td>\\n                        <td ng-if=\\\"!row.siteUrl\\\">{{ row.siteName }}</td>\\n                        <td><a href=\\\"{{ row.libraryUrl }}\\\" target=\\\"_blank\\\">{{ 'Detail' | translate }}</a></td>\\n                        <td>{{ row.lastDownloadStatus }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceLibrary' | translate: {siteName: row.siteName}) :\\n                                        ('ChoosenLibrary' | translate: {siteName: row.siteName}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceLibrary' | translate: {siteName: row.siteName}) :\\n                                        ('ChoosenLibrary' | translate: {siteName: row.siteName}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Create a library' | translate }}\\\"\\n                title=\\\"{{ 'Create a library' | translate }}\\\"\\n                ng-click=\\\"$ctrl.create()\\\">{{ 'Create' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import libraries' | translate }}\\\"\\n                title=\\\"{{ 'Import libraries' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportLibrariesPopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Display selected library' | translate }}\\\"\\n                title=\\\"{{ 'Display selected library' | translate }}\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.display()\\\">{{ 'Display' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                aria-label=\\\"{{ 'Remove selected library' | translate }}\\\"\\n                title=\\\"{{ 'Remove selected library' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayRemoveLibraryPopup()\\\">{{ 'Remove' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Export libraries' | translate }}\\\"\\n                title=\\\"{{ 'Export libraries' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayExportLibrariesPopup()\\\">{{ 'Export' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Download libraries' | translate }}\\\"\\n                title=\\\"{{ 'Download libraries' | translate }}\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.downloadLibrary()\\\">{{ 'Download' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteLibraryConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportLibrariesConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportLibrariesConfig\\\"></import-data-popup>\\n\"\n\n/***/ },\n/* 104 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar LibrariesListController = (function () {\n\t    /*@ngInject*/\n\n\t    LibrariesListController.$inject = [\"$location\", \"preScreenLoadingInterceptorsCallerService\", \"constants\", \"gamePersistenceService\", \"adventurePersistenceService\", \"messagesService\", \"$translate\", \"popupService\", \"exportDataPopupService\", \"importDataPopupService\", \"libraryPersistenceService\"];\n\t    function LibrariesListController($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService, libraryPersistenceService) {\n\t        _classCallCheck(this, LibrariesListController);\n\n\t        this.constants = constants;\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.$location = $location;\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.libraryPersistenceService = libraryPersistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.popupService = popupService;\n\t        this.exportDataPopupService = exportDataPopupService;\n\t        this.importDataPopupService = importDataPopupService;\n\n\t        this.popupDeleteLibraryConfig = {\n\t            id: 'popupDeleteLibrary',\n\t            text: 'Are you sure to remove the selected library?',\n\t            choices: [constants.choices.yes, constants.choices.no],\n\t            withCloseButton: false,\n\t            closeOnClickOutsideModal: false\n\t        };\n\n\t        this.popupExportLibrariesConfig = { id: 'popupExportLibraries' };\n\t        this.popupImportLibrariesConfig = { id: 'popupImportLibraries' };\n\n\t        this.initData();\n\t    }\n\n\t    _createClass(LibrariesListController, [{\n\t        key: 'initData',\n\t        value: function initData() {\n\t            this.rows = this.libraryPersistenceService.getLibraries();\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                if (!!this.rows[i].downloadHistory) {\n\t                    this.rows[i].lastDownloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length - 1];\n\t                }\n\t            }\n\t            this.clearSelection();\n\t        }\n\t    }, {\n\t        key: 'select',\n\t        value: function select(row) {\n\t            this.clearSelection();\n\t            row.selected = true;\n\t        }\n\t    }, {\n\t        key: 'clearSelection',\n\t        value: function clearSelection() {\n\t            for (var i = 0; i < this.rows.length; i++) {\n\t                this.rows[i].selected = false;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'create',\n\t        value: function create() {\n\t            this.$location.url(this.constants.url.libraryDetail + '/create');\n\t        }\n\t    }, {\n\t        key: 'display',\n\t        value: function display() {\n\t            this.$location.url(this.constants.url.libraryDetail + '/' + this.getSelectedRow().id);\n\t        }\n\t    }, {\n\t        key: 'displayRemoveLibraryPopup',\n\t        value: function displayRemoveLibraryPopup() {\n\t            var self = this;\n\t            this.popupService.show(this.popupDeleteLibraryConfig.id, function (popupDomElementId, choice) {\n\t                if (choice === self.constants.choices.yes) {\n\t                    self.deleteLibrary();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'deleteLibrary',\n\t        value: function deleteLibrary() {\n\t            this.libraryPersistenceService.deleteLibrary(this.getSelectedRow().id);\n\t            this.initData();\n\t        }\n\t    }, {\n\t        key: 'displayExportLibrariesPopup',\n\t        value: function displayExportLibrariesPopup() {\n\t            var self = this;\n\t            this.popupExportLibrariesConfig.exportData = this.libraryPersistenceService.exportLibraries();\n\t            this.popupExportLibrariesConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportLibrariesConfig.exportData);\n\t            this.popupExportLibrariesConfig.exportTitle = this.$translate.instant('Export libraries');\n\t            this.exportDataPopupService.show(this.popupExportLibrariesConfig.id);\n\t        }\n\t    }, {\n\t        key: 'displayImportLibrariesPopup',\n\t        value: function displayImportLibrariesPopup() {\n\t            var self = this;\n\t            this.popupImportLibrariesConfig.title = this.$translate.instant('Import libraries');\n\t            this.importDataPopupService.show(this.popupImportLibrariesConfig.id, function (popupDomElementId, data) {\n\t                try {\n\t                    self.libraryPersistenceService.importLibraries(data);\n\t                    self.initData();\n\t                } catch (error) {\n\t                    self.messagesService.errorMessage(error, false);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'downloadLibrary',\n\t        value: function downloadLibrary() {\n\t            var self = this;\n\t            var promise = this.libraryPersistenceService.downloadLibrary(this.getSelectedRow());\n\t            promise.then(function (json) {\n\t                self.initData();\n\t            }, function (reason) {\n\t                self.initData();\n\t            });\n\t        }\n\t    }, {\n\t        key: 'hasSelectedRow',\n\t        value: function hasSelectedRow() {\n\t            return !!this.getSelectedRow();\n\t        }\n\t    }, {\n\t        key: 'getSelectedRow',\n\t        value: function getSelectedRow() {\n\t            if (!!this.rows) {\n\t                for (var i = 0; i < this.rows.length; i++) {\n\t                    if (!!this.rows[i].selected) {\n\t                        return this.rows[i];\n\t                    }\n\t                }\n\t            }\n\t            return null;\n\t        }\n\t    }]);\n\n\t    return LibrariesListController;\n\t})();\n\n\texports['default'] = LibrariesListController;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 105 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _angularUiRouter = __webpack_require__(5);\n\n\tvar _angularUiRouter2 = _interopRequireDefault(_angularUiRouter);\n\n\tvar _libraryDetailHtml = __webpack_require__(106);\n\n\tvar _libraryDetailHtml2 = _interopRequireDefault(_libraryDetailHtml);\n\n\tvar _libraryDetailController = __webpack_require__(107);\n\n\tvar _libraryDetailController2 = _interopRequireDefault(_libraryDetailController);\n\n\tvar libraryDetailModule = _angular2['default'].module('app.components.gui.screen.libraries.detail', [_angularUiRouter2['default']]).config( /*@ngInject*/[\"$stateProvider\", \"$urlRouterProvider\", \"constants\", function ($stateProvider, $urlRouterProvider, constants) {\n\t    $urlRouterProvider.otherwise('/');\n\n\t    $stateProvider.state('library-detail', {\n\t        url: constants.url.libraryDetail + '/{libraryId}', template: '<library-detail></library-detail>'\n\t    });\n\t}]).component('libraryDetail', { template: _libraryDetailHtml2['default'], controller: _libraryDetailController2['default'] });\n\n\texports['default'] = libraryDetailModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 106 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ 'Library' }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"libraryForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteName\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteName\\\" ng-model=\\\"$ctrl.library.siteName\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteUrl\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteUrl\\\" ng-model=\\\"$ctrl.library.siteUrl\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"libraryUrl\\\">{{ \\\"Library url\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"libraryUrl\\\" ng-model=\\\"$ctrl.library.libraryUrl\\\" required>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(libraryForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\"\n\n/***/ },\n/* 107 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar LibraryDetailController = (function () {\n\t    /*@ngInject*/\n\n\t    LibraryDetailController.$inject = [\"preScreenLoadingInterceptorsCallerService\", \"libraryPersistenceService\", \"$stateParams\", \"$location\", \"constants\", \"messagesService\", \"$timeout\", \"$window\", \"formHelperService\"];\n\t    function LibraryDetailController(preScreenLoadingInterceptorsCallerService, libraryPersistenceService, $stateParams, $location, constants, messagesService, $timeout, $window, formHelperService) {\n\t        _classCallCheck(this, LibraryDetailController);\n\n\t        preScreenLoadingInterceptorsCallerService.intercept();\n\t        this.libraryPersistenceService = libraryPersistenceService;\n\t        this.$stateParams = $stateParams;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.messagesService = messagesService;\n\t        this.$timeout = $timeout;\n\t        this.$window = $window;\n\t        this.formHelperService = formHelperService;\n\t        this.initData();\n\t        this.setInitialFocus();\n\t    }\n\n\t    _createClass(LibraryDetailController, [{\n\t        key: \"initData\",\n\t        value: function initData() {\n\t            var libraryId = encodeURIComponent(this.$stateParams.libraryId);\n\t            if (!!libraryId) {\n\t                if (\"create\" === libraryId) {\n\t                    this.library = {};\n\t                    this.mode = \"create\";\n\t                } else {\n\t                    this.library = this.libraryPersistenceService.getLibrary(libraryId);\n\t                    this.mode = \"edit\";\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: \"setInitialFocus\",\n\t        value: function setInitialFocus() {\n\t            var that = this;\n\t            this.$timeout(function () {\n\t                var element = that.$window.document.getElementById(\"siteName\");\n\t                if (!!element) {\n\t                    element.focus();\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: \"save\",\n\t        value: function save(form) {\n\t            this.formHelperService.setErrorFieldsAsDirty(form, true);\n\t            if (form.$invalid) {\n\t                return;\n\t            }\n\n\t            try {\n\t                this.libraryPersistenceService.updateLibrary(this.library);\n\t                this.$location.url(this.constants.url.libraries);\n\t            } catch (error) {\n\t                this.messagesService.errorMessage(error, false);\n\t            }\n\t        }\n\t    }]);\n\n\t    return LibraryDetailController;\n\t})();\n\n\texports[\"default\"] = LibraryDetailController;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 108 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _languageAvailabilityCheckerLanguageAvailabilityChecker = __webpack_require__(109);\n\n\tvar _languageAvailabilityCheckerLanguageAvailabilityChecker2 = _interopRequireDefault(_languageAvailabilityCheckerLanguageAvailabilityChecker);\n\n\tvar _softwareRequirementsCheckerSoftwareRequirementsChecker = __webpack_require__(111);\n\n\tvar _softwareRequirementsCheckerSoftwareRequirementsChecker2 = _interopRequireDefault(_softwareRequirementsCheckerSoftwareRequirementsChecker);\n\n\tvar _preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller = __webpack_require__(113);\n\n\tvar _preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller2 = _interopRequireDefault(_preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller);\n\n\tvar _persistencePersistence = __webpack_require__(115);\n\n\tvar _persistencePersistence2 = _interopRequireDefault(_persistencePersistence);\n\n\tvar _dicesDices = __webpack_require__(123);\n\n\tvar _dicesDices2 = _interopRequireDefault(_dicesDices);\n\n\tvar _formHelperFormHelper = __webpack_require__(125);\n\n\tvar _formHelperFormHelper2 = _interopRequireDefault(_formHelperFormHelper);\n\n\tvar _remoteJsonRetrieverRemoteJsonRetriever = __webpack_require__(127);\n\n\tvar _remoteJsonRetrieverRemoteJsonRetriever2 = _interopRequireDefault(_remoteJsonRetrieverRemoteJsonRetriever);\n\n\tvar servicesModule = _angular2['default'].module('app.components.services', [_softwareRequirementsCheckerSoftwareRequirementsChecker2['default'].name, _persistencePersistence2['default'].name, _dicesDices2['default'].name, _languageAvailabilityCheckerLanguageAvailabilityChecker2['default'].name, _preScreenLoadingInterceptorsCallerPreScreenLoadingInterceptorsCaller2['default'].name, _formHelperFormHelper2['default'].name, _remoteJsonRetrieverRemoteJsonRetriever2['default'].name]);\n\n\texports['default'] = servicesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 109 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _languageAvailabilityCheckerService = __webpack_require__(110);\n\n\tvar _languageAvailabilityCheckerService2 = _interopRequireDefault(_languageAvailabilityCheckerService);\n\n\tvar languageAvailabilityCheckerModule = _angular2['default'].module('app.components.services.language-availability-checker', []).service('languageAvailabilityCheckerService', _languageAvailabilityCheckerService2['default']);\n\n\texports['default'] = languageAvailabilityCheckerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 110 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar LanguageAvailabilityCheckerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    LanguageAvailabilityCheckerService.$inject = [\"gamePersistenceService\", \"$location\", \"constants\", \"$translate\"];\n\t    function LanguageAvailabilityCheckerService(gamePersistenceService, $location, constants, $translate) {\n\t        _classCallCheck(this, LanguageAvailabilityCheckerService);\n\n\t        this.gamePersistenceService = gamePersistenceService;\n\t        this.$location = $location;\n\t        this.constants = constants;\n\t        this.$translate = $translate;\n\t    }\n\n\t    _createClass(LanguageAvailabilityCheckerService, [{\n\t        key: 'selectLanguageIfMissing',\n\t        value: function selectLanguageIfMissing() {\n\t            var selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n\t            var currentUrl = this.$location.url();\n\t            if (!!selectedLanguage) {\n\t                this.$translate.use(selectedLanguage);\n\t            } else {\n\t                if (!!currentUrl && !currentUrl.startsWith('/choose-language')) {\n\t                    this.$location.url(this.constants.url.chooseLanguage);\n\t                }\n\t            }\n\t        }\n\t    }]);\n\n\t    return LanguageAvailabilityCheckerService;\n\t})();\n\n\texports['default'] = LanguageAvailabilityCheckerService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 111 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _softwareRequirementsCheckerService = __webpack_require__(112);\n\n\tvar _softwareRequirementsCheckerService2 = _interopRequireDefault(_softwareRequirementsCheckerService);\n\n\tvar softwareRequirementsCheckerModule = _angular2['default'].module('app.components.services.software-requirements-checker', []).service('softwareRequirementsCheckerService', _softwareRequirementsCheckerService2['default']);\n\n\texports['default'] = softwareRequirementsCheckerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 112 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar SoftwareRequirementsCheckerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    SoftwareRequirementsCheckerService.$inject = [\"messagesService\"];\n\t    function SoftwareRequirementsCheckerService(messagesService) {\n\t        _classCallCheck(this, SoftwareRequirementsCheckerService);\n\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(SoftwareRequirementsCheckerService, [{\n\t        key: 'checkSoftwareRequirements',\n\t        value: function checkSoftwareRequirements() {\n\t            var hasSoftwareRequirements = true;\n\t            if (!this.isLocalStorageSupported()) {\n\t                hasSoftwareRequirements = false;\n\t                this.messagesService.errorMessage(\"The application cannot be used because the version of the browser is too old or because it is not possible to save data in 'localStorage'.\", true);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'isLocalStorageSupported',\n\t        value: function isLocalStorageSupported() {\n\t            try {\n\t                var storage = window['localStorage'];\n\t                var x = '__storage_test__';\n\t                storage.setItem(x, x);\n\t                storage.removeItem(x);\n\t                return true;\n\t            } catch (e) {\n\t                return false;\n\t            }\n\t        }\n\t    }]);\n\n\t    return SoftwareRequirementsCheckerService;\n\t})();\n\n\texports['default'] = SoftwareRequirementsCheckerService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 113 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _preScreenLoadingInterceptorsCallerService = __webpack_require__(114);\n\n\tvar _preScreenLoadingInterceptorsCallerService2 = _interopRequireDefault(_preScreenLoadingInterceptorsCallerService);\n\n\tvar preScreenLoadingInterceptorsCallerModule = _angular2['default'].module('app.components.services.pre-screen-loading-interceptors-caller', []).service('preScreenLoadingInterceptorsCallerService', _preScreenLoadingInterceptorsCallerService2['default']);\n\n\texports['default'] = preScreenLoadingInterceptorsCallerModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 114 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PreScreenLoadingInterceptorsCallerService = (function () {\n\n\t    /*@ngInject*/\n\n\t    PreScreenLoadingInterceptorsCallerService.$inject = [\"languageAvailabilityCheckerService\", \"softwareRequirementsCheckerService\"];\n\t    function PreScreenLoadingInterceptorsCallerService(languageAvailabilityCheckerService, softwareRequirementsCheckerService) {\n\t        _classCallCheck(this, PreScreenLoadingInterceptorsCallerService);\n\n\t        this.softwareRequirementsCheckerService = softwareRequirementsCheckerService;\n\t        this.languageAvailabilityCheckerService = languageAvailabilityCheckerService;\n\t    }\n\n\t    _createClass(PreScreenLoadingInterceptorsCallerService, [{\n\t        key: \"intercept\",\n\t        value: function intercept() {\n\t            this.softwareRequirementsCheckerService.checkSoftwareRequirements();\n\t            this.languageAvailabilityCheckerService.selectLanguageIfMissing();\n\t        }\n\t    }]);\n\n\t    return PreScreenLoadingInterceptorsCallerService;\n\t})();\n\n\texports[\"default\"] = PreScreenLoadingInterceptorsCallerService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 115 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _gamePersistenceGamePersistence = __webpack_require__(116);\n\n\tvar _gamePersistenceGamePersistence2 = _interopRequireDefault(_gamePersistenceGamePersistence);\n\n\tvar _adventurePersistenceAdventurePersistence = __webpack_require__(118);\n\n\tvar _adventurePersistenceAdventurePersistence2 = _interopRequireDefault(_adventurePersistenceAdventurePersistence);\n\n\tvar _libraryPersistenceLibraryPersistence = __webpack_require__(120);\n\n\tvar _libraryPersistenceLibraryPersistence2 = _interopRequireDefault(_libraryPersistenceLibraryPersistence);\n\n\tvar _persistenceService = __webpack_require__(122);\n\n\tvar _persistenceService2 = _interopRequireDefault(_persistenceService);\n\n\tvar persistenceModule = _angular2['default'].module('app.components.services.persistence', [_gamePersistenceGamePersistence2['default'].name, _adventurePersistenceAdventurePersistence2['default'].name, _libraryPersistenceLibraryPersistence2['default'].name]).service('persistenceService', _persistenceService2['default']);\n\n\texports['default'] = persistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 116 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _gamePersistenceService = __webpack_require__(117);\n\n\tvar _gamePersistenceService2 = _interopRequireDefault(_gamePersistenceService);\n\n\tvar gamePersistenceModule = _angular2['default'].module('app.components.services.persistence.game', []).service('gamePersistenceService', _gamePersistenceService2['default']);\n\n\texports['default'] = gamePersistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 117 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar GamePersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    GamePersistenceService.$inject = [\"constants\", \"persistenceService\", \"adventurePersistenceService\", \"messagesService\"];\n\t    function GamePersistenceService(constants, persistenceService, adventurePersistenceService, messagesService) {\n\t        _classCallCheck(this, GamePersistenceService);\n\n\t        this.persistenceService = persistenceService;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t        this.constants = constants;\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(GamePersistenceService, [{\n\t        key: 'getSelectedLanguage',\n\t        value: function getSelectedLanguage() {\n\t            return this.persistenceService.get(this.constants.data.selectedLanguage);\n\t        }\n\t    }, {\n\t        key: 'setSelectedLanguage',\n\t        value: function setSelectedLanguage(language) {\n\t            this.persistenceService.save(this.constants.data.selectedLanguage, language);\n\t        }\n\t    }, {\n\t        key: 'addGame',\n\t        value: function addGame(game) {\n\t            var savedGame = {\n\t                id: this.newGameId(),\n\t                playerName: game.playerName,\n\t                adventureId: game.adventureId,\n\t                items: game.items,\n\t                stats: game.stats,\n\t                currentParagraphNr: game.currentParagraphNr\n\t            };\n\n\t            savedGame.stats = [];\n\t            for (var i = 0; i < game.stats.length; i++) {\n\t                savedGame.stats.push({ name: game.stats[i].name, initial: game.stats[i].value, current: game.stats[i].value });\n\t            }\n\n\t            this.updateGame(savedGame);\n\t            return savedGame;\n\t        }\n\t    }, {\n\t        key: 'importGame',\n\t        value: function importGame(gameAsStr) {\n\t            try {\n\t                var game = JSON.parse(gameAsStr);\n\t                var missingMandatoryFields = [];\n\t                if (!game.id) {\n\t                    missingMandatoryFields.push('id');\n\t                }\n\t                if (!game.playerName) {\n\t                    missingMandatoryFields.push('playerName');\n\t                }\n\t                if (!game.adventureId) {\n\t                    missingMandatoryFields.push('adventureId');\n\t                }\n\t                if (!game.currentParagraphNr) {\n\t                    missingMandatoryFields.push('currentParagraphNr');\n\t                }\n\n\t                if (missingMandatoryFields.length > 0) {\n\t                    this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n\t                } else if (!!this.getGame(game.id)) {\n\t                    this.messagesService.errorMessage(\"The game already exists with id '\" + game.id + \"'\", false);\n\t                } else {\n\t                    this.updateGame(game);\n\t                }\n\t            } catch (error) {\n\t                this.messagesService.errorMessage('Cannot import game', false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateGame',\n\t        value: function updateGame(game) {\n\t            if (!game) {\n\t                return;\n\t            }\n\t            game = JSON.parse(JSON.stringify(game));\n\n\t            var key = this.getGamePersistenceKey(game.id);\n\t            if (!!game.items) {\n\t                for (var i = 0; i < game.items.length; i++) {\n\t                    delete game.items[i]['$$hashKey'];\n\t                }\n\t            }\n\t            this.persistenceService.save(key, game);\n\t        }\n\t    }, {\n\t        key: 'deleteGame',\n\t        value: function deleteGame(gameId, deleteParagraphNotesOfGame, deleteParagraphChoicesOfGame) {\n\t            var game = this.getGame(gameId);\n\t            var key = this.getGamePersistenceKey(gameId);\n\t            if (!!deleteParagraphNotesOfGame || !!deleteParagraphChoicesOfGame) {\n\t                var paragraphKeys = this.adventurePersistenceService.getAdventureParagraphKeys(game.adventureId);\n\t                for (var i = 0; i < paragraphKeys.length; i++) {\n\t                    var paragraph = this.persistenceService.get(paragraphKeys[i]);\n\t                    if (!!deleteParagraphNotesOfGame && !!paragraph.notes) {\n\t                        var newNotes = [];\n\t                        for (var j = 0; j < paragraph.notes.length; j++) {\n\t                            if (!paragraph.notes[j].playerName || paragraph.notes[j].playerName !== game.playerName) {\n\t                                newNotes.push(paragraph.notes[j]);\n\t                            }\n\t                        }\n\t                        paragraph.notes = newNotes;\n\t                        this.adventurePersistenceService.updateParagraph(game.adventureId, paragraph);\n\t                    }\n\t                    if (!!deleteParagraphChoicesOfGame) {\n\t                        // TODO\n\t                    }\n\t                }\n\t            }\n\t            localStorage.removeItem(key);\n\t        }\n\t    }, {\n\t        key: 'newGameId',\n\t        value: function newGameId() {\n\t            return new Date().getTime().toString();\n\t        }\n\t    }, {\n\t        key: 'getUrlOfGame',\n\t        value: function getUrlOfGame(gameId, paragraphNr) {\n\t            var game = this.getGame(gameId);\n\t            if (!paragraphNr) {\n\t                paragraphNr = game.currentParagraphNr;\n\t            }\n\t            var urlOfGame = \"/\" + encodeURIComponent(game.adventureId) + \"/\" + encodeURIComponent(paragraphNr) + \"/game/\" + encodeURIComponent(game.id);\n\t            return urlOfGame;\n\t        }\n\t    }, {\n\t        key: 'getGame',\n\t        value: function getGame(gameId) {\n\t            var key = this.getGamePersistenceKey(gameId);\n\t            return this.persistenceService.get(key);\n\t        }\n\t    }, {\n\t        key: 'getGamePersistenceKeys',\n\t        value: function getGamePersistenceKeys() {\n\t            return this.persistenceService.findKeysWithPrefix(this.constants.data.game);\n\t        }\n\t    }, {\n\t        key: 'getGamePersistenceKey',\n\t        value: function getGamePersistenceKey(gameId) {\n\t            var key = gameId;\n\t            if (!key.startsWith(this.constants.data.game)) {\n\t                key = this.constants.data.game + \".\" + key;\n\t            }\n\t            return key;\n\t        }\n\t    }, {\n\t        key: 'setCurrentParagraphNrOfGame',\n\t        value: function setCurrentParagraphNrOfGame(gameId, fromParagrahNr, toParagraphNr) {\n\t            var game = this.getGame(gameId);\n\t            if (!!fromParagrahNr) {\n\t                var persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n\t                var choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n\t                if (!choosenParagraphs) {\n\t                    choosenParagraphs = {};\n\t                }\n\t                var keyArray = toParagraphNr;\n\t                var choosenBy = choosenParagraphs[keyArray];\n\t                if (!choosenBy) {\n\t                    choosenBy = [];\n\t                    choosenParagraphs[keyArray] = choosenBy;\n\t                }\n\t                if (choosenBy.indexOf(gameId) === -1) {\n\t                    choosenBy.push(gameId);\n\t                    this.persistenceService.save(persistenceKeyChoosenParagraphs, choosenParagraphs);\n\t                }\n\t            }\n\t            game.currentParagraphNr = toParagraphNr;\n\t            if (!game.path) {\n\t                game.path = [];\n\t            }\n\t            game.path.push(toParagraphNr);\n\t            this.updateGame(game);\n\t        }\n\t    }, {\n\t        key: 'getChoosenChoices',\n\t        value: function getChoosenChoices(gameId, paragraphNr) {\n\t            var game = this.getGame(gameId);\n\t            var persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n\t            var choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n\t            if (!choosenParagraphs) {\n\t                return [];\n\t            } else {\n\t                var paragraph = this.adventurePersistenceService.getParagraph(game.adventureId, paragraphNr);\n\t                var choosen = [];\n\t                if (!!paragraph.choices) {\n\t                    for (var i = 0; i < paragraph.choices.length; i++) {\n\t                        var keyArray = paragraph.choices[i].paragraphNr;\n\t                        if (!!choosenParagraphs[keyArray]) {\n\t                            choosen.push(paragraph.choices[i].paragraphNr);\n\t                        }\n\t                    }\n\t                }\n\t                return choosen;\n\t            }\n\t        }\n\t    }]);\n\n\t    return GamePersistenceService;\n\t})();\n\n\texports['default'] = GamePersistenceService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 118 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _adventurePersistenceService = __webpack_require__(119);\n\n\tvar _adventurePersistenceService2 = _interopRequireDefault(_adventurePersistenceService);\n\n\tvar adventurePersistenceModule = _angular2['default'].module('app.components.services.persistence.adventure', []).service('adventurePersistenceService', _adventurePersistenceService2['default']);\n\n\texports['default'] = adventurePersistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 119 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar AdventurePersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    AdventurePersistenceService.$inject = [\"constants\", \"persistenceService\", \"messagesService\", \"$translate\", \"$q\", \"remoteJsonRetrieverService\"];\n\t    function AdventurePersistenceService(constants, persistenceService, messagesService, $translate, $q, remoteJsonRetrieverService) {\n\t        _classCallCheck(this, AdventurePersistenceService);\n\n\t        this.constants = constants;\n\t        this.persistenceService = persistenceService;\n\t        this.messagesService = messagesService;\n\t        this.$translate = $translate;\n\t        this.$q = $q;\n\t        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n\t    }\n\n\t    _createClass(AdventurePersistenceService, [{\n\t        key: 'downloadAdventure',\n\t        value: function downloadAdventure(adventure) {\n\t            var self = this;\n\t            var deferred = this.$q.defer();\n\t            var promise = this.remoteJsonRetrieverService.retrieveJson(adventure.downloadUrl);\n\t            promise.then(function (json) {\n\t                // TODO\n\t                //                library.downloadHistory.push(self.now() + ' : downloaded');\n\t                //                self.updateLibrary(library);\n\t                //                self.adventurePersistenceService.updateDownloadableAdventures(json);\n\t                //                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n\t                deferred.resolve('Success');\n\t            }, function (reason) {\n\t                // TODO\n\t                //                library.downloadHistory.push(self.now() + ' : error');\n\t                //                self.updateLibrary(library);\n\t                //                self.messagesService.errorMessage(reason, false);\n\t                deferred.reject(reason);\n\t            });\n\t            return deferred.promise;\n\t        }\n\t    }, {\n\t        key: 'now',\n\t        value: function now() {\n\t            var now = new Date();\n\t            return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n\t        }\n\t    }, {\n\t        key: 'updateDownloadableAdventures',\n\t        value: function updateDownloadableAdventures(adventures) {\n\t            if (!!adventures) {\n\t                for (var i = 0; i < adventures.length; i++) {\n\t                    this.updateDownloadableAdventure(adventures[i]);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateDownloadableAdventure',\n\t        value: function updateDownloadableAdventure(adventure) {\n\t            try {\n\t                this.updateAdventureWithoutParagraphs(adventure);\n\t            } catch (error) {\n\t                if (this.constants.errors.adventureAlreadyExist === error) {\n\t                    var existingAdventure = this.getAdventure(adventure.id);\n\t                    existingAdventure.downloadUrl = adventure.downloadUrl;\n\t                    this.updateAdventureWithoutParagraphs(existingAdventure);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getAdventuresOverview',\n\t        value: function getAdventuresOverview() {\n\t            var keys = this.getAdventurePersistenceKeys();\n\t            var adventures = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                var adventure = this.persistenceService.get(keys[i]);\n\t                adventures.push({\n\t                    id: adventure.id,\n\t                    name: adventure.name,\n\t                    numberOfParagraphs: adventure.numberOfParagraphs,\n\t                    language: adventure.language,\n\t                    version: adventure.version,\n\t                    authors: adventure.authors,\n\t                    serie: adventure.serie,\n\t                    downloadUrl: adventure.downloadUrl\n\t                });\n\t            }\n\t            return adventures;\n\t        }\n\t    }, {\n\t        key: 'getAdventurePersistenceKeys',\n\t        value: function getAdventurePersistenceKeys() {\n\t            var keys = Object.keys(localStorage);\n\t            var result = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') === -1) {\n\t                    result.push(keys[i]);\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: 'getAdventure',\n\t        value: function getAdventure(adventureId) {\n\t            return this.persistenceService.get(this.getAdventurePersistenceKey(adventureId));\n\t        }\n\t    }, {\n\t        key: 'importAdventure',\n\t        value: function importAdventure(adventureAsStr) {\n\t            try {\n\t                var adventure = JSON.parse(adventureAsStr);\n\t                var missingMandatoryFields = [];\n\t                if (!adventure.id) {\n\t                    missingMandatoryFields.push('id');\n\t                }\n\t                if (!adventure.name) {\n\t                    missingMandatoryFields.push('name');\n\t                }\n\t                if (!adventure.authors) {\n\t                    missingMandatoryFields.push('authors');\n\t                }\n\t                if (!adventure.version) {\n\t                    missingMandatoryFields.push('version');\n\t                }\n\t                if (!adventure.language) {\n\t                    missingMandatoryFields.push('language');\n\t                }\n\t                if (!adventure.startParagraphNr) {\n\t                    missingMandatoryFields.push('startParagraphNr');\n\t                }\n\t                if (missingMandatoryFields.length > 0) {\n\t                    this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n\t                } else if (!!this.getAdventure(adventure.id)) {\n\t                    this.messagesService.errorMessage(\"The adventure already exists with id '\" + adventure.id + \"'\", false);\n\t                } else {\n\t                    this.updateAdventureWithoutParagraphs(adventure);\n\t                    if (!!adventure.paragraphs) {\n\t                        for (var i = 0; i < adventure.paragraphs.length; i++) {\n\t                            this.setParagraph(adventure.id, adventure.paragraphs[i], true);\n\t                        }\n\t                    }\n\t                }\n\t            } catch (error) {\n\t                this.messagesService.errorMessage('Cannot import adventure', false);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateAdventureWithoutParagraphs',\n\t        value: function updateAdventureWithoutParagraphs(adventure) {\n\t            var adventureIdFromFromAdventureName = this.getAdventureIdFromAdventureName(adventure.name);\n\t            if (!adventure.id) {\n\t                adventure.id = adventureIdFromFromAdventureName;\n\t                var existingAdventure = this.getAdventure(adventureIdFromFromAdventureName);\n\t                if (!!existingAdventure) {\n\t                    throw this.constants.errors.adventureAlreadyExist;\n\t                }\n\t            }\n\t            var adventureInfo = {};\n\t            var keys = Object.keys(adventure);\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i] !== 'paragraphs') {\n\t                    adventureInfo[keys[i]] = adventure[keys[i]];\n\t                }\n\t            }\n\t            this.persistenceService.save(this.constants.data.adventure + \".\" + adventure.id, adventureInfo);\n\t        }\n\t    }, {\n\t        key: 'getAdventureIdFromAdventureName',\n\t        value: function getAdventureIdFromAdventureName(adventureName) {\n\t            return encodeURIComponent(adventureName.replace(/\\s+/g, '-').toLowerCase());\n\t        }\n\t    }, {\n\t        key: 'deleteAdventureAndParagraphs',\n\t        value: function deleteAdventureAndParagraphs(adventureId) {\n\t            this.persistenceService.remove(this.getAdventurePersistenceKey(adventureId));\n\t            var paragraphKeys = this.getAdventureParagraphKeys(adventureId);\n\t            for (var i = 0; i < paragraphKeys.length; i++) {\n\t                this.persistenceService.remove(paragraphKeys[i]);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'setParagraph',\n\t        value: function setParagraph(adventureId, paragraph, checkDupplicate) {\n\t            var key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n\t            if (!!checkDupplicate) {\n\t                var existingParagraph = this.persistenceService.get(key);\n\t                if (!!existingParagraph) {\n\t                    this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraph\", { paragraphNr: paragraph.paragraphNr }), true);\n\t                    return;\n\t                }\n\t            }\n\t            this.checkDupplicateChoices(paragraph);\n\t            this.persistenceService.save(key, paragraph);\n\t        }\n\t    }, {\n\t        key: 'getOrCreateParagraph',\n\t        value: function getOrCreateParagraph(adventureId, paragraphNr) {\n\t            var foundParagraph = this.getParagraph(adventureId, paragraphNr);\n\t            if (!!foundParagraph) {\n\t                return foundParagraph;\n\t            } else {\n\t                var paragraph = {\n\t                    version: this.constants.version,\n\t                    adventureId: adventureId,\n\t                    paragraphNr: new Number(paragraphNr),\n\t                    description: '',\n\t                    choices: []\n\t                };\n\t                this.updateParagraph(adventureId, paragraph);\n\t                return paragraph;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getParagraph',\n\t        value: function getParagraph(adventureId, paragraphNr) {\n\t            var key = this.getParagraphPersistenceKey(adventureId, paragraphNr);\n\t            return this.persistenceService.get(key);\n\t        }\n\t    }, {\n\t        key: 'updateParagraph',\n\t        value: function updateParagraph(adventureId, paragraph) {\n\t            if (!paragraph) {\n\t                return;\n\t            }\n\t            paragraph = JSON.parse(JSON.stringify(paragraph));\n\t            var key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n\t            if (!!paragraph.choices) {\n\t                for (var i = 0; i < paragraph.choices.length; i++) {\n\t                    delete paragraph.choices[i]['$$hashKey'];\n\t                }\n\t            }\n\t            this.checkDupplicateChoices(paragraph);\n\t            this.persistenceService.save(key, paragraph);\n\t        }\n\t    }, {\n\t        key: 'checkDupplicateChoices',\n\t        value: function checkDupplicateChoices(paragraph) {\n\t            if (!!paragraph && !!paragraph.choices) {\n\t                var choices = [];\n\t                for (var i = 0; i < paragraph.choices.length; i++) {\n\t                    if (choices.indexOf(paragraph.choices[i].paragraphNr) !== -1) {\n\t                        this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraphChoices\", { paragraphNr: paragraph.paragraphNr, choiceParagraphNr: paragraph.choices[i].paragraphNr }), true);\n\t                    }\n\t                    choices.push(paragraph.choices[i].paragraphNr);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'getAdventureParagraphKeys',\n\t        value: function getAdventureParagraphKeys(adventureId) {\n\t            var paragraphKeys = [];\n\t            var keys = Object.keys(localStorage);\n\t            var keyAdventureId = this.constants.data.adventure + '.' + adventureId;\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') !== -1) {\n\t                    var adventureIdInKey = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n\t                    if (adventureIdInKey === keyAdventureId) {\n\t                        paragraphKeys.push(keys[i]);\n\t                    }\n\t                }\n\t            }\n\t            return paragraphKeys;\n\t        }\n\t    }, {\n\t        key: 'getParagraphPersistenceKey',\n\t        value: function getParagraphPersistenceKey(adventureId, paragraphNr) {\n\t            return this.getAdventurePersistenceKey(adventureId) + \".paragraph.\" + paragraphNr;\n\t        }\n\t    }, {\n\t        key: 'getAdventurePersistenceKey',\n\t        value: function getAdventurePersistenceKey(adventureId) {\n\t            var key = adventureId;\n\t            if (!key.startsWith(this.constants.data.adventure + \".\")) {\n\t                key = this.constants.data.adventure + \".\" + key;\n\t            }\n\t            return key;\n\t        }\n\t    }, {\n\t        key: 'exportAdventure',\n\t        value: function exportAdventure(adventureId) {\n\t            var adventure = this.getAdventure(adventureId);\n\t            adventure.paragraphs = [];\n\n\t            var keys = Object.keys(localStorage);\n\t            var adventureIdKeyPrefix = this.constants.data.adventure + '.' + adventureId;\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(adventureIdKeyPrefix + \".paragraph\") !== -1) {\n\t                    var currentAdventureIdPrefix = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n\t                    if (currentAdventureIdPrefix === adventureIdKeyPrefix) {\n\t                        var paragraph = this.persistenceService.get(keys[i]);\n\t                        if (!!paragraph) {\n\t                            delete paragraph.version;\n\t                            delete paragraph.adventureId;\n\t                            adventure.paragraphs.push(paragraph);\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            adventure.paragraphs = this.sortParagraphs(adventure.paragraphs);\n\t            return adventure;\n\t        }\n\t    }, {\n\t        key: 'sortParagraphs',\n\t        value: function sortParagraphs(paragraphs) {\n\t            return paragraphs.sort(this.compareParagraph);\n\t        }\n\t    }, {\n\t        key: 'compareParagraph',\n\t        value: function compareParagraph(p1, p2) {\n\t            if (!p1 && !p2) {\n\t                return 0;\n\t            } else if (!p1) {\n\t                return 1;\n\t            } else if (!p2) {\n\t                return -1;\n\t            } else {\n\t                return p1.paragraphNr - p2.paragraphNr;\n\t            }\n\t        }\n\t    }]);\n\n\t    return AdventurePersistenceService;\n\t})();\n\n\texports['default'] = AdventurePersistenceService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 120 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _libraryPersistenceService = __webpack_require__(121);\n\n\tvar _libraryPersistenceService2 = _interopRequireDefault(_libraryPersistenceService);\n\n\tvar libraryPersistenceModule = _angular2['default'].module('app.components.services.persistence.library', []).service('libraryPersistenceService', _libraryPersistenceService2['default']);\n\n\texports['default'] = libraryPersistenceModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 121 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar LibraryPersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    LibraryPersistenceService.$inject = [\"constants\", \"persistenceService\", \"messagesService\", \"remoteJsonRetrieverService\", \"$q\", \"$filter\", \"adventurePersistenceService\"];\n\t    function LibraryPersistenceService(constants, persistenceService, messagesService, remoteJsonRetrieverService, $q, $filter, adventurePersistenceService) {\n\t        _classCallCheck(this, LibraryPersistenceService);\n\n\t        this.persistenceService = persistenceService;\n\t        this.constants = constants;\n\t        this.messagesService = messagesService;\n\t        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n\t        this.$q = $q;\n\t        this.$filter = $filter;\n\t        this.adventurePersistenceService = adventurePersistenceService;\n\t    }\n\n\t    _createClass(LibraryPersistenceService, [{\n\t        key: 'downloadLibrary',\n\t        value: function downloadLibrary(library) {\n\t            var self = this;\n\t            var deferred = this.$q.defer();\n\t            var promise = this.remoteJsonRetrieverService.retrieveJson(library.libraryUrl);\n\t            promise.then(function (json) {\n\t                library.downloadHistory.push(self.now() + ' : downloaded');\n\t                self.updateLibrary(library);\n\t                self.adventurePersistenceService.updateDownloadableAdventures(json);\n\t                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n\t                deferred.resolve('Success');\n\t            }, function (reason) {\n\t                library.downloadHistory.push(self.now() + ' : error');\n\t                self.updateLibrary(library);\n\t                self.messagesService.errorMessage(reason, false);\n\t                deferred.reject(reason);\n\t            });\n\t            return deferred.promise;\n\t        }\n\t    }, {\n\t        key: 'now',\n\t        value: function now() {\n\t            var now = new Date();\n\t            return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n\t        }\n\t    }, {\n\t        key: 'deleteLibrary',\n\t        value: function deleteLibrary(libraryId) {\n\t            this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n\t        }\n\t    }, {\n\t        key: 'importLibraries',\n\t        value: function importLibraries(librariesStr) {\n\t            try {\n\t                var libraries = JSON.parse(librariesStr);\n\t                this.checkMissingFields(libraries);\n\t                for (var i = 0; i < libraries.length; i++) {\n\t                    var library = libraries[i];\n\t                    this.updateLibrary(library);\n\t                }\n\t            } catch (error) {\n\t                this.messagesService.errorMessage('Cannot import libraries', false);\n\t                throw error;\n\t            }\n\t        }\n\t    }, {\n\t        key: 'checkMissingFields',\n\t        value: function checkMissingFields(libraries) {\n\t            for (var i = 0; i < libraries.length; i++) {\n\t                var library = libraries[i];\n\t                var missingMandatoryFields = [];\n\t                if (!library.siteName) {\n\t                    missingMandatoryFields.push('siteName');\n\t                }\n\t                if (!library.libraryUrl) {\n\t                    missingMandatoryFields.push('libraryUrl');\n\t                }\n\t                if (missingMandatoryFields.length > 0) {\n\t                    this.messagesService.errorMessage('Cannot import a library because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n\t                    throw this.constants.errors.missingMandatoryFields;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'updateLibrary',\n\t        value: function updateLibrary(library) {\n\t            if (!library.id) {\n\t                this.checkDupplicateLibrary(library);\n\t                library.id = this.getIdFromLibrarySiteName(library.siteName);\n\t            }\n\t            if (!library.downloadHistory) {\n\t                library.downloadHistory = [];\n\t                library.downloadHistory.push('Not downloaded yet');\n\t            }\n\t            this.persistenceService.save(this.getLibraryPersistenceKey(library.id), library);\n\t        }\n\t    }, {\n\t        key: 'getIdFromLibrarySiteName',\n\t        value: function getIdFromLibrarySiteName(siteName) {\n\t            return encodeURIComponent(siteName.replace(/\\s+/g, '-').toLowerCase()) + new Date().getTime().toString();\n\t        }\n\t    }, {\n\t        key: 'checkDupplicateLibrary',\n\t        value: function checkDupplicateLibrary(library) {\n\t            if (!!library.libraryUrl) {\n\t                var libraries = this.getLibraries();\n\t                for (var i = 0; i < libraries.length; i++) {\n\t                    if (library.libraryUrl === libraries[i].libraryUrl) {\n\t                        throw this.constants.errors.libraryAlreadyExist;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'exportLibraries',\n\t        value: function exportLibraries() {\n\t            var libraries = this.getLibraries();\n\t            for (var i = 0; i < libraries.length; i++) {\n\t                delete libraries[i].id;\n\t                delete libraries[i].lastDownload;\n\t            }\n\t            return JSON.stringify(libraries);\n\t        }\n\t    }, {\n\t        key: 'getLibraries',\n\t        value: function getLibraries() {\n\t            var result = [];\n\t            var keys = this.getLibraryPersistenceKeys();\n\t            for (var i = 0; i < keys.length; i++) {\n\t                result.push(this.getLibrary(keys[i]));\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: 'getLibraryPersistenceKeys',\n\t        value: function getLibraryPersistenceKeys() {\n\t            var keys = Object.keys(localStorage);\n\t            var result = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(this.constants.data.library)) {\n\t                    result.push(keys[i]);\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: 'getLibrary',\n\t        value: function getLibrary(libraryId) {\n\t            return this.persistenceService.get(this.getLibraryPersistenceKey(libraryId));\n\t        }\n\t    }, {\n\t        key: 'deleteLibrary',\n\t        value: function deleteLibrary(libraryId) {\n\t            this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n\t        }\n\t    }, {\n\t        key: 'getLibraryPersistenceKey',\n\t        value: function getLibraryPersistenceKey(libraryId) {\n\t            var key = libraryId;\n\t            if (!key.startsWith(this.constants.data.library)) {\n\t                key = this.constants.data.library + \".\" + key;\n\t            }\n\t            return key;\n\t        }\n\t    }]);\n\n\t    return LibraryPersistenceService;\n\t})();\n\n\texports['default'] = LibraryPersistenceService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 122 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar PersistenceService = (function () {\n\n\t    /*@ngInject*/\n\n\t    PersistenceService.$inject = [\"softwareRequirementsCheckerService\", \"messagesService\"];\n\t    function PersistenceService(softwareRequirementsCheckerService, messagesService) {\n\t        _classCallCheck(this, PersistenceService);\n\n\t        this.isLocalStorageSupported = softwareRequirementsCheckerService.isLocalStorageSupported();\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(PersistenceService, [{\n\t        key: \"findKeysWithPrefix\",\n\t        value: function findKeysWithPrefix(keyPrefix) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return null;\n\t            }\n\t            var keys = Object.keys(localStorage);\n\t            var result = [];\n\t            for (var i = 0; i < keys.length; i++) {\n\t                if (keys[i].startsWith(keyPrefix)) {\n\t                    result.push(keys[i]);\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t    }, {\n\t        key: \"get\",\n\t        value: function get(key) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return null;\n\t            }\n\t            var value = localStorage.getItem(key);\n\t            if (value === null || value === \"undefined\" || value === undefined) {\n\t                return null;\n\t            } else {\n\t                try {\n\t                    return JSON.parse(value);\n\t                } catch (e) {\n\t                    // cannot be parsed, must be a string\n\t                    return value;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: \"save\",\n\t        value: function save(key, value) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            if (typeof value === 'string') {\n\t                localStorage.setItem(key, value);\n\t            } else {\n\t                localStorage.setItem(key, JSON.stringify(value));\n\t            }\n\t        }\n\t    }, {\n\t        key: \"remove\",\n\t        value: function remove(key) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            localStorage.removeItem(key);\n\t        }\n\t    }, {\n\t        key: \"import\",\n\t        value: function _import(importDataAsJson) {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            this.cleanAllData();\n\t            var importData = JSON.parse(importDataAsJson);\n\t            var keys = Object.keys(importData);\n\t            for (var i = 0; i < keys.length; i++) {\n\t                this.save(keys[i], importData[keys[i]]);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"export\",\n\t        value: function _export() {\n\t            return JSON.stringify(localStorage);\n\t        }\n\t    }, {\n\t        key: \"cleanAllData\",\n\t        value: function cleanAllData() {\n\t            if (!this.isLocalStorageSupported) {\n\t                return;\n\t            }\n\t            localStorage.clear();\n\t        }\n\t    }, {\n\t        key: \"getUsedCapacity\",\n\t        value: function getUsedCapacity() {\n\t            if (!this.isLocalStorageSupported) {\n\t                return 0;\n\t            }\n\t            return unescape(encodeURIComponent(JSON.stringify(localStorage))).length;\n\t        }\n\t    }, {\n\t        key: \"getRemainingCapacity\",\n\t        value: function getRemainingCapacity() {\n\t            var b10 = \"0123456789\";\n\t            var b100 = this.repeat(b10, 10);\n\t            var b1000 = this.repeat(b100, 10);\n\t            var b10k = this.repeat(b1000, 10);\n\t            var b100k = this.repeat(b10k, 10);\n\t            var b1M = this.repeat(b100k, 10);\n\t            var buffers = [b1M, b100k, b10k, b1000, b100, b10];\n\t            for (var i = 0; i < buffers.length; i++) {\n\t                while (this.setLocalStorageWithoutError(buffers[i])) {}\n\t            }\n\t            var capacity = this.getUsedCapacity();\n\t            delete localStorage.test;\n\t            return capacity;\n\t        }\n\t    }, {\n\t        key: \"getUsedCapacityInPercent\",\n\t        value: function getUsedCapacityInPercent() {\n\t            var usedCapacity = this.getUsedCapacity();\n\t            var remainingCapacity = this.getRemainingCapacity();\n\t            var available = usedCapacity + remainingCapacity;\n\t            return usedCapacity / available * 100;\n\t        }\n\t    }, {\n\t        key: \"setLocalStorageWithoutError\",\n\t        value: function setLocalStorageWithoutError(value) {\n\t            try {\n\t                localStorage.test = localStorage.test + value;\n\t                return true;\n\t            } catch (e) {\n\t                return false;\n\t            }\n\t        }\n\t    }, {\n\t        key: \"repeat\",\n\t        value: function repeat(string, count) {\n\t            var array = [];\n\t            while (count--) {\n\t                array.push(string);\n\t            }\n\t            return array.join('');\n\t        }\n\t    }]);\n\n\t    return PersistenceService;\n\t})();\n\n\texports[\"default\"] = PersistenceService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 123 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _dicesService = __webpack_require__(124);\n\n\tvar _dicesService2 = _interopRequireDefault(_dicesService);\n\n\tvar dicesModule = _angular2['default'].module('app.components.services.dices', []).service('dicesService', _dicesService2['default']);\n\n\texports['default'] = dicesModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 124 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\tvar DicesService = (function () {\n\n\t    /*@ngInject*/\n\n\t    function DicesService() {\n\t        _classCallCheck(this, DicesService);\n\t    }\n\n\t    _createClass(DicesService, [{\n\t        key: \"rollDices\",\n\t        value: function rollDices(qty, maxDiceValue) {\n\t            var dicesValue = 0;\n\t            for (var i = 0; i < qty; i++) {\n\t                dicesValue = dicesValue + this.randomIntInclusive(1, maxDiceValue);\n\t            }\n\t            return dicesValue;\n\t        }\n\t    }, {\n\t        key: \"randomIntInclusive\",\n\t        value: function randomIntInclusive(min, max) {\n\t            return Math.floor(Math.random() * (max - min + 1)) + min;\n\t        }\n\t    }]);\n\n\t    return DicesService;\n\t})();\n\n\texports[\"default\"] = DicesService;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 125 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _formHelperService = __webpack_require__(126);\n\n\tvar _formHelperService2 = _interopRequireDefault(_formHelperService);\n\n\tvar formHelperModule = _angular2['default'].module('app.components.services.form-helper', []).service('formHelperService', _formHelperService2['default']);\n\n\texports['default'] = formHelperModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 126 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar FormHelperService = (function () {\n\n\t    /*@ngInject*/\n\n\t    FormHelperService.$inject = [\"messagesService\"];\n\t    function FormHelperService(messagesService) {\n\t        _classCallCheck(this, FormHelperService);\n\n\t        this.messagesService = messagesService;\n\t    }\n\n\t    _createClass(FormHelperService, [{\n\t        key: 'setErrorFieldsAsDirty',\n\t        value: function setErrorFieldsAsDirty(form, withMessage) {\n\t            if (form.$invalid) {\n\t                if (!!withMessage) {\n\t                    this.messagesService.errorMessage('Please complete mandatory fields', false);\n\t                }\n\n\t                // error \"dirty\" field will be hightlighted (see app.css)\n\t                angular.forEach(form.$error, function (type) {\n\t                    angular.forEach(type, function (field) {\n\t                        field.$setDirty();\n\t                    });\n\t                });\n\t            }\n\t        }\n\t    }]);\n\n\t    return FormHelperService;\n\t})();\n\n\texports['default'] = FormHelperService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 127 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar _remoteJsonRetrieverService = __webpack_require__(128);\n\n\tvar _remoteJsonRetrieverService2 = _interopRequireDefault(_remoteJsonRetrieverService);\n\n\tvar remoteJsonRetrieverModule = _angular2['default'].module('app.components.services.remote-json-retriever', []).service('remoteJsonRetrieverService', _remoteJsonRetrieverService2['default']);\n\n\texports['default'] = remoteJsonRetrieverModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 128 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar RemoteJsonRetrieverService = (function () {\n\n\t    /*@ngInject*/\n\n\t    RemoteJsonRetrieverService.$inject = [\"$http\", \"$q\"];\n\t    function RemoteJsonRetrieverService($http, $q) {\n\t        _classCallCheck(this, RemoteJsonRetrieverService);\n\n\t        this.$http = $http;\n\t        this.$q = $q;\n\t    }\n\n\t    _createClass(RemoteJsonRetrieverService, [{\n\t        key: 'retrieveJson',\n\t        value: function retrieveJson(jsonUrl) {\n\t            var deferred = this.$q.defer();\n\t            var that = this;\n\t            this.$http.get(jsonUrl).then(function successCallback(response) {\n\t                if (!!response && !!response.data) {\n\t                    deferred.resolve(response.data);\n\t                } else {\n\t                    deferred.reject('Cannot get data from ' + jsonUrl);\n\t                }\n\t            }, function errorCallback(response) {\n\t                deferred.reject('Cannot get data from ' + jsonUrl);\n\t            });\n\t            return deferred.promise;\n\t        }\n\t    }]);\n\n\t    return RemoteJsonRetrieverService;\n\t})();\n\n\texports['default'] = RemoteJsonRetrieverService;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _angular = __webpack_require__(3);\n\n\tvar _angular2 = _interopRequireDefault(_angular);\n\n\tvar constantsModule = _angular2['default'].module('app.components.constants', []).constant('constants', {\n\t    version: '20160909',\n\t    supportedLanguages: ['en', 'fr'],\n\t    data: {\n\t        selectedLanguage: 'selectedLanguage',\n\t        adventure: 'adventure',\n\t        game: 'game',\n\t        library: 'library'\n\t    },\n\t    url: {\n\t        battle: '/battle',\n\t        chooseLanguage: '/choose-language',\n\t        administration: '/administration',\n\t        games: '/games',\n\t        root: '/',\n\t        selectAdventureForNewGame: '/games/create/select-adventure',\n\t        createPlayerForNewGame: '/games/create/create-player',\n\t        chooseItemsForNewGame: '/games/create/choose-items',\n\t        gameDetail: '/{adventureId}/{paragraphNr}/game/{gameId}',\n\t        about: '/about?admin',\n\t        adventures: '/adventures',\n\t        adventureDetail: '/adventures',\n\t        libraries: '/libraries',\n\t        libraryDetail: '/libraries'\n\t    },\n\t    choices: {\n\t        yes: 'Yes',\n\t        no: 'No',\n\t        ok: 'Ok',\n\t        cancel: 'Cancel'\n\t    },\n\t    errors: {\n\t        adventureAlreadyExist: 'error.adventureAlreadyExist',\n\t        libraryAlreadyExist: 'error.libraryAlreadyExist',\n\t        missingMandatoryFields: 'error.missingMandatoryFields'\n\t    }\n\t});\n\n\texports['default'] = constantsModule;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 130 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n\t *\n\t * ESTA WebJS: Hauptkomponente der Angular-Applikation\n\t *\n\t * @author u220374 (Reto Lehmann)\n\t * @version: 0.0.1\n\t * @since 23.10.2015, 2015.\n\t */\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _appHtml = __webpack_require__(131);\n\n\tvar _appHtml2 = _interopRequireDefault(_appHtml);\n\n\t__webpack_require__(132);\n\n\tvar appComponent = function appComponent() {\n\t    return {\n\t        template: _appHtml2['default'], restrict: 'E'\n\t    };\n\t};\n\n\texports['default'] = appComponent;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 131 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div ui-view></div>\"\n\n/***/ },\n/* 132 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\n\t// load the styles\n\tvar content = __webpack_require__(133);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(135)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./app.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./app.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 133 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(134)();\n\t// imports\n\n\n\t// module\n\texports.push([module.id, \"body{padding-top:70px}.ng-invalid.ng-dirty:required{background-color:#f99!important}.error{color:#f99}.spacer{margin:0;padding:0;height:10px}.table-borderless tbody tr td,.table-borderless tbody tr th,.table-borderless thead tr th{border:none}.editable-div{height:auto;min-height:34px}.modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:30%}.close{float:right}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}\", \"\"]);\n\n\t// exports\n\n\n/***/ },\n/* 134 */,\n/* 135 */,\n/* 136 */\n/***/ function(module, exports) {\n\n\t/*! http://mths.be/startswith v0.2.0 by @mathias */\n\tif (!String.prototype.startsWith) {\n\t\t(function() {\n\t\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\t\tvar defineProperty = (function() {\n\t\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\t\ttry {\n\t\t\t\t\tvar object = {};\n\t\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t\t} catch(error) {}\n\t\t\t\treturn result;\n\t\t\t}());\n\t\t\tvar toString = {}.toString;\n\t\t\tvar startsWith = function(search) {\n\t\t\t\tif (this == null) {\n\t\t\t\t\tthrow TypeError();\n\t\t\t\t}\n\t\t\t\tvar string = String(this);\n\t\t\t\tif (search && toString.call(search) == '[object RegExp]') {\n\t\t\t\t\tthrow TypeError();\n\t\t\t\t}\n\t\t\t\tvar stringLength = string.length;\n\t\t\t\tvar searchString = String(search);\n\t\t\t\tvar searchLength = searchString.length;\n\t\t\t\tvar position = arguments.length > 1 ? arguments[1] : undefined;\n\t\t\t\t// `ToInteger`\n\t\t\t\tvar pos = position ? Number(position) : 0;\n\t\t\t\tif (pos != pos) { // better `isNaN`\n\t\t\t\t\tpos = 0;\n\t\t\t\t}\n\t\t\t\tvar start = Math.min(Math.max(pos, 0), stringLength);\n\t\t\t\t// Avoid the `indexOf` call if no match is possible\n\t\t\t\tif (searchLength + start > stringLength) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar index = -1;\n\t\t\t\twhile (++index < searchLength) {\n\t\t\t\t\tif (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (defineProperty) {\n\t\t\t\tdefineProperty(String.prototype, 'startsWith', {\n\t\t\t\t\t'value': startsWith,\n\t\t\t\t\t'configurable': true,\n\t\t\t\t\t'writable': true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tString.prototype.startsWith = startsWith;\n\t\t\t}\n\t\t}());\n\t}\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/","/**\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n *\n * ESTA WebJS: Angular-Modul der Hauptkomponente\n *\n * @author u220374 (Reto Lehmann)\n * @version: 0.0.1\n * @since 23.10.2015, 2015.\n */\n\nimport i18n_en from './i18n/en.js';\nimport i18n_fr from './i18n/fr.js';\n\n// Vendor-Imports\nimport angular from 'angular';\nimport uiRouter from 'angular-ui-router';\nimport ngResource from 'angular-resource';\nimport ngCookies from 'angular-cookies';\nimport ngTranslate from 'angular-translate';\nimport uiBootstrap from 'angular-ui-bootstrap';\n\n// Interne Modul-Imports\nimport Components from './components/components';\nimport AppComponent from './app.component';\n\n// A robust & optimized ES3-compatible polyfill for the String.prototype.startsWith method in ECMAScript 6\nrequire('string.prototype.startswith');\n\nangular.module('app', [\n    uiRouter, ngTranslate, ngCookies, ngResource, uiBootstrap, Components.name\n    ])\n\n    .config(['$translateProvider', function ($translateProvider) {\n      $translateProvider.translations('en', i18n_en);\n      $translateProvider.translations('fr', i18n_fr);\n      $translateProvider.preferredLanguage('en');\n      $translateProvider.useSanitizeValueStrategy('escape');\n    }])\n\n    .config(['$compileProvider', function ($compileProvider) {\n        $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|tel|file|blob):/);\n    }])\n\n    .directive('onReadFile', function ($parse) {\n    \treturn {\n    \t\trestrict: 'A',\n    \t\tscope: false,\n    \t\tlink: function(scope, element, attrs) {\n                var fn = $parse(attrs.onReadFile);\n\n    \t\t\telement.on('change', function(onChangeEvent) {\n    \t\t\t\tvar reader = new FileReader();\n\n    \t\t\t\treader.onload = function(onLoadEvent) {\n    \t\t\t\t\tscope.$apply(function() {\n    \t\t\t\t\t\tfn(scope, {$fileContent:onLoadEvent.target.result});\n    \t\t\t\t\t});\n    \t\t\t\t};\n\n    \t\t\t\treader.readAsText((onChangeEvent.srcElement || onChangeEvent.target).files[0]);\n    \t\t\t});\n    \t\t}\n    \t};\n    })\n\n    // Die App als Direktive exportieren\n    .directive('app', AppComponent);\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app.js\n **/","const englishTranslations = {\n    'yesno_true': 'yes',\n    'yesno_false': 'no',\n    'NumberOfParagraphs': '{{ (!!numberOfParagraphs ? numberOfParagraphs + \" paragraphs\" : \"\") }}',\n    'ChoiceAdventure': 'Select the adventure \"{{ adventureName }}\"',\n    'ChoosenAdventure': 'The adventure \"{{ adventureName }}\" is choosen',\n    'ChoiceGame': 'Select the game \"{{ adventureName }}\" of the player \"{{ playerName }}\"',\n    'ChoosenGame': 'The game \"{{ adventureName }}\" of the player \"{{ playerName }}\" is choosen',\n    'ChoiceLibrary': 'Select the library \"{{ siteName }}\"',\n    'ChoosenLibrary': 'The library \"{{ siteName }}\" is choosen',\n    'DupplicateParagraph': 'The paragraph \"{{paragraphNr}}\" already exist',\n    'ExportGame': \"Export the game of '{{playerName}}' from the adventure '{{adventureName}}'\",\n    'ExportAdventure': \"Export the adventure of '{{adventureName}}'\",\n    'export_file': 'Download file',\n    'export_email': 'Sent email',\n    'export_text': 'Text',\n    'import_file': 'Upload file',\n    'import_text': 'Text',\n    'error.adventureAlreadyExist': 'Adventure already exists',\n    'error.libraryAlreadyExist': 'Library already exists (JSON url)'\n};\n\nexport {englishTranslations as default};\n\n\n/** WEBPACK FOOTER **\n ** ./i18n/en.js\n **/","const frenchTranslations = {\n};\n\nexport {frenchTranslations as default};\n\n\n\n/** WEBPACK FOOTER **\n ** ./i18n/fr.js\n **/","require('./angular-cookies');\nmodule.exports = 'ngCookies';\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/pascal/Documents/dev/gamebooks-assistant/~/angular-cookies/index.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * @license AngularJS v1.5.8\n * (c) 2010-2016 Google, Inc. http://angularjs.org\n * License: MIT\n */\n(function(window, angular) {'use strict';\n\n/**\n * @ngdoc module\n * @name ngCookies\n * @description\n *\n * # ngCookies\n *\n * The `ngCookies` module provides a convenient wrapper for reading and writing browser cookies.\n *\n *\n * <div doc-module-components=\"ngCookies\"></div>\n *\n * See {@link ngCookies.$cookies `$cookies`} for usage.\n */\n\n\nangular.module('ngCookies', ['ng']).\n  /**\n   * @ngdoc provider\n   * @name $cookiesProvider\n   * @description\n   * Use `$cookiesProvider` to change the default behavior of the {@link ngCookies.$cookies $cookies} service.\n   * */\n   provider('$cookies', [function $CookiesProvider() {\n    /**\n     * @ngdoc property\n     * @name $cookiesProvider#defaults\n     * @description\n     *\n     * Object containing default options to pass when setting cookies.\n     *\n     * The object may have following properties:\n     *\n     * - **path** - `{string}` - The cookie will be available only for this path and its\n     *   sub-paths. By default, this is the URL that appears in your `<base>` tag.\n     * - **domain** - `{string}` - The cookie will be available only for this domain and\n     *   its sub-domains. For security reasons the user agent will not accept the cookie\n     *   if the current domain is not a sub-domain of this domain or equal to it.\n     * - **expires** - `{string|Date}` - String of the form \"Wdy, DD Mon YYYY HH:MM:SS GMT\"\n     *   or a Date object indicating the exact date/time this cookie will expire.\n     * - **secure** - `{boolean}` - If `true`, then the cookie will only be available through a\n     *   secured connection.\n     *\n     * Note: By default, the address that appears in your `<base>` tag will be used as the path.\n     * This is important so that cookies will be visible for all routes when html5mode is enabled.\n     *\n     **/\n    var defaults = this.defaults = {};\n\n    function calcOptions(options) {\n      return options ? angular.extend({}, defaults, options) : defaults;\n    }\n\n    /**\n     * @ngdoc service\n     * @name $cookies\n     *\n     * @description\n     * Provides read/write access to browser's cookies.\n     *\n     * <div class=\"alert alert-info\">\n     * Up until Angular 1.3, `$cookies` exposed properties that represented the\n     * current browser cookie values. In version 1.4, this behavior has changed, and\n     * `$cookies` now provides a standard api of getters, setters etc.\n     * </div>\n     *\n     * Requires the {@link ngCookies `ngCookies`} module to be installed.\n     *\n     * @example\n     *\n     * ```js\n     * angular.module('cookiesExample', ['ngCookies'])\n     *   .controller('ExampleController', ['$cookies', function($cookies) {\n     *     // Retrieving a cookie\n     *     var favoriteCookie = $cookies.get('myFavorite');\n     *     // Setting a cookie\n     *     $cookies.put('myFavorite', 'oatmeal');\n     *   }]);\n     * ```\n     */\n    this.$get = ['$$cookieReader', '$$cookieWriter', function($$cookieReader, $$cookieWriter) {\n      return {\n        /**\n         * @ngdoc method\n         * @name $cookies#get\n         *\n         * @description\n         * Returns the value of given cookie key\n         *\n         * @param {string} key Id to use for lookup.\n         * @returns {string} Raw cookie value.\n         */\n        get: function(key) {\n          return $$cookieReader()[key];\n        },\n\n        /**\n         * @ngdoc method\n         * @name $cookies#getObject\n         *\n         * @description\n         * Returns the deserialized value of given cookie key\n         *\n         * @param {string} key Id to use for lookup.\n         * @returns {Object} Deserialized cookie value.\n         */\n        getObject: function(key) {\n          var value = this.get(key);\n          return value ? angular.fromJson(value) : value;\n        },\n\n        /**\n         * @ngdoc method\n         * @name $cookies#getAll\n         *\n         * @description\n         * Returns a key value object with all the cookies\n         *\n         * @returns {Object} All cookies\n         */\n        getAll: function() {\n          return $$cookieReader();\n        },\n\n        /**\n         * @ngdoc method\n         * @name $cookies#put\n         *\n         * @description\n         * Sets a value for given cookie key\n         *\n         * @param {string} key Id for the `value`.\n         * @param {string} value Raw value to be stored.\n         * @param {Object=} options Options object.\n         *    See {@link ngCookies.$cookiesProvider#defaults $cookiesProvider.defaults}\n         */\n        put: function(key, value, options) {\n          $$cookieWriter(key, value, calcOptions(options));\n        },\n\n        /**\n         * @ngdoc method\n         * @name $cookies#putObject\n         *\n         * @description\n         * Serializes and sets a value for given cookie key\n         *\n         * @param {string} key Id for the `value`.\n         * @param {Object} value Value to be stored.\n         * @param {Object=} options Options object.\n         *    See {@link ngCookies.$cookiesProvider#defaults $cookiesProvider.defaults}\n         */\n        putObject: function(key, value, options) {\n          this.put(key, angular.toJson(value), options);\n        },\n\n        /**\n         * @ngdoc method\n         * @name $cookies#remove\n         *\n         * @description\n         * Remove given cookie\n         *\n         * @param {string} key Id of the key-value pair to delete.\n         * @param {Object=} options Options object.\n         *    See {@link ngCookies.$cookiesProvider#defaults $cookiesProvider.defaults}\n         */\n        remove: function(key, options) {\n          $$cookieWriter(key, undefined, calcOptions(options));\n        }\n      };\n    }];\n  }]);\n\nangular.module('ngCookies').\n/**\n * @ngdoc service\n * @name $cookieStore\n * @deprecated\n * @requires $cookies\n *\n * @description\n * Provides a key-value (string-object) storage, that is backed by session cookies.\n * Objects put or retrieved from this storage are automatically serialized or\n * deserialized by angular's toJson/fromJson.\n *\n * Requires the {@link ngCookies `ngCookies`} module to be installed.\n *\n * <div class=\"alert alert-danger\">\n * **Note:** The $cookieStore service is **deprecated**.\n * Please use the {@link ngCookies.$cookies `$cookies`} service instead.\n * </div>\n *\n * @example\n *\n * ```js\n * angular.module('cookieStoreExample', ['ngCookies'])\n *   .controller('ExampleController', ['$cookieStore', function($cookieStore) {\n *     // Put cookie\n *     $cookieStore.put('myFavorite','oatmeal');\n *     // Get cookie\n *     var favoriteCookie = $cookieStore.get('myFavorite');\n *     // Removing a cookie\n *     $cookieStore.remove('myFavorite');\n *   }]);\n * ```\n */\n factory('$cookieStore', ['$cookies', function($cookies) {\n\n    return {\n      /**\n       * @ngdoc method\n       * @name $cookieStore#get\n       *\n       * @description\n       * Returns the value of given cookie key\n       *\n       * @param {string} key Id to use for lookup.\n       * @returns {Object} Deserialized cookie value, undefined if the cookie does not exist.\n       */\n      get: function(key) {\n        return $cookies.getObject(key);\n      },\n\n      /**\n       * @ngdoc method\n       * @name $cookieStore#put\n       *\n       * @description\n       * Sets a value for given cookie key\n       *\n       * @param {string} key Id for the `value`.\n       * @param {Object} value Value to be stored.\n       */\n      put: function(key, value) {\n        $cookies.putObject(key, value);\n      },\n\n      /**\n       * @ngdoc method\n       * @name $cookieStore#remove\n       *\n       * @description\n       * Remove given cookie\n       *\n       * @param {string} key Id of the key-value pair to delete.\n       */\n      remove: function(key) {\n        $cookies.remove(key);\n      }\n    };\n\n  }]);\n\n/**\n * @name $$cookieWriter\n * @requires $document\n *\n * @description\n * This is a private service for writing cookies\n *\n * @param {string} name Cookie name\n * @param {string=} value Cookie value (if undefined, cookie will be deleted)\n * @param {Object=} options Object with options that need to be stored for the cookie.\n */\nfunction $$CookieWriter($document, $log, $browser) {\n  var cookiePath = $browser.baseHref();\n  var rawDocument = $document[0];\n\n  function buildCookieString(name, value, options) {\n    var path, expires;\n    options = options || {};\n    expires = options.expires;\n    path = angular.isDefined(options.path) ? options.path : cookiePath;\n    if (angular.isUndefined(value)) {\n      expires = 'Thu, 01 Jan 1970 00:00:00 GMT';\n      value = '';\n    }\n    if (angular.isString(expires)) {\n      expires = new Date(expires);\n    }\n\n    var str = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n    str += path ? ';path=' + path : '';\n    str += options.domain ? ';domain=' + options.domain : '';\n    str += expires ? ';expires=' + expires.toUTCString() : '';\n    str += options.secure ? ';secure' : '';\n\n    // per http://www.ietf.org/rfc/rfc2109.txt browser must allow at minimum:\n    // - 300 cookies\n    // - 20 cookies per unique domain\n    // - 4096 bytes per cookie\n    var cookieLength = str.length + 1;\n    if (cookieLength > 4096) {\n      $log.warn(\"Cookie '\" + name +\n        \"' possibly not set or overflowed because it was too large (\" +\n        cookieLength + \" > 4096 bytes)!\");\n    }\n\n    return str;\n  }\n\n  return function(name, value, options) {\n    rawDocument.cookie = buildCookieString(name, value, options);\n  };\n}\n\n$$CookieWriter.$inject = ['$document', '$log', '$browser'];\n\nangular.module('ngCookies').provider('$$cookieWriter', function $$CookieWriterProvider() {\n  this.$get = $$CookieWriter;\n});\n\n\n})(window, window.angular);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/pascal/Documents/dev/gamebooks-assistant/~/angular-cookies/angular-cookies.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n *\n * ESTA WebJS: Angular-Modul der Komponenten\n * - Hier werden alle Komponenten als einheitliches Modul exportiert\n *\n * @author u220374 (Reto Lehmann)\n * @version: 0.0.1\n * @since 04.12.2015, 2015.\n */\nimport angular from 'angular';\nimport Gui from './gui/gui';\nimport Services from './services/services';\nimport Constants from './constants/constants';\n\nlet componentModule = angular.module('app.components', [\n    Constants.name, Services.name, Gui.name\n]);\n\nexport default componentModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/components.js\n **/","import angular from 'angular';\nimport Components from './components/components';\nimport Screens from './screens/screens';\n\nlet guiModule = angular.module('app.components.gui', [\n    Components.name, Screens.name\n]);\n\nexport default guiModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/gui.js\n **/","import angular from 'angular';\nimport Dices from './dices/dices';\nimport Messages from './messages/messages';\nimport Navbar from './navbar/navbar';\nimport LanguagePicker from './language-picker/language-picker';\nimport Popup from './popup/popup';\nimport Items from './items/items';\nimport Stats from './stats/stats';\nimport Paragraph from './paragraph/paragraph';\nimport BackButton from './back-button/back-button';\nimport EndGamePopup from './end-game-popup/end-game-popup';\nimport ExportDataPopup from './export-data-popup/export-data-popup';\nimport ImportDataPopup from './import-data-popup/import-data-popup';\n\nlet guiComponentsModule = angular.module('app.components.gui.components', [\n    Dices.name, Messages.name, Navbar.name, LanguagePicker.name, Popup.name, Items.name, Stats.name, Paragraph.name, BackButton.name, EndGamePopup.name, ExportDataPopup.name, ImportDataPopup.name\n]);\n\nexport default guiComponentsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/components.js\n **/","import angular from 'angular';\n\nimport template from './dices.html';\nimport controller from './dices.controller';\n\nlet dicesModule = angular.module('app.components.gui.components.dices', [])\n    .component('dices', { template, controller });\n\nexport default dicesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/dices/dices.js\n **/","module.exports = \"<form>\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:85%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>\\n                <ng-include src=\\\"'dice-image.html'\\\"></ng-include>\\n            </th>\\n            <th></th>\\n            <th>{{ 'Sum of dices value' | translate }}</th>\\n            <th></th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll1d6()\\\"\\n                        aria-label=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll one dice 6 faces' | translate }}\\\">\\n                    {{ 'x1' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default\\\"\\n                        ng-click=\\\"$ctrl.roll2d6()\\\"\\n                        aria-label=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\"\\n                        title=\\\"{{ 'Roll two dices 6 faces' | translate }}\\\">\\n                    {{ 'x2' | translate }}\\n                </button>\\n            </td>\\n            <td>\\n                {{ $ctrl.dicesValue }}\\n            </td>\\n            <td>\\n                <button class=\\\"btn btn-default glyphicon glyphicon-erase\\\"\\n                        title=\\\"{{ 'Clear values' | translate }}\\\"\\n                        aria-label=\\\"{{ 'Clear values' | translate }}\\\"\\n                        ng-click=\\\"$ctrl.clear()\\\">\\n\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/dices/dices.html\n ** module id = 17\n ** module chunks = 0\n **/","class DicesController {\n    /*@ngInject*/\n    constructor(dicesService) {\n        this.dicesService = dicesService;\n        this.clear();\n    }\n\n    roll2d6() {\n        this.appendToResult(this.dicesService.rollDices(2, 6));\n    }\n\n    roll1d6() {\n        this.appendToResult(this.dicesService.rollDices(1, 6));\n    }\n\n    clear() {\n        this.dicesValue = '';\n    }\n\n    appendToResult(value) {\n        if (this.dicesValue !== '') {\n            this.dicesValue = this.dicesValue + ','\n        }\n        this.dicesValue = this.dicesValue + value;\n    }\n\n}\n\nexport default DicesController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/dices/dices.controller.js\n **/","class MessagesService {\n    /*@ngInject*/\n    constructor($rootScope, $translate) {\n        this.$rootScope = $rootScope;\n        this.$translate = $translate;\n\n        if (!this.$rootScope.messages) {\n            this.$rootScope.messages = [];\n        }\n    }\n\n    getMessages() {\n        return this.$rootScope.messages || [];\n    }\n\n    clearMessages() {\n        this.$rootScope.messages.forEach((msg, index, arr) => {\n            if (!msg.keepAfterLocationChange) {\n                arr.splice(index, 1);\n            }\n        });\n    }\n\n    removeMessage(index) {\n        this.$rootScope.messages.splice(index, 1);\n    }\n\n    successMessage(msg, keepAfterLocationChange) {\n        this._addMessage(msg, 'success', keepAfterLocationChange);\n    }\n\n    errorMessage(msg, keepAfterLocationChange) {\n        this._addMessage(msg, 'error', keepAfterLocationChange);\n    }\n\n    infoMessage(msg, keepAfterLocationChange) {\n        this._addMessage(msg, 'info', keepAfterLocationChange);\n    }\n\n    _addMessage(msg, type, keepAfterLocationChange) {\n        let translatedMsg = this.$translate.instant(msg);\n        if (!this._hasMessage(translatedMsg, type)) {\n            this.$rootScope.messages.push({\n                message: translatedMsg,\n                type: type,\n                keepAfterLocationChange: keepAfterLocationChange\n            });\n        }\n    }\n\n    _hasMessage(msg, type) {\n        let hasMessage = false;\n        for (let i = 0; i < this.$rootScope.messages.length; i++) {\n            if (this.$rootScope.messages[i].message === msg && this.$rootScope.messages[i].type === type) {\n                hasMessage = true;\n                break;\n            }\n        }\n        return hasMessage;\n    }\n}\n\nexport default MessagesService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/messages/messages.service.js\n **/","module.exports = \"<div ng-repeat=\\\"msg in $ctrl.messages\\\">\\n    <div class=\\\"alert alert-{{ msg.type === 'error' ? 'danger' : msg.type }}\\\">\\n        {{ msg.message }}\\n        <a class=\\\"close\\\" ng-click=\\\"$ctrl.removeMessage($index)\\\">&times;</a>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/messages/messages.html\n ** module id = 21\n ** module chunks = 0\n **/","class MessagesController {\n    /*@ngInject*/\n    constructor(messagesService, $rootScope) {\n        this.messagesService = messagesService;\n\n        $rootScope.$on('$locationChangeStart', () => this.messagesService.clearMessages());\n\n        this.messages = messagesService.getMessages();\n    }\n\n    removeMessage(index) {\n        this.messagesService.removeMessage(index);\n    }\n}\n\nexport default MessagesController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/messages/messages.controller.js\n **/","/*\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2016.\n */\nclass NavbarController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $location, languagePickerService) {\n        this.languagePickerService = languagePickerService;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        let params = $location.search();\n        if (!!params.admin) {\n            this.admin = true;\n        }\n        this.navCollapsed = true;\n        this.initData();\n    }\n\n    initData() {\n        this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n        this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n    }\n\n    changeLanguage(selectedLanguage) {\n        this.language = selectedLanguage;\n        this.languagePickerService.changeLanguage(selectedLanguage);\n    }\n}\n\nexport default NavbarController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/navbar/navbar.controller.js\n **/","import angular from 'angular';\n\nimport template from './language-picker.html';\nimport controller from './language-picker.controller';\nimport service from './language-picker.service';\n\nlet languagePickerModule = angular.module('app.components.gui.components.language-picker', [])\n    .component('languagePicker', { template, controller })\n    .service('languagePickerService', service);\n\nexport default languagePickerModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/language-picker/language-picker.js\n **/","class LanguagePickerController {\n    /*@ngInject*/\n    constructor(languagePickerService) {\n        this.languagePickerService = languagePickerService;\n        this.initData();\n    }\n\n    initData() {\n        this.supportedLanguages = this.languagePickerService.getSupportedLanguages();\n        this.changeLanguage(this.languagePickerService.getSelectedLanguage());\n    }\n\n    changeLanguage(selectedLanguage) {\n        this.languagePickerService.changeLanguage(selectedLanguage);\n    }\n}\n\nexport default LanguagePickerController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/language-picker/language-picker.controller.js\n **/","class LanguagePickerService {\n\n    /*@ngInject*/\n    constructor(gamePersistenceService, $translate, constants) {\n        this.gamePersistenceService = gamePersistenceService;\n        this.$translate = $translate;\n        this.constants = constants;\n        this.supportedLanguages = this.initSupportedLanguages();\n    }\n\n    initSupportedLanguages() {\n        let supportedLanguages = [];\n        for (let i = 0; i < this.constants.supportedLanguages.length; i++) {\n            supportedLanguages.push({\n                code : this.constants.supportedLanguages[i]\n            });\n        }\n        return supportedLanguages;\n    }\n\n    getSupportedLanguages() {\n        return this.supportedLanguages;\n    }\n\n    getSelectedLanguage() {\n        let selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n        if (!!selectedLanguage) {\n            return selectedLanguage;\n        } else if (!!navigator.language) {\n            let i;\n            for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n                if (this.constants.supportedLanguages[i] === navigator.language) {\n                    return this.constants.supportedLanguages[i];\n                }\n            }\n\n            for (i = 0; i < this.constants.supportedLanguages.length; i++) {\n                if (navigator.language.startsWith(this.constants.supportedLanguages[i])) {\n                    return this.constants.supportedLanguages[i];\n                }\n            }\n        }\n        return this.constants.supportedLanguages[0];\n    }\n\n    changeLanguage(selectedLanguage) {\n        this.$translate.use(selectedLanguage);\n        this.gamePersistenceService.setSelectedLanguage(selectedLanguage);\n        for (let i = 0; i < this.supportedLanguages.length; i++) {\n            this.supportedLanguages[i].selected = (this.supportedLanguages[i].code === selectedLanguage);\n        }\n    }\n}\n\nexport default LanguagePickerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/language-picker/language-picker.service.js\n **/","import angular from 'angular';\n\nimport template from './popup.html';\nimport controller from './popup.controller';\nimport popupService from './popup.service';\n\nlet popupModule = angular.module('app.components.gui.components.popup', [])\n    .component('popup', {\n        template,\n        controller,\n        bindings: {\n            config: '@'\n        }\n    })\n    .service('popupService', popupService);\n\nexport default popupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/popup/popup.js\n **/","module.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <span class=\\\"close glyphicon glyphicon-remove-circle\\\" ng-click=\\\"$ctrl.close()\\\" ng-show=\\\"$ctrl.cfg.withCloseButton\\\"></span>\\n        <p>{{ $ctrl.cfg.text | translate }}</p>\\n        <span ng-repeat=\\\"choice in $ctrl.cfg.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/popup/popup.html\n ** module id = 31\n ** module chunks = 0\n **/","class PopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService) {\n        this.cfg = JSON.parse(this.config);\n        this.popupService = popupService;\n        if (this.cfg.closeOnClickOutsideModal) {\n            this.close();\n        }\n    }\n\n    select(choice) {\n        this.close(choice);\n    }\n\n    close(choice) {\n        this.popupService.close(this.cfg.id, choice);\n    }\n}\n\nexport default PopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/popup/popup.controller.js\n **/","class PopupService {\n\n    /*@ngInject*/\n    constructor() {\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    close(popupDomElementId, choice) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback) {\n            callback(popupDomElementId, choice);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default PopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/popup/popup.service.js\n **/","import angular from 'angular';\n\nimport template from './items.html';\nimport controller from './items.controller';\n\nlet itemsModule = angular.module('app.components.gui.screen.items', [])\n    .component('items', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@?',\n            items: '='\n        }\n     });\n\nexport default itemsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/items/items.js\n **/","module.exports = \"<form name=\\\"itemsTableForm\\\" novalidate=\\\"novalidate\\\">\\n    <table class=\\\"table table-striped\\\">\\n        <col style=\\\"width:10%\\\">\\n        <col style=\\\"width:75%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <col style=\\\"width:5%\\\">\\n        <thead>\\n        <tr>\\n            <th>{{ 'Quantity' | translate }}</th>\\n            <th>{{ 'Item' | translate }}</th>\\n            <th></th>\\n            <th></th>\\n            <th>\\n                <button type=\\\"button\\\"\\n                        class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Add item' | translate}}\\\"\\n                        title=\\\"{{ 'Add item' | translate}}\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\"\\n                        ng-click=\\\"$ctrl.addRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </th>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.quantity }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"quantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.quantity\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.quantity\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the quantity' | translate }}\\n                </div>\\n            </td>\\n\\n            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                {{ row.description }}\\n            </td>\\n            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                <input required name=\\\"description\\\" type=\\\"text\\\" class=\\\"form-control description\\\" ng-model=\\\"row.description\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"!row.description\\\">\\n                    <!-- check error only on field -->\\n                    {{ 'Please fill the description' | translate }}\\n                </div>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                        aria-label=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Save item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.saveRowChanges(notesTableForm.$invalid)\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        title=\\\"{{ 'Abort item changes' | translate}}\\\"\\n                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n\\n            <td>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                        aria-label=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Edit item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                        aria-label=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        title=\\\"{{ 'Remove item' | translate }} '{{ row.description | translate }}'\\\"\\n                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                </button>\\n            </td>\\n        </tr>\\n        </tbody>\\n    </table>\\n</form>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteItemConfig }}\\\"></popup>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/items/items.html\n ** module id = 35\n ** module chunks = 0\n **/","class ItemsController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.rows = this.items;\n        this.popupService = popupService;\n        this.constants = constants;\n        this.gamePersistenceService = gamePersistenceService;\n\n        this.popupDeleteItemConfig = {\n            id : 'popupDeleteItem',\n            text : 'Are you sure to remove the item?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n    }\n\n    addRow() {\n        let row = { quantity: 1};\n        this.rows.push(row);\n        this.addedRow = row;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteItemConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.rows.indexOf(removedRow);\n        this.rows.splice(index, 1);\n        this.clearEditedRow();\n        this.saveInPersistence();\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = { quantity : row.quantity, description : row.description };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    saveRowChanges($invalid) {\n        if ($invalid) {\n            return ;\n        }\n        this.clearEditedRow();\n        this.saveInPersistence();\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.quantity = this.originalRow.quantity;\n            this.editedRow.description = this.originalRow.description;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n\n    saveInPersistence() {\n        if (!!this.gameId) {\n            let updatedGame = this.gamePersistenceService.getGame(this.gameId);\n            updatedGame.items = this.items;\n            this.gamePersistenceService.updateGame(updatedGame);\n        }\n    }\n}\n\nexport default ItemsController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/items/items.controller.js\n **/","import angular from 'angular';\n\nimport template from './stats.html';\nimport controller from './stats.controller';\n\nlet statsModule = angular.module('app.components.gui.screen.stats', [])\n    .component('stats', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@',\n            stats: '='\n        }\n    });\n\nexport default statsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/stats/stats.js\n **/","class StatsController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, gamePersistenceService) {\n        this.gamePersistenceService = gamePersistenceService;\n        preScreenLoadingInterceptorsCallerService.intercept();\n    }\n\n    increment(row) {\n        row.current = row.current + 1;\n        this.save();\n    }\n\n    decrement(row) {\n        row.current = row.current - 1;\n        this.save();\n    }\n\n    save() {\n        let updatedGame = this.gamePersistenceService.getGame(this.gameId);\n        updatedGame.stats = this.stats;\n        this.gamePersistenceService.updateGame(updatedGame);\n    }\n}\n\nexport default StatsController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/stats/stats.controller.js\n **/","import angular from 'angular';\n\nimport template from './paragraph.html';\nimport controller from './paragraph.controller';\n\nlet paragraphModule = angular.module('app.components.gui.screen.paragraph', [])\n    .component('paragraph', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@',\n            paragraph: '='\n        }\n    });\n\nexport default paragraphModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/paragraph/paragraph.js\n **/","class ParagraphController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService, $location) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.popupService = popupService;\n        this.constants = constants;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$location = $location;\n\n        this.popupDeleteChoiceConfig = {\n            id : 'popupDeleteChoice',\n            text : 'Are you sure to remove the choice?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.initData();\n    }\n\n    initData() {\n        let game = this.gamePersistenceService.getGame(this.gameId);\n        this.adventureId = game.adventureId;\n        this.playerName = game.playerName;\n        this.descriptionEditable = false;\n        this.alreadyChoosen = this.gamePersistenceService.getChoosenChoices(this.gameId, this.paragraph.paragraphNr);\n    }\n\n    addRow() {\n        let row = { paragraphNr : this.inputParagraphNr, description : this.inputDescription };\n        this.paragraph.choices.push(row);\n        this.inputParagraphNr = '';\n        this.inputDescription = '';\n        this.addedRow = row;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteChoiceConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n\n    removeRow(removedRow) {\n        var index = this.paragraph.choices.indexOf(removedRow);\n        this.paragraph.choices.splice(index, 1);\n        this.clearEditedRow();\n        this.saveParagraphChoices();\n    }\n\n    editDescription() {\n        this.descriptionEditable = true;\n        this.originalDescription = this.paragraph.description;\n    }\n\n    isDescriptionEditable() {\n        return this.descriptionEditable;\n    }\n\n    saveDescriptionChanges() {\n        this.originalDescription = null;\n        this.descriptionEditable = false;\n        this.adventurePersistenceService.updateParagraph(this.bookId, this.paragraph);\n    }\n\n    abortDescriptionChanges() {\n        this.paragraph.description = this.originalDescription;\n        this.originalDescription = null;\n        this.descriptionEditable = false;\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = { paragraphNr : row.paragraphNr, description : row.description };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    saveRowChanges($invalid) {\n        if ($invalid) {\n            return ;\n        }\n        this.clearEditedRow();\n        this.saveParagraphChoices();\n    }\n\n    saveParagraphChoices() {\n        this.adventurePersistenceService.updateParagraph(this.adventureId, this.paragraph);\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n            this.editedRow.description = this.originalRow.description;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n\n    goTo(paragraphNr) {\n        this.gamePersistenceService.setCurrentParagraphNrOfGame(this.gameId, this.paragraph.paragraphNr, paragraphNr);\n        let nextUrl = this.gamePersistenceService.getUrlOfGame(this.gameId);\n        this.$location.url(nextUrl);\n    }\n\n    isAlreadyChoosen(choice) {\n        return this.alreadyChoosen.indexOf(choice.paragraphNr) !== -1;\n    }\n}\n\nexport default ParagraphController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/paragraph/paragraph.controller.js\n **/","import angular from 'angular';\n\nimport template from './back-button.html';\nimport controller from './back-button.controller';\n\nlet backButtonModule = angular.module('app.components.gui.components.back-button', [])\n    .component('backButton', { template, controller });\n\nexport default backButtonModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/back-button/back-button.js\n **/","class BackButtonController {\n    /*@ngInject*/\n    constructor($window) {\n        this.$window = $window;\n    }\n\n    isBackDisabled() {\n        return this.$window.history.length < 2;\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n}\n\nexport default BackButtonController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/back-button/back-button.controller.js\n **/","import angular from 'angular';\n\nimport template from './end-game-popup.html';\nimport controller from './end-game-popup.controller';\nimport endGamePopupService from './end-game-popup.service';\n\nlet endGamePopupModule = angular.module('app.components.gui.components.end-game-popup', [])\n    .component('endGamePopup', {\n        template,\n        controller,\n        bindings: {\n            config: '@'\n        }\n    })\n    .service('endGamePopupService', endGamePopupService);\n\nexport default endGamePopupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/end-game-popup/end-game-popup.js\n **/","module.exports = \"<div id=\\\"{{$ctrl.cfg.id}}\\\" class=\\\"modal\\\">\\n    <div class=\\\"modal-content\\\">\\n        <h1>{{ 'Are you sure to abandon this game?' | translate }}</h1>\\n\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"endGameReason\\\">{{ \\\"End game's reason\\\" | translate }}</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"endGameReason\\\" ng-model=\\\"$ctrl.endGameReason\\\">\\n        </div>\\n\\n        <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice)\\\">{{ choice | translate }}</button>&nbsp;\\n        </span>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/end-game-popup/end-game-popup.html\n ** module id = 47\n ** module chunks = 0\n **/","class EndGamePopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, endGamePopupService, constants) {\n        this.cfg = JSON.parse(this.config);\n        this.constants = constants;\n        this.endGamePopupService = endGamePopupService;\n        this.choices = [constants.choices.yes, constants.choices.no];\n    }\n\n    select(choice) {\n        this.close(choice);\n    }\n\n    close(choice) {\n        this.endGamePopupService.close(this.cfg.id, choice, this.endGameReason);\n    }\n}\n\nexport default EndGamePopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/end-game-popup/end-game-popup.controller.js\n **/","class EndGamePopupService {\n\n    /*@ngInject*/\n    constructor(constants) {\n        this.constants = constants;\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    close(popupDomElementId, choice, endGameReason) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback && choice === this.constants.choices.yes) {\n            callback(popupDomElementId, endGameReason);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default EndGamePopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/end-game-popup/end-game-popup.service.js\n **/","import angular from 'angular';\n\nimport template from './export-data-popup.html';\nimport controller from './export-data-popup.controller';\nimport exportDataPopupService from './export-data-popup.service';\n\nlet exportDataPopupModule = angular.module('app.components.gui.components.export-data-popup', [])\n    .component('exportDataPopup', {\n        template,\n        controller,\n        bindings: {\n            config: '<'\n        }\n    })\n    .service('exportDataPopupService', exportDataPopupService)\n    .constant('exportMethods', { file:'file', text:'text', email:'email'});\n\nexport default exportDataPopupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/export-data-popup/export-data-popup.js\n **/","module.exports = \"<form name=\\\"exportDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.exportTitle}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"exportMethod\\\">{{ 'Select the export method' | translate }}</label>\\n                <select id=\\\"exportMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.exportMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'export_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportText()\\\">\\n                <label for=\\\"exportText\\\">{{ \\\"Export text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"exportText\\\" rows=\\\"4\\\"ng-model=\\\"$ctrl.config.exportData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayExportEmail()\\\">\\n                <label for=\\\"exportEmail\\\">{{ \\\"Receiver Email\\\" | translate }}</label>\\n                <input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"exportEmail\\\" ng-model=\\\"$ctrl.exportEmail\\\" required>\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, exportDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n\\n            <a id=\\\"linkSendEmail\\\" ng-show=\\\"false\\\" href=\\\"mailto:{{$ctrl.exportEmail}}?subject={{$ctrl.config.exportTitle}}&body={{$ctrl.config.exportData}}\\\">{{ 'Sent' | translate }}</a>\\n            <a id=\\\"linkDownload\\\" ng-show=\\\"false\\\" ng-href=\\\"{{$ctrl.config.exportDownloadBlobUrl}}\\\" download=\\\"export.txt\\\">{{ 'Download' | translate }}</a>\\n        </div>\\n    </div>\\n</form>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/export-data-popup/export-data-popup.html\n ** module id = 51\n ** module chunks = 0\n **/","class ExportDataPopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, exportDataPopupService, constants, exportMethods, $window, formHelperService) {\n        this.constants = constants;\n        this.exportDataPopupService = exportDataPopupService;\n        this.exportMethods = exportMethods;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n\n        this.choices = [constants.choices.cancel, constants.choices.ok];\n        this.methods = [ exportMethods.text, exportMethods.file, exportMethods.email ];\n        this.exportMethod = exportMethods.text;\n    }\n\n    select(choice, form) {\n        this.formHelperService.setErrorFieldsAsDirty(form, false);\n        if (!form.$invalid) {\n            if (choice === this.constants.choices.ok) {\n                if (this.displayExportEmail()) {\n                    let href = window.document.getElementById('linkSendEmail');\n                    window.document.getElementById('exportDataForm');\n                    href.click();\n                } else if (this.displayDownload()) {\n                    let href = window.document.getElementById('linkDownload');\n                    href.click();\n                }\n            }\n            this.close(choice);\n        }\n    }\n\n    close(choice) {\n        this.exportDataPopupService.close(this.config.id, choice);\n    }\n\n    displayExportText() {\n        return !!this.exportMethod && this.exportMethod === this.exportMethods.text;\n    }\n\n    displayDownload() {\n        return !!this.exportMethod && this.exportMethod === this.exportMethods.file;\n    }\n\n    displayExportEmail() {\n        return !!this.exportMethod && this.exportMethod === this.exportMethods.email;\n    }\n}\n\nexport default ExportDataPopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/export-data-popup/export-data-popup.controller.js\n **/","class ExportDataPopupService {\n\n    /*@ngInject*/\n    constructor(constants, $window) {\n        this.constants = constants;\n        this.$window = $window;\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    createDownloadBlobUrl(data) {\n        let blob = new Blob([data], { type: 'text/plain' });\n        let url = this.$window.URL || this.$window.webkitURL;\n        return url.createObjectURL(blob);\n    }\n\n    close(popupDomElementId, choice, endGameReason) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback && choice === this.constants.choices.ok) {\n            callback(popupDomElementId, choice);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default ExportDataPopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/export-data-popup/export-data-popup.service.js\n **/","import angular from 'angular';\n\nimport template from './import-data-popup.html';\nimport controller from './import-data-popup.controller';\nimport importDataPopupService from './import-data-popup.service';\n\nlet importDataPopupModule = angular.module('app.components.gui.components.import-data-popup', [])\n    .component('importDataPopup', {\n        template,\n        controller,\n        bindings: {\n            config: '<'\n        }\n    })\n    .service('importDataPopupService', importDataPopupService)\n    .constant('importMethods', { file:'file', text:'text'});\n\nexport default importDataPopupModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/import-data-popup/import-data-popup.js\n **/","module.exports = \"<form name=\\\"importDataForm\\\" novalidate=\\\"novalidate\\\">\\n    <div id=\\\"{{$ctrl.config.id}}\\\" class=\\\"modal\\\">\\n        <div class=\\\"modal-content\\\">\\n            <h1>{{$ctrl.config.title}}</h1>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"importMethod\\\">{{ 'Select the import method' | translate }}</label>\\n                <select id=\\\"importMethod\\\" class=\\\"form-control\\\" ng-model=\\\"$ctrl.importMethod\\\">\\n                    <option ng-repeat=\\\"method in $ctrl.methods\\\" value=\\\"{{ method }}\\\">{{ 'import_' + method | translate }}</option>\\n                </select>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayImportText()\\\">\\n                <label for=\\\"importText\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <textarea class=\\\"form-control\\\" id=\\\"importText\\\" rows=\\\"4\\\" ng-model=\\\"$ctrl.importTextData\\\" required>\\n                </textarea>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-if=\\\"$ctrl.displayUpload()\\\">\\n                <label for=\\\"importUpload\\\">{{ \\\"Import text\\\" | translate }}</label>\\n                <input id=\\\"importUpload\\\" type=\\\"file\\\" ng-model=\\\"$ctrl.uploadFile\\\" on-read-file=\\\"$ctrl.showContent($fileContent)\\\" />\\n            </div>\\n\\n            <span ng-repeat=\\\"choice in $ctrl.choices\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.select(choice, importDataForm)\\\">{{ choice | translate }}</button>&nbsp;\\n            </span>\\n        </div>\\n    </div>\\n</form>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/components/import-data-popup/import-data-popup.html\n ** module id = 55\n ** module chunks = 0\n **/","class ImportDataPopupController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, importDataPopupService, constants, importMethods, $window, formHelperService) {\n        this.constants = constants;\n        this.importDataPopupService = importDataPopupService;\n        this.importMethods = importMethods;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n\n        this.choices = [constants.choices.cancel, constants.choices.ok];\n        this.methods = [ importMethods.text, importMethods.file ];\n        this.importMethod = importMethods.text;\n    }\n\n    select(choice, form) {\n        if (choice === this.constants.choices.cancel) {\n            this.close(choice);\n        } else if (choice === this.constants.choices.ok) {\n            this.formHelperService.setErrorFieldsAsDirty(form, false);\n            if (!form.$invalid) {\n                let importData = null;\n                if (this.importMethod === this.importMethods.text) {\n                    importData = this.importTextData;\n                } else if (this.importMethod === this.importMethods.file) {\n                    importData = this.importUploadData;\n                }\n                this.close(choice, importData);\n                this.importTextData = null;\n                this.importUploadData = null;\n            }\n        }\n    }\n\n    close(choice, importData) {\n        this.importDataPopupService.close(this.config.id, choice, importData);\n    }\n\n    displayImportText() {\n        return !!this.importMethod && this.importMethod === this.importMethods.text;\n    }\n\n    displayUpload() {\n        return !!this.importMethod && this.importMethod === this.importMethods.file;\n    }\n\n    showContent($fileContent) {\n        this.importUploadData = $fileContent;\n    }\n}\n\nexport default ImportDataPopupController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/import-data-popup/import-data-popup.controller.js\n **/","class ImportDataPopupService {\n\n    /*@ngInject*/\n    constructor(constants) {\n        this.constants = constants;\n        this.popups = {};\n    }\n\n    show(popupDomElementId, callback) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"block\";\n\n        this.popups[popupDomElementId] = callback;\n    }\n\n    close(popupDomElementId, choice, data) {\n        let modalElement = window.document.getElementById(popupDomElementId);\n        modalElement.style.display = \"none\";\n\n        let callback = this.popups[popupDomElementId];\n        if (!!callback && choice === this.constants.choices.ok) {\n            callback(popupDomElementId, data);\n        }\n        delete this.popups[popupDomElementId];\n    }\n}\n\nexport default ImportDataPopupService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/components/import-data-popup/import-data-popup.service.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './home.html';\nimport controller from './home.controller';\n\nlet homeModule = angular.module('app.components.gui.screen.home', [\n    uiRouter, \"app.components.constants\"\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('home', {\n            url: constants.url.root, template: '<home></home>'\n        });\n    })\n\n    .component('home', { template, controller });\n\nexport default homeModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/home/home.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/home/home.html\n ** module id = 60\n ** module chunks = 0\n **/","class HomeController {\n\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        $location.url(constants.url.games);\n    }\n}\n\nexport default HomeController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/home/home.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './games-list.html';\nimport controller from './games-list.controller';\n\nlet gamesListModule = angular.module('app.components.gui.screen.games.list', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('gamesList', {\n            url: constants.url.games, template: '<games-list></games-list>'\n        });\n    })\n\n    .component('gamesList', { template, controller });\n\nexport default gamesListModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/list/games-list.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Games' | translate }}</h1>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <table class=\\\"table table-striped\\\">\\n                    <col style=\\\"width:25%\\\">\\n                    <col style=\\\"width:20% \\\">\\n                    <col style=\\\"width:15% \\\">\\n                    <col style=\\\"width:20%\\\">\\n                    <col style=\\\"width:15%\\\">\\n                    <col style=\\\"width:5%\\\">\\n                    <thead>\\n                    <tr>\\n                        <th>{{ 'Adventure' | translate }}</th>\\n                        <th>{{ 'Serie' | translate }}</th>\\n                        <th>{{ 'Player' | translate }}</th>\\n                        <th>{{ 'State' | translate }}</th>\\n                        <th>{{ 'Paragraph' | translate }}</th>\\n                        <th>{{ 'Selection' | translate }}</th>\\n                    </tr>\\n                    </thead>\\n                    <tbody>\\n                    <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                        <td>{{ row.adventureName }}</td>\\n                        <td>{{ row.serie }}</td>\\n                        <td>{{ row.playerName }}</td>\\n                        <td>{{ (!!row.endGameReason ? 'game over' : 'in progress') | translate }}\\n                            {{ (!!row.endGameReason ? \\\": '\\\" + row.endGameReason + \\\"'\\\" : '' ) }}\\n                        </td>\\n                        <td>{{ row.currentParagraphNr }}</td>\\n                        <td>\\n                            <button type=\\\"button\\\" class=\\\"btn\\\" ng-class=\\\"{ 'btn-success' : row.selected, 'btn-default' : !row.selected}\\\"\\n                                    aria-label=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventurekName, playerName: row.playerName}) }}\\\"\\n                                    title=\\\"{{ !row.selected ?\\n                                        ('ChoiceGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) :\\n                                        ('ChoosenGame' | translate: {adventureName: row.adventureName, playerName: row.playerName}) }}\\\"\\n                                    ng-click=\\\"$ctrl.select(row)\\\">\\n                                <span ng-class=\\\"{ 'glyphicon glyphicon-ok' : row.selected, 'glyphicon glyphicon-hand-left' : !row.selected}\\\" aria-hidden=\\\"true\\\"></span>\\n                            </button>\\n                        </td>\\n                    </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-click=\\\"$ctrl.startNewGame()\\\"\\n                aria-label=\\\"{{ 'Start a new game' | translate }}\\\"\\n                title=\\\"{{ 'Start a new game' | translate }}\\\">{{ 'New game' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                aria-label=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                title=\\\"{{ 'Import an adventure' | translate }}\\\"\\n                ng-click=\\\"$ctrl.displayImportGamePopup()\\\">{{ 'Import' | translate }}</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.continueGame()\\\"\\n                aria-label=\\\"{{ 'Continue the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Continue the selected game' | translate }}\\\">{{ 'Continue' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayRemoveGamePopup()\\\"\\n                aria-label=\\\"{{ 'Remove the selected game' | translate }}\\\"\\n                title=\\\"{{ 'Remove the selected game' | translate }}\\\">{{ 'Remove' | translate }}\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                ng-disabled=\\\"!$ctrl.hasSelectedRow()\\\"\\n                ng-click=\\\"$ctrl.displayExportGamePopup()\\\"\\n                aria-label=\\\"{{ 'Export selected adventure' | translate }}\\\"\\n                title=\\\"{{ 'Export selected adventure' | translate }}\\\">{{ 'Export' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteGameConfig }}\\\"></popup>\\n<export-data-popup config=\\\"$ctrl.popupExportGameConfig\\\"></export-data-popup>\\n<import-data-popup config=\\\"$ctrl.popupImportGameConfig\\\"></import-data-popup>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/games/list/games-list.html\n ** module id = 64\n ** module chunks = 0\n **/","class GamesListController {\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.popupService = popupService;\n        this.exportDataPopupService = exportDataPopupService;\n        this.importDataPopupService = importDataPopupService;\n\n        this.popupDeleteGameConfig = {\n            id : 'popupDeleteGame',\n            text : 'Are you sure to remove the selected game?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.popupExportGameConfig = { id : 'popupExportGame' };\n        this.popupImportGameConfig = { id : 'popupImportGame' };\n\n        this.initData();\n    }\n\n    initData() {\n        let gamePersistenceKeys = this.gamePersistenceService.getGamePersistenceKeys();\n        this.rows = [];\n        for (let i = 0; i < gamePersistenceKeys.length; i++) {\n            let game = this.gamePersistenceService.getGame(gamePersistenceKeys[i]);\n            this.rows.push(game);\n        }\n\n        this.completeAdventureData(this.rows);\n    }\n\n    completeAdventureData(games) {\n        for (let i = 0; i < games.length; i++) {\n            let adventure = this.adventurePersistenceService.getAdventure(games[i].adventureId);\n            if (!!adventure) {\n                games[i].adventureName = adventure.name;\n                games[i].serie = adventure.serie;\n            } else {\n                this.messagesService.errorMessage(this.$translate.instant('Cannot find adventure') + \" '\"  + games[i].adventureId + \"'\", false);\n                games[i].adventureName = games[i].adventureId;\n            }\n        }\n    }\n\n    select(row) {\n        for (let i = 0; i < this.rows.length; i++) {\n            this.rows[i].selected = false;\n        }\n        row.selected = true;\n    }\n\n    startNewGame() {\n        let adventureKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n        if (!adventureKeys || adventureKeys.length === 0) {\n            this.messagesService.errorMessage('No adventure available', false);\n            return ;\n        }\n        this.$location.url(this.constants.url.selectAdventureForNewGame);\n    }\n\n    continueGame() {\n        let game = this.gamePersistenceService.getGame(this.getSelectedRow().id);\n        let adventure = this.adventurePersistenceService.getAdventure(game.adventureId);\n        if (!adventure) {\n            this.messagesService.errorMessage('The adventure is not available', false)\n        } else {\n            let nextUrl = this.gamePersistenceService.getUrlOfGame(this.getSelectedRow().id);\n            this.$location.url(nextUrl);\n        }\n    }\n\n    displayRemoveGamePopup() {\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteGameConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.deleteGame();\n                }\n            }\n        );\n    }\n\n    deleteGame() {\n        this.gamePersistenceService.deleteGame(this.getSelectedRow().id, true, true);\n        this.initData();\n    }\n\n    displayExportGamePopup() {\n        let self = this;\n        this.popupExportGameConfig.exportData = JSON.stringify(this.gamePersistenceService.getGame(this.getSelectedRow().id));\n        this.popupExportGameConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportGameConfig.exportData);\n        this.popupExportGameConfig.exportTitle = this.$translate.instant('ExportGame', {playerName: this.getSelectedRow().playerName, adventureName: this.getSelectedRow().adventureName });\n        this.exportDataPopupService.show(this.popupExportGameConfig.id);\n    }\n\n    displayImportGamePopup() {\n        let self = this;\n        this.popupImportGameConfig.title = this.$translate.instant('Import a game');\n        this.importDataPopupService.show(\n            this.popupImportGameConfig.id,\n            function(popupDomElementId, data) {\n                self.gamePersistenceService.importGame(data);\n                self.initData();\n            }\n        );\n    }\n\n    hasSelectedRow() {\n        return !!this.getSelectedRow();\n    }\n\n\n    getSelectedRow() {\n        for (let i = 0; i < this.rows.length; i++) {\n            if (!!this.rows[i].selected) {\n                return this.rows[i];\n            }\n        }\n        return null;\n    }\n}\n\nexport default GamesListController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/list/games-list.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\nimport Notes from './notes/notes';\n\nimport template from './game-detail.html';\nimport controller from './game-detail.controller';\n\nlet gameDetailModule = angular.module('app.components.gui.screen.games.detail', [\n    uiRouter, Notes.name\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n        $stateProvider.state('game-detail', {\n            url: constants.url.gameDetail, template: '<game-detail></game-detail>'\n        });\n    })\n\n    .component('gameDetail', { template, controller });\n\nexport default gameDetailModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/game-detail.js\n **/","import angular from 'angular';\n\nimport template from './notes.html';\nimport controller from './notes.controller';\n\nlet notesModule = angular.module('app.components.gui.screen.games.detail.notes', [])\n    .component('notes', {\n        template,\n        controller,\n        bindings: {\n            gameId: '@',\n            paragraphNr: '@',\n            adventureId : '@'\n        }\n    });\n\nexport default notesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/notes/notes.js\n **/","class NotesController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, popupService, constants, gamePersistenceService, adventurePersistenceService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n\n        this.popupService = popupService;\n        this.constants = constants;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n\n        this.popupDeleteNoteConfig = {\n            id : 'popupDeleteNoteConfig',\n            text : 'Are you sure to remove the note?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.initData();\n    }\n\n    initData() {\n        let game;\n        if (!!this.gameId) {\n            game = this.gamePersistenceService.getGame(this.gameId);\n        }\n\n        this.notes = [];\n        let paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n        if (!!paragraph && !!paragraph.notes) {\n            for (let i = 0; i < paragraph.notes.length; i++) {\n                this.notes.push(paragraph.notes[i]);\n                paragraph.notes[i].paragraphNr = this.paragraphNr;\n                paragraph.notes[i].isParagraph = !!paragraph.notes[i].paragraphNr;\n                if (!paragraph.notes[i].playerName) {\n                    paragraph.notes[i].note = paragraph.notes[i].note;\n                }\n            }\n        }\n\n        if (!!game) {\n            this.playerName = game.playerName;\n            if (!!game.notes) {\n                this.notes = this.notes.concat(game.notes);\n            }\n        }\n    }\n\n    addRow(noteValue) {\n        let row = { note : noteValue, isParagraph : true, paragraphNr: this.paragraphNr, playerName : this.playerName };\n        this.notes.push(row);\n        this.addedRow = row;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteNoteConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.notes.indexOf(removedRow);\n        this.notes.splice(index, 1);\n        this.clearEditedRow();\n        this.saveNotes();\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = { note : row.note, paragraphNr : row.paragraphNr, playerName : row.playerName };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    saveRowChanges($invalid, row) {\n        if ($invalid) {\n            return ;\n        }\n\n        if (!!row.isParagraph) {\n            row.paragraphNr = Number(this.paragraphNr);\n        } else {\n            row.paragraphNr = undefined;\n        }\n\n        this.clearEditedRow();\n        this.saveNotes();\n    }\n\n    saveNotes() {\n        this.savePlayerNotes();\n        this.saveParagraphNotes();\n    }\n\n    savePlayerNotes() {\n        if (!this.gameId) {\n            return ;\n        }\n\n        let savedNotes = [];\n        for (let i = 0; i < this.notes.length; i++) {\n            if (!this.notes[i].paragraphNr) {\n                savedNotes.push({ note : this.notes[i].note, playerName : this.notes[i].playerName});\n            }\n        }\n        let game = this.gamePersistenceService.getGame(this.gameId);\n        game.notes = savedNotes;\n        this.gamePersistenceService.updateGame(game);\n    }\n\n    saveParagraphNotes() {\n        let savedNotes = [];\n        for (let i = 0; i < this.notes.length; i++) {\n            if (!!this.notes[i].paragraphNr) {\n                savedNotes.push({ note : this.notes[i].note, playerName : this.notes[i].playerName});\n            }\n        }\n        let paragraph = this.adventurePersistenceService.getParagraph(this.adventureId, this.paragraphNr);\n        paragraph.notes = savedNotes;\n        this.adventurePersistenceService.updateParagraph(this.adventureId, paragraph);\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.note = this.originalRow.note;\n            this.editedRow.paragraphNr = this.originalRow.paragraphNr;\n            this.editedRow.playerName = this.originalRow.playerName;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n}\n\nexport default NotesController;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/notes/notes.controller.js\n **/","class GameDetailController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $location, constants, endGamePopupService, $stateParams, gamePersistenceService, adventurePersistenceService, $translate, messagesService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.constants = constants;\n        this.endGamePopupService = endGamePopupService;\n        this.$stateParams = $stateParams;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$translate = $translate;\n        this.messagesService = messagesService;\n        this.items = [];\n        this.stats = [];\n\n        this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.gameId));\n        this.playerName = this.game.playerName;\n        if (!!this.game.items) {\n            this.items = this.items.concat(this.game.items);\n        }\n        if (!!this.game.stats) {\n            this.stats = this.stats.concat(this.game.stats);\n        }\n        this.adventureId = this.$stateParams.adventureId;\n        this.paragraph = this.adventurePersistenceService.getOrCreateParagraph(this.adventureId, this.$stateParams.paragraphNr);\n        this.popupAbandonGameConfig = { id : 'popupAbandonGame' };\n        this.checkAvailableAdventure();\n    }\n\n    checkAvailableAdventure() {\n        let adventure = this.adventurePersistenceService.getAdventure(this.adventureId);\n        if (!adventure) {\n            this.messagesService.errorMessage('The adventure is not available', false)\n        }\n    }\n\n    startBattle() {\n        this.$location.url(this.constants.url.battle + '/' + this.game.id);\n    }\n\n    displayAbandonGamePopup(removedRow) {\n        let self = this;\n        this.endGamePopupService.show(\n            this.popupAbandonGameConfig.id,\n            function(popupDomElementId, endGameReason) {\n                let updatedGame = self.gamePersistenceService.getGame(self.game.id);\n                updatedGame.endGameReason = endGameReason;\n                self.gamePersistenceService.updateGame(updatedGame);\n                self.$location.url(self.constants.url.games);\n            }\n        );\n    }\n\n}\n\nexport default GameDetailController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/detail/game-detail.controller.js\n **/","import angular from 'angular';\nimport SelectAdventure from './select-adventure/select-adventure';\nimport CreatePlayer from './create-player/create-player';\nimport ChooseItems from './choose-items/choose-items';\n\nlet createGameWizardModule = angular.module('app.components.gui.screens.games.create', [\n    SelectAdventure.name, CreatePlayer.name, ChooseItems.name\n]);\n\nexport default createGameWizardModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/create-game-wizard.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './select-adventure.html';\nimport controller from './select-adventure.controller';\n\nlet SelectAdventureModule = angular.module('app.components.gui.screen.games.create.select-adventure', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('select-adventure', {\n            url: constants.url.selectAdventureForNewGame, template: '<select-adventure></select-adventure>'\n        });\n    })\n\n    .component('selectAdventure', { template, controller });\n\nexport default SelectAdventureModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/select-adventure/select-adventure.js\n **/","class SelectAdventureController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, constants, $location, $window, adventurePersistenceService, $timeout) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.$window = $window;\n        this.constants = constants;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$timeout = $timeout;\n        this.initData();\n        this.setInitialFocus();\n    }\n\n    initData() {\n        let adventurePersistenceKeys = this.adventurePersistenceService.getAdventurePersistenceKeys();\n        this.adventures = [];\n        for (let i = 0; i < adventurePersistenceKeys.length; i++) {\n            let adventure = this.adventurePersistenceService.getAdventure(adventurePersistenceKeys[i]);\n            this.adventures.push(adventure);\n        }\n        this.selectedAdventureId = this.adventures[0].id;\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element = that.$window.document.getElementById(\"selectedAdventure\");\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n\n    next() {\n        this.$location.url(this.constants.url.createPlayerForNewGame + \"?adventureId=\" + encodeURIComponent(this.selectedAdventureId));\n    }\n}\n\nexport default SelectAdventureController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/select-adventure/select-adventure.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './create-player.html';\nimport controller from './create-player.controller';\n\nlet CreatePlayerModule = angular.module('app.components.gui.screen.games.create.create-player', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('create-player', {\n            url: constants.url.createPlayerForNewGame + \"?adventureId\", template: '<create-player></create-player>'\n        });\n    })\n\n    .component('createPlayer', { template, controller });\n\nexport default CreatePlayerModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/create-player/create-player.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'New game' | translate }}</h1>\\n        </div>\\n\\n        <!-- novalidate=\\\"novalidate\\\" allow to do not display untranslated tooltip \\\"Fill out this field\\\" -->\\n        <form name=\\\"playerForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.next(playerForm.$invalid)\\\">\\n            <ol class=\\\"breadcrumb\\\">\\n                <li>{{ 'Select Adventure' | translate }}</li>\\n                <li class=\\\"active\\\">{{ 'Create Player' | translate }}</li>\\n                <li>{{ 'Choose Items' | translate }}</li>\\n            </ol>\\n\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"playerName\\\">{{ 'PlayerName' | translate }}*</label>\\n                <input type=\\\"text\\\" required class=\\\"form-control\\\" id=\\\"playerName\\\" ng-model=\\\"$ctrl.playerName\\\">\\n                <div class=\\\"error\\\" ng-show=\\\"playerForm.$invalid\\\">\\n                    {{ 'Please fill the player name' | translate }}\\n                </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                <label for=\\\"{{ stats.name }}\\\">{{ stats.name }}</label>\\n                <input type=\\\"text\\\" disabled required class=\\\"form-control\\\" id=\\\"{{ stats.name }}\\\" ng-model=\\\"stats.value\\\">\\n            </div>\\n\\n            <div class=\\\"form-group\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.back()\\\">{{ 'Back' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.generateStats()\\\">{{ 'Random Stats' | translate }}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"$ctrl.next(playerForm.$invalid)\\\">{{ 'Next' | translate }}</button>\\n            </div>\\n        </form>\\n    </div>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/games/create/create-player/create-player.html\n ** module id = 77\n ** module chunks = 0\n **/","class CreatePlayerController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $stateParams, $window, $location, constants, dicesService, adventurePersistenceService, $timeout) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.constants = constants;\n        this.$window = $window;\n        this.$location = $location;\n        this.dicesService = dicesService;\n        this.$timeout = $timeout;\n        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n        this.loadData(this.adventure);\n        this.generateStats();\n        this.setInitialFocus();\n    }\n\n    loadData(adventure) {\n        this.stats = [];\n        let self = this;\n        for (let i = 0; i < adventure.stats.length; i++) {\n            let currentStats = adventure.stats[i];\n            this.stats.push({ name : currentStats.name,\n                generate : function() {\n                        return currentStats.init.constant + self.dicesService.rollDices(currentStats.init.sixDiceQuantity, 6);\n                    }\n                });\n        }\n    }\n\n    generateStats() {\n        for (let i = 0; i < this.stats.length; i++) {\n            let stats = this.stats[i];\n            stats.value = stats.generate();\n        }\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element = that.$window.document.getElementById(\"playerName\");\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n\n    next(invalid) {\n        if (!!invalid) {\n            return ;\n        }\n\n        let nextUrl = this.constants.url.chooseItemsForNewGame +\n          \"?adventureId=\" + encodeURIComponent(this.adventure.id) +\n          \"&playerName=\" + encodeURIComponent(this.playerName);\n\n        let statsParam = '';\n\n        for (let i = 0; i < this.stats.length; i++) {\n            let stats = this.stats[i];\n            statsParam = statsParam + encodeURIComponent(stats.name) + encodeURIComponent(stats.value) + ',';\n        }\n\n        nextUrl = nextUrl + \"&stats=\" + statsParam;\n        this.$location.url(nextUrl);\n    }\n}\n\nexport default CreatePlayerController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/create-player/create-player.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './choose-items.html';\nimport controller from './choose-items.controller';\n\nlet ChooseItemsModule = angular.module('app.components.gui.screen.games.create.choose-items', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('choose-items', {\n            url: constants.url.chooseItemsForNewGame + \"?adventureId&playerName&stats\", template: '<choose-items></choose-items>'\n        });\n    })\n\n    .component('chooseItems', { template, controller });\n\nexport default ChooseItemsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/choose-items/choose-items.js\n **/","class ChooseItemsController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $stateParams, messagesService, $window, $location, constants, gamePersistenceService, adventurePersistenceService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.messagesService = messagesService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.gamePersistenceService = gamePersistenceService;\n        this.$window = $window;\n        this.$stateParams = $stateParams;\n        this.$location = $location;\n        this.constants = constants;\n\n        this.adventure = adventurePersistenceService.getAdventure($stateParams.adventureId);\n        this.playerItems = this.adventure.items;\n        for (let i = 0; i < this.playerItems.length; i++) {\n            this.playerItems[i].description = this.playerItems[i].description;\n        }\n        this.displayNotes();\n    }\n\n    isItemsDisplayed() {\n        return !!this.adventure.items && this.adventure.items.length > 0;\n    }\n\n    displayNotes() {\n        if (!!this.adventure.startGameNote) {\n            this.messagesService.infoMessage(this.adventure.startGameNote, false);\n        }\n    }\n\n    getItems() {\n        return this.playerItems;\n    }\n\n    startGame() {\n        let game = this.buildGame();\n        game = this.gamePersistenceService.addGame(game);\n        this.gamePersistenceService.setCurrentParagraphNrOfGame(game.id, null, this.adventure.startParagraphNr);\n        this.$location.url(this.gamePersistenceService.getUrlOfGame(game.id));\n    }\n\n    buildGame() {\n        let game = {\n            playerName : this.$stateParams.playerName,\n            adventureId : this.adventure.id,\n            items : JSON.parse(JSON.stringify(this.playerItems))\n        };\n        game.stats = this.getStatsInUrlParam();\n        return game;\n    }\n\n    getStatsInUrlParam() {\n        let statsParamValue = this.$stateParams['stats'];\n        let stats = [];\n        for (let i = 0; i < this.adventure.stats.length; i++) {\n            let currentStats = this.adventure.stats[i];\n            let startPos = statsParamValue.indexOf(currentStats.name);\n            startPos = startPos + currentStats.name.length;\n            let endPos = statsParamValue.indexOf(',', startPos);\n            let statsValue = statsParamValue.substring(startPos, endPos);\n            stats.push({\n                    name  : currentStats.name,\n                    value : new Number(statsValue)\n                });\n        }\n        return stats;\n    }\n\n\n    back() {\n        this.$window.history.back();\n    }\n}\n\nexport default ChooseItemsController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/games/create/choose-items/choose-items.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './battle.html';\nimport controller from './battle.controller';\n\nlet BattleModule = angular.module('app.components.gui.screen.battle', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('battle', {\n            url: constants.url.battle + '/{game}', template: '<battle></battle>'\n        });\n    })\n\n    .component('battle', { template, controller });\n\nexport default BattleModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/battle/battle.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Battle' | translate }}</h1>\\n        </div>\\n\\n        <form name=\\\"battleTableForm\\\" novalidate=\\\"novalidate\\\">\\n            <table class=\\\"table\\\">\\n                <col style=\\\"width:20%\\\">\\n                <col style=\\\"width:10%\\\" ng-repeat=\\\"row in $ctrl.stats\\\">\\n                <col style=\\\"width:{{ $ctrl.lastColumnSizeInPercent() }}%\\\">\\n                <col style=\\\"width:5%\\\">\\n                <thead>\\n                <tr>\\n                    <th></th>\\n                    <th ng-repeat=\\\"row in $ctrl.stats\\\">{{ row.name | translate }}</th>\\n                    <th></th>\\n                    <th>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                aria-label=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                title=\\\"{{ 'Add enemy' | translate}}\\\"\\n                                ng-click=\\\"$ctrl.addEnemy()\\\">\\n                            <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </th>\\n                </tr>\\n                </thead>\\n                <tbody>\\n                <tr ng-repeat=\\\"row in $ctrl.rows\\\">\\n                    <td ng-if=\\\"!$ctrl.isEnemy(row)\\\">\\n                        {{ row.name }}\\n                    </td>\\n                    <td ng-if=\\\"$ctrl.isEnemy(row)\\\">\\n                        <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                        <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                            {{ 'Please fill the name' | translate }}\\n                        </div>\\n                    </td>\\n\\n                    <td ng-repeat=\\\"stats in $ctrl.stats\\\">\\n                        <div ng-if=\\\"!stats.editableForEnemy && !!$ctrl.isEnemy(row)\\\">\\n                            {{ row[stats.name] }}\\n                        </div>\\n\\n                        <div ng-if=\\\"!!stats.editableForEnemy || !$ctrl.isEnemy(row)\\\">\\n                            <input required type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row[stats.name]\\\" ng-change=\\\"$ctrl.save()\\\">\\n                            <div class=\\\"error\\\" ng-show=\\\"!row[stats.name]\\\">\\n                                {{ 'Please fill a value' | translate }}\\n                            </div>\\n                        </div>\\n                    </td>\\n\\n                    <td></td>\\n\\n                    <td>\\n                        <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                aria-label=\\\"{{ 'Remove enemy' | translate }} {{ row.name | translate }}\\\"\\n                                title=\\\"{{ 'Remove enemy' | translate }} '{{ row.name | translate }}'\\\"\\n                                ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                ng-show=\\\"$ctrl.isEnemy(row)\\\">\\n                            <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                        </button>\\n                    </td>\\n                </tr>\\n                </tbody>\\n            </table>\\n        </form>\\n\\n        <dices></dices>\\n        <back-button></back-button>\\n\\n        <popup config=\\\"{{ $ctrl.popupDeleteEnemyConfig }}\\\"></popup>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/battle/battle.html\n ** module id = 83\n ** module chunks = 0\n **/","class BattleController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $window, popupService, constants, gamePersistenceService, adventurePersistenceService, $stateParams) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$window = $window;\n        this.popupService = popupService;\n        this.constants = constants;\n        this.$stateParams = $stateParams;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n\n        this.popupDeleteEnemyConfig = {\n            id : 'popupDeleteEnemy',\n            text : 'Are you sure to remove the enemy?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.initData();\n    }\n\n    initData() {\n        if (!!this.$stateParams.game) {\n            this.game = this.gamePersistenceService.getGame(decodeURIComponent(this.$stateParams.game));\n            this.adventure = this.adventurePersistenceService.getAdventure(this.game.adventureId);\n        }\n\n        this.initStatsData();\n        this.initPlayerStats();\n        this.defaultEnemy = this.initDefaultEnemy();\n        this.addEnemy();\n    }\n\n    initStatsData() {\n        if (!!this.game && !!this.adventure) {\n            this.stats = [];\n            for (let i = 0; i < this.adventure.stats.length; i++) {\n                let currentStats = this.adventure.stats[i];\n                if (!!currentStats.battle && !!currentStats.battle.displayed) {\n                    this.stats.push({ name: currentStats.name, enemyDefaultValue: currentStats.battle.enemyDefaultValue, editableForEnemy: currentStats.battle.editableForEnemy});\n                }\n            }\n        }\n    }\n\n    initPlayerStats() {\n        if (!!this.stats) {\n            this.statsPlayer = { name : this.game.playerName};\n\n            for (let i = 0; i < this.stats.length; i++) {\n                let currentStats = this.stats[i];\n                for (let j = 0; j < this.game.stats.length; j++) {\n                    let currentGameStats = this.game.stats[j];\n                    if (currentStats.name === currentGameStats.name) {\n                        this.statsPlayer[currentStats.name] = currentGameStats.current;\n                        break;\n                    }\n                }\n            }\n            this.rows = [ this.statsPlayer ];\n        }\n    }\n\n    initDefaultEnemy() {\n        let defaultEnemyName = 'Enemy';\n        if (!!this.adventure.defaultEnemyName) {\n            defaultEnemyName = this.adventure.defaultEnemyName;\n        }\n\n        let statsDefaultEnemy = { name : defaultEnemyName };\n\n        for (let i = 0; i < this.stats.length; i++) {\n            let currentStats = this.stats[i];\n            statsDefaultEnemy[currentStats.name] = currentStats.enemyDefaultValue;\n        }\n\n\n        return statsDefaultEnemy;\n    }\n\n    addEnemy() {\n        this.rows.push(JSON.parse(JSON.stringify(this.defaultEnemy)));\n    }\n\n    save() {\n        for (let i = 0; i < this.game.stats.length; i++) {\n            let currentStats = this.game.stats[i];\n            currentStats.current = this.statsPlayer[currentStats.name];\n        }\n        this.gamePersistenceService.updateGame(this.game);\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteEnemyConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.rows.indexOf(removedRow);\n        this.rows.splice(index, 1);\n    }\n\n    isEnemy(row) {\n        return this.rows.indexOf(row) !== 0;\n    }\n\n    lastColumnSizeInPercent() {\n        let lastColumnSizeInPercent = 75;\n        if (!!this.stats) {\n            lastColumnSizeInPercent = lastColumnSizeInPercent - (this.stats.length * 10);\n        }\n        return lastColumnSizeInPercent;\n    }\n\n    back() {\n        this.$window.history.back();\n    }\n}\n\nexport default BattleController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/battle/battle.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './administration.html';\nimport controller from './administration.controller';\n\nlet administrationModule = angular.module('app.components.gui.screen.administration', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('administration', {\n            url: constants.url.administration, template: '<administration></administration>'\n        });\n    })\n\n    .component('administration', { template, controller });\n\nexport default administrationModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/administration/administration.js\n **/","class AdministrationController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, constants, popupService, $window) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.persistenceService = persistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.constants = constants;\n        this.popupService = popupService;\n        this.initData();\n        this.$window = $window;\n\n        this.popupConfirmImportApplicationDataConfig = {\n            id : 'popupConfirmImportApplicationData',\n            text : \"All existing application's data will be erased during the import. Are you sure to import the application data?\",\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n        \n        this.popupConfirmDeleteApplicationDataConfig = {\n            id : 'popupConfirmDeleteApplicationData',\n            text : 'Are you sure to clear the application data?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n    }\n\n    initData() {\n        this.applicationData = this.persistenceService.export();\n        this.computeLocalStorageCapacities();\n    }\n\n    computeLocalStorageCapacities() {\n        this.usedLocalStorage = this.persistenceService.getUsedCapacity();\n        this.remainingCapacity = this.persistenceService.getRemainingCapacity();\n        this.usedLocalStorageInPercent = this.persistenceService.getUsedCapacityInPercent();\n    }\n\n    showPopupConfirmImportData() {\n        let self = this;\n        this.popupService.show(\n            this.popupConfirmImportApplicationDataConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.persistenceService.import(self.importData);\n                    self.$window.location.reload();\n                }\n            }\n        );\n    }\n\n\n    showPopupConfirmDeleteApplicationData() {\n        let self = this;\n        this.popupService.show(\n            this.popupConfirmDeleteApplicationDataConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.persistenceService.cleanAllData();\n                    self.$window.location.reload();\n                }\n            }\n        );\n    }\n}\n\nexport default AdministrationController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/administration/administration.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './choose-language.html';\nimport controller from './choose-language.controller';\n\nlet chooseLanguageModule = angular.module('app.components.gui.screen.choose-language', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('choose-language', {\n            url: constants.url.chooseLanguage, template: '<choose-language></choose-language>'\n        });\n    })\n\n    .component('chooseLanguage', { template, controller });\n\nexport default chooseLanguageModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/choose-language/choose-language.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <div class=\\\"page-header\\\">\\n            <h1>{{ 'Gamebooks Companion' | translate }}</h1>\\n        </div>\\n        <language-picker></language-picker>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$ctrl.goForward()\\\">{{ 'Continue' | translate }}</button>\\n    </div>\\n</main>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/choose-language/choose-language.html\n ** module id = 89\n ** module chunks = 0\n **/","class ChooseLanguageController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, $location, constants) {\n        this.$location = $location;\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n    }\n\n    goForward() {\n        this.$location.url(this.constants.url.games)\n    }\n}\n\nexport default ChooseLanguageController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/choose-language/choose-language.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './about.html';\nimport controller from './about.controller';\n\nlet aboutModule = angular.module('app.components.gui.screen.about', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('about', {\n            url: constants.url.about, template: '<about></about>'\n        });\n    })\n\n    .component('about', { template, controller });\n\nexport default aboutModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/about/about.js\n **/","class AboutController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, constants) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.appVersion = constants.version;\n    }\n}\n\nexport default AboutController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/about/about.controller.js\n **/","import angular from 'angular';\nimport AdventuresList from './list/adventures-list';\nimport AdventureDetail from './detail/adventure-detail';\n\nlet adventuresModule = angular.module('app.components.gui.screens.adventures', [\n    AdventuresList.name, AdventureDetail.name\n]);\n\nexport default adventuresModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/adventures.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './adventures-list.html';\nimport controller from './adventures-list.controller';\n\nlet adventuresListModule = angular.module('app.components.gui.screen.adventures.list', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('adventuresList', {\n            url: constants.url.adventures, template: '<adventures-list></adventures-list>'\n        });\n    })\n\n    .component('adventuresList', { template, controller });\n\nexport default adventuresListModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/list/adventures-list.js\n **/","class AdventuresListController {\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService) {\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.popupService = popupService;\n        this.exportDataPopupService = exportDataPopupService;\n        this.importDataPopupService = importDataPopupService;\n\n        this.popupDeleteAdventureConfig = {\n            id : 'popupDeleteAdventure',\n            text : 'Are you sure to remove the selected adventure?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.popupExportAdventureConfig = { id : 'popupExportAdventure' };\n        this.popupImportAdventureConfig = { id : 'popupImportAdventure' };\n\n        this.initData();\n    }\n\n    initData() {\n        this.rows = this.adventurePersistenceService.getAdventuresOverview();\n        this.clearSelection();\n        for (let i = 0; i < this.rows.length; i++) {\n            if (!!this.rows[i].downloadHistory) {\n                this.rows[i].downloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length-1];\n            } else {\n                if (!!this.rows[i].downloadUrl) {\n                    this.rows[i].downloadStatus = 'Downloadable';\n                } else {\n                    this.rows[i].downloadStatus = 'N/A';\n                }\n            }\n        }\n    }\n\n    select(row) {\n        this.clearSelection();\n        row.selected = true;\n    }\n\n    clearSelection() {\n        for (let i = 0; i < this.rows.length; i++) {\n            this.rows[i].selected = false;\n        }\n    }\n\n    create() {\n        this.$location.url(this.constants.url.adventureDetail + '/create');\n    }\n\n    display() {\n        this.$location.url(this.constants.url.adventureDetail + '/' + this.getSelectedRow().id);\n    }\n\n    displayRemoveAdventurePopup() {\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteAdventureConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.deleteAdventure();\n                }\n            }\n        );\n    }\n\n    deleteAdventure() {\n        this.adventurePersistenceService.deleteAdventureAndParagraphs(this.getSelectedRow().id);\n        this.initData();\n    }\n\n    displayExportAdventurePopup() {\n        let self = this;\n        this.popupExportAdventureConfig.exportData = JSON.stringify(this.adventurePersistenceService.exportAdventure(this.getSelectedRow().id));\n        this.popupExportAdventureConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportAdventureConfig.exportData);\n        this.popupExportAdventureConfig.exportTitle = this.$translate.instant('ExportAdventure', {adventureName: this.getSelectedRow().name });\n        this.exportDataPopupService.show(this.popupExportAdventureConfig.id);\n    }\n\n    displayImportAdventurePopup() {\n        let self = this;\n        this.popupImportAdventureConfig.title = this.$translate.instant('Import an adventure');\n        this.importDataPopupService.show(\n            this.popupImportAdventureConfig.id,\n            function(popupDomElementId, data) {\n                self.adventurePersistenceService.importAdventure(data);\n                self.initData();\n            }\n        );\n    }\n\n    downloadAdventure() {\n        let self = this;\n        let promise = this.adventurePersistenceService.downloadAdventure(this.getSelectedRow());\n        promise.then(\n            function(json) {\n                self.initData();\n            },\n            function(reason) {\n                self.initData();\n            }\n        );\n    }\n\n    hasSelectedRow() {\n        return !!this.getSelectedRow();\n    }\n\n    isSelectedRowDownloadable() {\n        let selectedRow = this.getSelectedRow();\n        return !!selectedRow && !!selectedRow.downloadUrl;\n    }\n\n    getSelectedRow() {\n        if (!!this.rows) {\n            for (let i = 0; i < this.rows.length; i++) {\n                if (!!this.rows[i].selected) {\n                    return this.rows[i];\n                }\n            }\n        }\n        return null;\n    }\n}\n\nexport default AdventuresListController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/list/adventures-list.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './adventure-detail.html';\nimport controller from './adventure-detail.controller';\n\nlet adventureDetailModule = angular.module('app.components.gui.screen.adventures.detail', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('adventure-detail', {\n            url: constants.url.adventureDetail + '/{adventureId}', template: '<adventure-detail></adventure-detail>'\n        });\n    })\n\n    .component('adventureDetail', { template, controller });\n\nexport default adventureDetailModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/detail/adventure-detail.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ $ctrl.adventure.name }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"adventureTableForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <h3>{{ 'General' | translate }}</h3>\\n                <div>\\n                    <div class=\\\"form-group\\\" ng-if=\\\"!$ctrl.adventure.id\\\">\\n                        <label for=\\\"name\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"name\\\" ng-model=\\\"$ctrl.adventure.name\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"serie\\\">{{ \\\"Serie\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"serie\\\" ng-model=\\\"$ctrl.adventure.serie\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"authors\\\">{{ \\\"Author(s)\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"authors\\\" ng-model=\\\"$ctrl.adventure.authors\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"description\\\">{{ \\\"Description\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"description\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.description\\\"></div>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"version\\\">{{ \\\"Version\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"version\\\" ng-model=\\\"$ctrl.adventure.version\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"language\\\">{{ \\\"Language\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"language\\\" ng-model=\\\"$ctrl.adventure.language\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"homepage\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"homepage\\\" ng-model=\\\"$ctrl.adventure.homepage\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"isbn\\\">{{ \\\"ISBN\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"isbn\\\" ng-model=\\\"$ctrl.adventure.isbn\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"numberOfParagraphs\\\">{{ \\\"Number of paragraphs\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"numberOfParagraphs\\\" ng-model=\\\"$ctrl.adventure.numberOfParagraphs\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startParagraphNr\\\">{{ \\\"First paragraph\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"startParagraphNr\\\" ng-model=\\\"$ctrl.adventure.startParagraphNr\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"startGameNote\\\">{{ \\\"Start game's note\\\" | translate }}</label>\\n                        <div contenteditable=\\\"true\\\" id=\\\"startGameNote\\\" class=\\\"form-control editable-div\\\" ng-model=\\\"$ctrl.adventure.startGameNote\\\"></div>\\n                    </div>\\n                </div>\\n\\n                <h3>{{ 'Stats rules' | translate }}</h3>\\n                <div>\\n                    <table class=\\\"table table-striped\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <col style=\\\"width:30%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:15%\\\">\\n                        <col style=\\\"width:20%\\\">\\n                        <thead>\\n                        <tr>\\n                            <th>\\n                                {{ 'Name' | translate }}\\n                            </th>\\n                            <th>\\n                                {{ 'Player stats value generation' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is this stats displayed in battle?' | translate }}\\\"\\n                                title=\\\"{{ 'Is this stat displayed in battle?' | translate }}\\\">\\n                                {{ 'For battle?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Is it a enemy stats?' | translate }}\\\"\\n                                title=\\\"{{ 'Is it a enemy stats?' | translate }}\\\">\\n                                {{ 'For enemy?' | translate }}\\n                            </th>\\n                            <th aria-label=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\"\\n                                title=\\\"{{ 'Default value of the stats for enemy' | translate }}\\\">\\n                                {{ 'Default enemy value' | translate }}\\n                            </th>\\n                            <th></th>\\n                            <th></th>\\n                            <th>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Add stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.addRow()\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-plus\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </th>\\n                        </tr>\\n                        </thead>\\n                        <tbody>\\n\\n                        <tr ng-repeat=\\\"row in $ctrl.adventure.stats\\\">\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.name }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input required type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"row.name\\\">\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.name\\\">\\n                                    {{ 'Please fill the name of the stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.init.sixDiceQuantity + 'd6' + (!!row.init.constant ? '+' + row.init.constant : '')   }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"sixDiceQuantity\\\">{{ \\\"Quantity of dices 6 faces\\\" | translate }}</label>\\n                                    <input required id=\\\"sixDiceQuantity\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.sixDiceQuantity\\\">\\n                                </div>\\n                                <div class=\\\"form-group\\\">\\n                                    <label for=\\\"constant\\\">{{ \\\"Constant\\\" | translate }}</label>\\n                                    <input id=\\\"constant\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.init.constant\\\">\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.init.sixDiceQuantity\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill the quantity of dices 6 faces used to generate a value for this stats' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.displayed | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.displayed\\\" id=\\\"displayed\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ 'yesno_' + row.battle.editableForEnemy | translate }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.editableForEnemy\\\" id=\\\"editableForEnemy\\\"><br>\\n                            </td>\\n\\n                            <td ng-if=\\\"!$ctrl.isRowEdited(row)\\\">\\n                                {{ row.battle.enemyDefaultValue }}\\n                            </td>\\n                            <td ng-if=\\\"$ctrl.isRowEdited(row)\\\">\\n                                <input id=\\\"enemyDefaultValue\\\" type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"row.battle.enemyDefaultValue\\\" ng-required=\\\"!!row.battle.editableForEnemy\\\" >\\n                                <div class=\\\"error\\\" ng-show=\\\"!!row.battle.editableForEnemy && !row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please fill a default value of this stats for enemies' | translate }}\\n                                </div>\\n                                <div class=\\\"error\\\" ng-show=\\\"!row.battle.editableForEnemy && !!row.battle.enemyDefaultValue\\\">\\n                                    <!-- check error only on field -->\\n                                    {{ 'Please do not fill a default value as this stats is not available for enemies' | translate }}\\n                                </div>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-success\\\"\\n                                        aria-label=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Save stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.saveRowChanges(adventureTableForm.$invalid, row)\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-ok\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        title=\\\"{{ 'Abort stats changes' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.abortRowChanges()\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-arrow-left\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n\\n                            <td>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-default\\\"\\n                                        aria-label=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        title=\\\"{{ 'Edit stats' | translate}}\\\"\\n                                        ng-click=\\\"$ctrl.editRow(row)\\\"\\n                                        ng-show=\\\"!$ctrl.hasEditedRow()\\\">\\n                                    <span class=\\\"glyphicon glyphicon-edit\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\"\\n                                        aria-label=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        title=\\\"{{ 'Remove stats' | translate }}\\\"\\n                                        ng-click=\\\"$ctrl.displayRemovePopup(row)\\\"\\n                                        ng-disabled=\\\"$ctrl.addedRow\\\"\\n                                        ng-show=\\\"$ctrl.isRowEdited(row)\\\">\\n                                    <span class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></span>\\n                                </button>\\n                            </td>\\n                        </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n\\n                <h3>{{ 'Initial items' | translate }}</h3>\\n                <div>\\n                    <items items=\\\"$ctrl.adventure.items\\\"></items>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(adventureTableForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\\n\\n<popup config=\\\"{{ $ctrl.popupDeleteStatsConfig }}\\\"></popup>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/adventures/detail/adventure-detail.html\n ** module id = 99\n ** module chunks = 0\n **/","class AdventureDetailController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, persistenceService, adventurePersistenceService, $stateParams, $location, constants, popupService, messagesService, $timeout, $window, formHelperService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.persistenceService = persistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.$stateParams = $stateParams;\n        this.$location = $location;\n        this.constants = constants;\n        this.popupService = popupService;\n        this.messagesService = messagesService;\n        this.$timeout = $timeout;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n        this.initData();\n\n        this.popupDeleteStatsConfig = {\n            id : 'popupDeleteStats',\n            text : 'Are you sure to remove the status?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n        this.setInitialFocus();\n    }\n\n    initData() {\n        let adventureId = encodeURIComponent(this.$stateParams.adventureId);\n        if (!!adventureId) {\n            if (\"create\" === adventureId) {\n                this.adventure = {\n                    stats: [],\n                    items: []\n                };\n                this.mode = \"create\";\n            } else {\n                this.adventure = this.adventurePersistenceService.getAdventure(adventureId);\n                this.mode = \"edit\";\n            }\n        }\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element;\n            if (that.mode === \"create\") {\n                element = that.$window.document.getElementById(\"name\");\n            } else {\n                element = that.$window.document.getElementById(\"authors\");\n            }\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    save(form) {\n        this.formHelperService.setErrorFieldsAsDirty(form, true);\n        if (form.$invalid) {\n            return ;\n        }\n\n        if (!!this.adventure.items) {\n            let modifiedItems = [];\n            for (let i = 0; i < this.adventure.items.length; i++) {\n                modifiedItems.push({\n                    quantity: this.adventure.items[i].quantity,\n                    description: this.adventure.items[i].description\n                });\n            }\n            this.adventure.items = modifiedItems;\n        }\n        try {\n            this.adventurePersistenceService.updateAdventureWithoutParagraphs(this.adventure);\n            this.$location.url(this.constants.url.adventures);\n        } catch (error) {\n            this.messagesService.errorMessage(error, false);\n        }\n    }\n\n    addRow() {\n        let stats = { init: {}, battle: { displayed: true, editableForEnemy: false }};\n        this.adventure.stats.push(stats);\n        this.addedRow = stats;\n    }\n\n    displayRemovePopup(removedRow) {\n        this.rowToBeRemoved = removedRow;\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteStatsConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.removeRow(self.rowToBeRemoved);\n                }\n                self.rowToBeRemoved = null;\n            }\n        );\n    }\n\n    removeRow(removedRow) {\n        var index = this.adventure.stats.indexOf(removedRow);\n        this.adventure.stats.splice(index, 1);\n        this.clearEditedRow();\n    }\n\n    editRow(row) {\n        this.editedRow = row;\n        this.originalRow = {\n            name : row.name,\n            init: {\n                sixDiceQuantity: row.init.sixDiceQuantity,\n                constants: row.init.constant\n            },\n            battle: {\n                displayed: row.battle.displayed,\n                enemyDefaultValue: row.battle.enemyDefaultValue,\n                editableForEnemy: row.battle.editableForEnemy,\n            }\n        };\n    }\n\n    isRowEdited(row) {\n        return row === this.editedRow || row === this.addedRow;\n    }\n\n    hasEditedRow() {\n        return !!this.editedRow || !! this.addedRow;\n    }\n\n    getEditRow() {\n        if (!!this.addedRow) {\n            return this.addedRow;\n        } else if (!!this.editedRow) {\n            return this.editedRow;\n        } else {\n            return null;\n        }\n    }\n\n    saveRowChanges($invalid) {\n        if (!this.getEditRow().name) {\n            return ;\n        }\n        if (!this.getEditRow().init.sixDiceQuantity) {\n            return ;\n        }\n        if (!this.getEditRow().battle.editableForEnemy && !!this.getEditRow().battle.enemyDefaultValue) {\n            return ;\n        }\n        this.clearEditedRow();\n    }\n\n    abortRowChanges() {\n        if (!!this.addedRow) {\n            this.removeRow(this.addedRow);\n        }\n        if (!!this.editedRow) {\n            this.editedRow.name = this.originalRow.name;\n            this.editedRow.init = this.originalRow.init;\n            this.editedRow.battle = this.originalRow.battle;\n        }\n        this.clearEditedRow();\n    }\n\n    clearEditedRow() {\n        this.addedRow = null;\n        this.editedRow = null;\n        this.originalRow = null;\n    }\n}\n\nexport default AdventureDetailController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/adventures/detail/adventure-detail.controller.js\n **/","import angular from 'angular';\nimport LibrariesList from './list/libraries-list';\nimport LibraryDetail from './detail/library-detail';\n\nlet librariesModule = angular.module('app.components.gui.screens.libraries', [\n    LibrariesList.name, LibraryDetail.name\n]);\n\nexport default librariesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/libraries.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './libraries-list.html';\nimport controller from './libraries-list.controller';\n\nlet librariesListModule = angular.module('app.components.gui.screen.libraries.list', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('librariesList', {\n            url: constants.url.libraries, template: '<libraries-list></libraries-list>'\n        });\n    })\n\n    .component('librariesList', { template, controller });\n\nexport default librariesListModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/list/libraries-list.js\n **/","class LibrariesListController {\n    /*@ngInject*/\n    constructor($location, preScreenLoadingInterceptorsCallerService, constants, gamePersistenceService, adventurePersistenceService, messagesService, $translate, popupService, exportDataPopupService, importDataPopupService, libraryPersistenceService) {\n        this.constants = constants;\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.$location = $location;\n        this.gamePersistenceService = gamePersistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.libraryPersistenceService = libraryPersistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.popupService = popupService;\n        this.exportDataPopupService = exportDataPopupService;\n        this.importDataPopupService = importDataPopupService;\n\n        this.popupDeleteLibraryConfig = {\n            id : 'popupDeleteLibrary',\n            text : 'Are you sure to remove the selected library?',\n            choices : [constants.choices.yes, constants.choices.no],\n            withCloseButton : false,\n            closeOnClickOutsideModal : false\n        };\n\n        this.popupExportLibrariesConfig = { id : 'popupExportLibraries' };\n        this.popupImportLibrariesConfig = { id : 'popupImportLibraries' };\n\n        this.initData();\n    }\n\n    initData() {\n        this.rows = this.libraryPersistenceService.getLibraries();\n        for (let i = 0; i < this.rows.length; i++) {\n            if (!!this.rows[i].downloadHistory) {\n                this.rows[i].lastDownloadStatus = this.rows[i].downloadHistory[this.rows[i].downloadHistory.length-1];\n            }\n        }\n        this.clearSelection();\n    }\n\n    select(row) {\n        this.clearSelection();\n        row.selected = true;\n    }\n\n    clearSelection() {\n        for (let i = 0; i < this.rows.length; i++) {\n            this.rows[i].selected = false;\n        }\n    }\n\n    create() {\n        this.$location.url(this.constants.url.libraryDetail + '/create');\n    }\n\n    display() {\n        this.$location.url(this.constants.url.libraryDetail + '/' + this.getSelectedRow().id);\n    }\n\n    displayRemoveLibraryPopup() {\n        let self = this;\n        this.popupService.show(\n            this.popupDeleteLibraryConfig.id,\n            function(popupDomElementId, choice) {\n                if (choice === self.constants.choices.yes) {\n                    self.deleteLibrary();\n                }\n            }\n        );\n    }\n\n    deleteLibrary() {\n        this.libraryPersistenceService.deleteLibrary(this.getSelectedRow().id);\n        this.initData();\n    }\n\n    displayExportLibrariesPopup() {\n        let self = this;\n        this.popupExportLibrariesConfig.exportData = this.libraryPersistenceService.exportLibraries();\n        this.popupExportLibrariesConfig.exportDownloadBlobUrl = this.exportDataPopupService.createDownloadBlobUrl(this.popupExportLibrariesConfig.exportData);\n        this.popupExportLibrariesConfig.exportTitle = this.$translate.instant('Export libraries');\n        this.exportDataPopupService.show(this.popupExportLibrariesConfig.id);\n    }\n\n    displayImportLibrariesPopup() {\n        let self = this;\n        this.popupImportLibrariesConfig.title = this.$translate.instant('Import libraries');\n        this.importDataPopupService.show(\n            this.popupImportLibrariesConfig.id,\n            function(popupDomElementId, data) {\n                try {\n                    self.libraryPersistenceService.importLibraries(data);\n                    self.initData();\n                } catch (error) {\n                    self.messagesService.errorMessage(error, false);\n                }\n            }\n        );\n    }\n\n    downloadLibrary() {\n        let self = this;\n        let promise = this.libraryPersistenceService.downloadLibrary(this.getSelectedRow());\n        promise.then(\n            function(json) {\n                self.initData();\n            },\n            function(reason) {\n                self.initData();\n            }\n        );\n    }\n\n    hasSelectedRow() {\n        return !!this.getSelectedRow();\n    }\n\n\n    getSelectedRow() {\n        if (!!this.rows) {\n            for (let i = 0; i < this.rows.length; i++) {\n                if (!!this.rows[i].selected) {\n                    return this.rows[i];\n                }\n            }\n        }\n        return null;\n    }\n}\n\nexport default LibrariesListController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/list/libraries-list.controller.js\n **/","import angular from 'angular';\nimport uiRouter from 'angular-ui-router';\n\nimport template from './library-detail.html';\nimport controller from './library-detail.controller';\n\nlet libraryDetailModule = angular.module('app.components.gui.screen.libraries.detail', [\n    uiRouter\n])\n    .config(/*@ngInject*/($stateProvider, $urlRouterProvider, constants) => {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider.state('library-detail', {\n            url: constants.url.libraryDetail + '/{libraryId}', template: '<library-detail></library-detail>'\n        });\n    })\n\n    .component('libraryDetail', { template, controller });\n\nexport default libraryDetailModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/detail/library-detail.js\n **/","module.exports = \"<navbar></navbar>\\n<messages></messages>\\n<main>\\n    <div class=\\\"container bg-white\\\" role=\\\"main\\\">\\n        <h2>{{ 'Library' }}</h2>\\n        <div class=\\\"col-md-12\\\">\\n            <form name=\\\"libraryForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"$ctrl.save()\\\">\\n                <div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteName\\\">{{ \\\"Name\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteName\\\" ng-model=\\\"$ctrl.library.siteName\\\" required>\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"siteUrl\\\">{{ \\\"Homepage\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"siteUrl\\\" ng-model=\\\"$ctrl.library.siteUrl\\\">\\n                    </div>\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"libraryUrl\\\">{{ \\\"Library url\\\" | translate }}</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"libraryUrl\\\" ng-model=\\\"$ctrl.library.libraryUrl\\\" required>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n        <back-button></back-button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\"\\n                aria-label=\\\"{{ 'Save changes' | translate }}\\\"\\n                title=\\\"{{ 'Save changes' | translate }}\\\"\\n                ng-click=\\\"$ctrl.save(libraryForm)\\\">{{ 'Save' | translate }}</button>\\n    </div>\\n</main>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/gui/screens/libraries/detail/library-detail.html\n ** module id = 106\n ** module chunks = 0\n **/","class LibraryDetailController {\n    /*@ngInject*/\n    constructor(preScreenLoadingInterceptorsCallerService, libraryPersistenceService, $stateParams, $location, constants, messagesService, $timeout, $window, formHelperService) {\n        preScreenLoadingInterceptorsCallerService.intercept();\n        this.libraryPersistenceService = libraryPersistenceService;\n        this.$stateParams = $stateParams;\n        this.$location = $location;\n        this.constants = constants;\n        this.messagesService = messagesService;\n        this.$timeout = $timeout;\n        this.$window = $window;\n        this.formHelperService = formHelperService;\n        this.initData();\n        this.setInitialFocus();\n    }\n\n    initData() {\n        let libraryId = encodeURIComponent(this.$stateParams.libraryId);\n        if (!!libraryId) {\n            if (\"create\" === libraryId) {\n                this.library = {};\n                this.mode = \"create\";\n            } else {\n                this.library = this.libraryPersistenceService.getLibrary(libraryId);\n                this.mode = \"edit\";\n            }\n        }\n    }\n\n    setInitialFocus() {\n        let that = this;\n        this.$timeout(function() {\n            let element = that.$window.document.getElementById(\"siteName\");\n            if(!!element) {\n                element.focus();\n            }\n        });\n    }\n\n    save(form) {\n        this.formHelperService.setErrorFieldsAsDirty(form, true);\n        if (form.$invalid) {\n            return ;\n        }\n\n        try {\n            this.libraryPersistenceService.updateLibrary(this.library);\n            this.$location.url(this.constants.url.libraries);\n        } catch (error) {\n            this.messagesService.errorMessage(error, false);\n        }\n    }\n}\n\nexport default LibraryDetailController;\n\n\n/** WEBPACK FOOTER **\n ** ./components/gui/screens/libraries/detail/library-detail.controller.js\n **/","import angular from 'angular';\nimport LanguageAvailabilityChecker from './language-availability-checker/language-availability-checker';\nimport SoftwareRequirementsChecker from './software-requirements-checker/software-requirements-checker';\nimport PreScreenLoadingInterceptorsCaller from './pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller';\nimport Persistence from './persistence/persistence';\nimport Dices from './dices/dices';\nimport FormHelper from './form-helper/form-helper';\nimport RemoteJsonRetriever from './remote-json-retriever/remote-json-retriever';\n\nlet servicesModule = angular.module('app.components.services', [\n    SoftwareRequirementsChecker.name, Persistence.name, Dices.name, LanguageAvailabilityChecker.name, PreScreenLoadingInterceptorsCaller.name, FormHelper.name, RemoteJsonRetriever.name\n]);\n\nexport default servicesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/services.js\n **/","class LanguageAvailabilityCheckerService {\n\n    /*@ngInject*/\n    constructor(gamePersistenceService, $location, constants, $translate) {\n        this.gamePersistenceService = gamePersistenceService;\n        this.$location = $location;\n        this.constants = constants;\n        this.$translate = $translate;\n    }\n\n    selectLanguageIfMissing() {\n        let selectedLanguage = this.gamePersistenceService.getSelectedLanguage();\n        let currentUrl = this.$location.url();\n        if (!!selectedLanguage) {\n            this.$translate.use(selectedLanguage);\n        } else {\n            if (!!currentUrl && !currentUrl.startsWith('/choose-language')) {\n                this.$location.url(this.constants.url.chooseLanguage);\n            }\n        }\n    }\n}\n\nexport default LanguageAvailabilityCheckerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/language-availability-checker/language-availability-checker.service.js\n **/","class SoftwareRequirementsCheckerService {\n\n    /*@ngInject*/\n    constructor(messagesService) {\n        this.messagesService = messagesService;\n    }\n\n    checkSoftwareRequirements() {\n        let hasSoftwareRequirements = true;\n        if (!this.isLocalStorageSupported()) {\n            hasSoftwareRequirements = false;\n            this.messagesService.errorMessage(\"The application cannot be used because the version of the browser is too old or because it is not possible to save data in 'localStorage'.\", true);\n        }\n    }\n\n    isLocalStorageSupported() {\n    \ttry {\n    \t\tlet storage = window['localStorage'];\n            let x = '__storage_test__';\n    \t\tstorage.setItem(x, x);\n    \t\tstorage.removeItem(x);\n    \t\treturn true;\n    \t} catch(e) {\n    \t\treturn false;\n    \t}\n    }\n}\n\nexport default SoftwareRequirementsCheckerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/software-requirements-checker/software-requirements-checker.service.js\n **/","import angular from 'angular';\nimport preScreenLoadingInterceptorsCallerService from './pre-screen-loading-interceptors-caller.service';\n\nlet preScreenLoadingInterceptorsCallerModule = angular.module('app.components.services.pre-screen-loading-interceptors-caller', [])\n\n.service('preScreenLoadingInterceptorsCallerService', preScreenLoadingInterceptorsCallerService);\n\nexport default preScreenLoadingInterceptorsCallerModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.js\n **/","class PreScreenLoadingInterceptorsCallerService {\n\n    /*@ngInject*/\n    constructor(languageAvailabilityCheckerService, softwareRequirementsCheckerService) {\n        this.softwareRequirementsCheckerService = softwareRequirementsCheckerService;\n        this.languageAvailabilityCheckerService = languageAvailabilityCheckerService;\n    }\n\n    intercept() {\n        this.softwareRequirementsCheckerService.checkSoftwareRequirements();\n        this.languageAvailabilityCheckerService.selectLanguageIfMissing();\n    }\n\n}\n\nexport default PreScreenLoadingInterceptorsCallerService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/pre-screen-loading-interceptors-caller/pre-screen-loading-interceptors-caller.service.js\n **/","import angular from 'angular';\n\nimport GamePersistence from './game-persistence/game-persistence';\nimport AdventurePersistence from './adventure-persistence/adventure-persistence';\nimport LibraryPersistence from './library-persistence/library-persistence';\nimport persistenceService from './persistence.service';\n\nlet persistenceModule = angular.module('app.components.services.persistence', [\n    GamePersistence.name, AdventurePersistence.name, LibraryPersistence.name\n])\n\n.service('persistenceService', persistenceService);\n\nexport default persistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/persistence.js\n **/","import angular from 'angular';\nimport gamePersistenceService from './game-persistence.service';\n\nlet gamePersistenceModule = angular.module('app.components.services.persistence.game', [])\n\n.service('gamePersistenceService', gamePersistenceService);\n\nexport default gamePersistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/game-persistence/game-persistence.js\n **/","class GamePersistenceService {\n\n    /*@ngInject*/\n    constructor(constants, persistenceService, adventurePersistenceService, messagesService) {\n        this.persistenceService = persistenceService;\n        this.adventurePersistenceService = adventurePersistenceService;\n        this.constants = constants;\n        this.messagesService = messagesService;\n    }\n\n    getSelectedLanguage() {\n        return this.persistenceService.get(this.constants.data.selectedLanguage);\n    }\n\n    setSelectedLanguage(language) {\n        this.persistenceService.save(this.constants.data.selectedLanguage, language);\n    }\n\n    addGame(game) {\n        let savedGame = {\n            id : this.newGameId(),\n            playerName : game.playerName,\n            adventureId : game.adventureId,\n            items : game.items,\n            stats : game.stats,\n            currentParagraphNr : game.currentParagraphNr\n        };\n\n        savedGame.stats = [];\n        for (let i = 0; i < game.stats.length;i++) {\n            savedGame.stats.push({ name: game.stats[i].name, initial: game.stats[i].value, current: game.stats[i].value});\n        }\n\n        this.updateGame(savedGame);\n        return savedGame;\n    }\n\n    importGame(gameAsStr) {\n        try {\n            let game = JSON.parse(gameAsStr);\n            let missingMandatoryFields = [];\n            if (!game.id) {\n                missingMandatoryFields.push('id');\n            }\n            if (!game.playerName) {\n                missingMandatoryFields.push('playerName');\n            }\n            if (!game.adventureId) {\n                missingMandatoryFields.push('adventureId');\n            }\n            if (!game.currentParagraphNr) {\n                missingMandatoryFields.push('currentParagraphNr');\n            }\n\n            if (missingMandatoryFields.length > 0) {\n                this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n            } else if (!!this.getGame(game.id)) {\n                this.messagesService.errorMessage(\"The game already exists with id '\" + game.id + \"'\", false);\n            } else {\n                this.updateGame(game);\n            }\n        } catch (error) {\n            this.messagesService.errorMessage('Cannot import game', false);\n        }\n    }\n\n    updateGame(game) {\n        if (!game) {\n            return ;\n        }\n        game = JSON.parse(JSON.stringify(game));\n\n        let key = this.getGamePersistenceKey(game.id);\n        if (!!game.items) {\n            for (let i = 0; i < game.items.length; i++) {\n                delete game.items[i]['$$hashKey'];\n            }\n        }\n        this.persistenceService.save(key, game);\n    }\n\n    deleteGame(gameId, deleteParagraphNotesOfGame, deleteParagraphChoicesOfGame) {\n        let game = this.getGame(gameId);\n        let key = this.getGamePersistenceKey(gameId);\n        if (!!deleteParagraphNotesOfGame || !!deleteParagraphChoicesOfGame) {\n            let paragraphKeys = this.adventurePersistenceService.getAdventureParagraphKeys(game.adventureId);\n            for (let i = 0; i < paragraphKeys.length; i++) {\n                let paragraph = this.persistenceService.get(paragraphKeys[i]);\n                if (!!deleteParagraphNotesOfGame && !!paragraph.notes) {\n                    let newNotes = [];\n                    for (let j = 0; j < paragraph.notes.length; j++) {\n                        if (!paragraph.notes[j].playerName || paragraph.notes[j].playerName !== game.playerName) {\n                            newNotes.push(paragraph.notes[j]);\n                        }\n                    }\n                    paragraph.notes = newNotes;\n                    this.adventurePersistenceService.updateParagraph(game.adventureId, paragraph);\n                }\n                if (!!deleteParagraphChoicesOfGame) {\n                    // TODO\n                }\n            }\n        }\n        localStorage.removeItem(key);\n    }\n\n    newGameId() {\n        return new Date().getTime().toString();\n    }\n\n    getUrlOfGame(gameId, paragraphNr) {\n        let game = this.getGame(gameId);\n        if (!paragraphNr) {\n            paragraphNr = game.currentParagraphNr;\n        }\n        let urlOfGame = \"/\" + encodeURIComponent(game.adventureId) + \"/\" + encodeURIComponent(paragraphNr) + \"/game/\" + encodeURIComponent(game.id);\n        return urlOfGame;\n    }\n\n    getGame(gameId) {\n        let key = this.getGamePersistenceKey(gameId);\n        return this.persistenceService.get(key);\n    }\n\n    getGamePersistenceKeys() {\n        return this.persistenceService.findKeysWithPrefix(this.constants.data.game);\n    }\n\n    getGamePersistenceKey(gameId) {\n        let key = gameId;\n        if (!key.startsWith(this.constants.data.game)) {\n            key = this.constants.data.game + \".\" + key;\n        }\n        return key;\n\n    }\n\n    setCurrentParagraphNrOfGame(gameId, fromParagrahNr, toParagraphNr) {\n        let game = this.getGame(gameId);\n        if (!!fromParagrahNr) {\n            let persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n            let choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n            if (!choosenParagraphs) {\n                choosenParagraphs = {};\n            }\n            let keyArray = toParagraphNr;\n            let choosenBy = choosenParagraphs[keyArray];\n            if (!choosenBy) {\n                choosenBy = [];\n                choosenParagraphs[keyArray] = choosenBy;\n            }\n            if (choosenBy.indexOf(gameId) === -1) {\n                choosenBy.push(gameId);\n                this.persistenceService.save(persistenceKeyChoosenParagraphs, choosenParagraphs);\n            }\n        }\n        game.currentParagraphNr = toParagraphNr;\n        if (!game.path) {\n            game.path = [];\n        }\n        game.path.push(toParagraphNr);\n        this.updateGame(game);\n    }\n\n    getChoosenChoices(gameId, paragraphNr) {\n        let game = this.getGame(gameId);\n        let persistenceKeyChoosenParagraphs = game.adventureId + '.' + 'choosen';\n        let choosenParagraphs = this.persistenceService.get(persistenceKeyChoosenParagraphs);\n        if (!choosenParagraphs) {\n            return [];\n        } else {\n            let paragraph = this.adventurePersistenceService.getParagraph(game.adventureId, paragraphNr);\n            let choosen = [];\n            if (!!paragraph.choices) {\n                for (let i = 0; i < paragraph.choices.length; i++) {\n                    let keyArray = paragraph.choices[i].paragraphNr;\n                    if (!!choosenParagraphs[keyArray]) {\n                        choosen.push(paragraph.choices[i].paragraphNr);\n                    }\n                }\n            }\n            return choosen;\n        }\n    }\n}\n\nexport default GamePersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/game-persistence/game-persistence.service.js\n **/","import angular from 'angular';\n\nimport adventurePersistenceService from './adventure-persistence.service';\n\nlet adventurePersistenceModule = angular.module('app.components.services.persistence.adventure', [])\n\n.service('adventurePersistenceService', adventurePersistenceService);\n\nexport default adventurePersistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/adventure-persistence/adventure-persistence.js\n **/","class AdventurePersistenceService {\n\n    /*@ngInject*/\n    constructor(constants, persistenceService, messagesService, $translate, $q, remoteJsonRetrieverService) {\n        this.constants = constants;\n        this.persistenceService = persistenceService;\n        this.messagesService = messagesService;\n        this.$translate = $translate;\n        this.$q = $q;\n        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n    }\n\n    downloadAdventure(adventure) {\n        let self = this;\n        let deferred = this.$q.defer();\n        let promise = this.remoteJsonRetrieverService.retrieveJson(adventure.downloadUrl);\n        promise.then(\n            function(json) {\n            // TODO\n//                library.downloadHistory.push(self.now() + ' : downloaded');\n//                self.updateLibrary(library);\n//                self.adventurePersistenceService.updateDownloadableAdventures(json);\n//                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n                deferred.resolve('Success');\n            },\n            function(reason) {\n            // TODO\n//                library.downloadHistory.push(self.now() + ' : error');\n//                self.updateLibrary(library);\n//                self.messagesService.errorMessage(reason, false);\n                deferred.reject(reason);\n            }\n        );\n        return deferred.promise;\n    }\n\n    now() {\n        let now = new Date();\n        return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n    }\n\n    updateDownloadableAdventures(adventures) {\n        if (!!adventures) {\n            for (let i = 0; i < adventures.length; i++) {\n                this.updateDownloadableAdventure(adventures[i]);\n            }\n        }\n    }\n\n    updateDownloadableAdventure(adventure) {\n        try {\n            this.updateAdventureWithoutParagraphs(adventure);\n        } catch (error) {\n            if (this.constants.errors.adventureAlreadyExist === error) {\n                let existingAdventure = this.getAdventure(adventure.id);\n                existingAdventure.downloadUrl = adventure.downloadUrl;\n                this.updateAdventureWithoutParagraphs(existingAdventure);\n            }\n        }\n    }\n\n    getAdventuresOverview() {\n        let keys = this.getAdventurePersistenceKeys();\n        let adventures = [];\n        for (let i = 0; i < keys.length; i++) {\n            let adventure = this.persistenceService.get(keys[i]);\n            adventures.push({\n                id: adventure.id,\n                name : adventure.name,\n                numberOfParagraphs : adventure.numberOfParagraphs,\n                language : adventure.language,\n                version : adventure.version,\n                authors : adventure.authors,\n                serie: adventure.serie,\n                downloadUrl: adventure.downloadUrl\n            });\n        }\n        return adventures;\n    }\n\n    getAdventurePersistenceKeys() {\n        let keys = Object.keys(localStorage);\n        let result = [];\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') === -1) {\n                result.push(keys[i]);\n            }\n        }\n        return result;\n    }\n\n    getAdventure(adventureId) {\n        return this.persistenceService.get(this.getAdventurePersistenceKey(adventureId));\n    }\n\n    importAdventure(adventureAsStr) {\n        try {\n            let adventure = JSON.parse(adventureAsStr);\n            let missingMandatoryFields = [];\n            if (!adventure.id) {\n                missingMandatoryFields.push('id');\n            }\n            if (!adventure.name) {\n                missingMandatoryFields.push('name');\n            }\n            if (!adventure.authors) {\n                missingMandatoryFields.push('authors');\n            }\n            if (!adventure.version) {\n                missingMandatoryFields.push('version');\n            }\n            if (!adventure.language) {\n                missingMandatoryFields.push('language');\n            }\n            if (!adventure.startParagraphNr) {\n                missingMandatoryFields.push('startParagraphNr');\n            }\n            if (missingMandatoryFields.length > 0) {\n                this.messagesService.errorMessage('Cannot import game because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n            } else if (!!this.getAdventure(adventure.id)) {\n                this.messagesService.errorMessage(\"The adventure already exists with id '\" + adventure.id + \"'\", false);\n            } else {\n                this.updateAdventureWithoutParagraphs(adventure);\n                if (!!adventure.paragraphs) {\n                    for (let i = 0; i < adventure.paragraphs.length; i++) {\n                        this.setParagraph(adventure.id, adventure.paragraphs[i], true);\n                    }\n                }\n            }\n        } catch (error) {\n            this.messagesService.errorMessage('Cannot import adventure', false);\n        }\n    }\n\n    updateAdventureWithoutParagraphs(adventure) {\n        let adventureIdFromFromAdventureName = this.getAdventureIdFromAdventureName(adventure.name);\n        if (!adventure.id) {\n            adventure.id = adventureIdFromFromAdventureName;\n            let existingAdventure = this.getAdventure(adventureIdFromFromAdventureName);\n            if (!!existingAdventure) {\n                throw this.constants.errors.adventureAlreadyExist;\n            }\n        }\n        let adventureInfo = {};\n        let keys = Object.keys(adventure);\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i] !== 'paragraphs') {\n                adventureInfo[keys[i]] = adventure[keys[i]];\n            }\n        }\n        this.persistenceService.save(this.constants.data.adventure + \".\" + adventure.id, adventureInfo);\n    }\n\n    getAdventureIdFromAdventureName(adventureName) {\n        return encodeURIComponent(adventureName.replace(/\\s+/g, '-').toLowerCase());\n    }\n\n    deleteAdventureAndParagraphs(adventureId) {\n        this.persistenceService.remove(this.getAdventurePersistenceKey(adventureId));\n        let paragraphKeys = this.getAdventureParagraphKeys(adventureId);\n        for (let i = 0; i < paragraphKeys.length; i++) {\n            this.persistenceService.remove(paragraphKeys[i]);\n        }\n    }\n\n    setParagraph(adventureId, paragraph, checkDupplicate) {\n        let key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n        if (!!checkDupplicate) {\n            let existingParagraph = this.persistenceService.get(key);\n            if (!!existingParagraph) {\n                this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraph\", {paragraphNr: paragraph.paragraphNr }), true);\n                return ;\n            }\n        }\n        this.checkDupplicateChoices(paragraph);\n        this.persistenceService.save(key, paragraph);\n    }\n\n    getOrCreateParagraph(adventureId, paragraphNr) {\n        let foundParagraph = this.getParagraph(adventureId, paragraphNr);\n        if (!!foundParagraph) {\n            return foundParagraph;\n        } else {\n            let paragraph = {\n                version : this.constants.version,\n                adventureId : adventureId,\n                paragraphNr : new Number(paragraphNr),\n                description : '',\n                choices : []\n            };\n            this.updateParagraph(adventureId, paragraph);\n            return paragraph;\n        }\n    }\n\n    getParagraph(adventureId, paragraphNr) {\n        let key = this.getParagraphPersistenceKey(adventureId, paragraphNr);\n        return this.persistenceService.get(key);\n    }\n\n    updateParagraph(adventureId, paragraph) {\n        if (!paragraph) {\n            return ;\n        }\n        paragraph = JSON.parse(JSON.stringify(paragraph));\n        let key = this.getParagraphPersistenceKey(adventureId, paragraph.paragraphNr);\n        if (!!paragraph.choices) {\n            for (let i = 0; i < paragraph.choices.length; i++) {\n                delete paragraph.choices[i]['$$hashKey'];\n            }\n        }\n        this.checkDupplicateChoices(paragraph);\n        this.persistenceService.save(key, paragraph);\n    }\n\n    checkDupplicateChoices(paragraph) {\n        if (!!paragraph && !!paragraph.choices) {\n            let choices = [];\n            for (let i = 0; i < paragraph.choices.length; i++) {\n                if (choices.indexOf(paragraph.choices[i].paragraphNr) !== -1) {\n                    this.messagesService.errorMessage(this.$translate.instant(\"DupplicateParagraphChoices\", {paragraphNr: paragraph.paragraphNr, choiceParagraphNr : paragraph.choices[i].paragraphNr }), true);\n                }\n                choices.push(paragraph.choices[i].paragraphNr);\n            }\n        }\n    }\n\n    getAdventureParagraphKeys(adventureId) {\n        let paragraphKeys = [];\n        let keys = Object.keys(localStorage);\n        let keyAdventureId = this.constants.data.adventure + '.' + adventureId;\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(this.constants.data.adventure) && keys[i].indexOf('paragraph.') !== -1) {\n                let adventureIdInKey = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n                if (adventureIdInKey === keyAdventureId) {\n                    paragraphKeys.push(keys[i]);\n                }\n            }\n        }\n        return paragraphKeys;\n    }\n\n    getParagraphPersistenceKey(adventureId, paragraphNr) {\n        return this.getAdventurePersistenceKey(adventureId) + \".paragraph.\" + paragraphNr;\n    }\n\n    getAdventurePersistenceKey(adventureId) {\n        let key = adventureId;\n        if (!key.startsWith(this.constants.data.adventure + \".\")) {\n            key = this.constants.data.adventure + \".\" + key;\n        }\n        return key;\n    }\n\n    exportAdventure(adventureId) {\n        let adventure = this.getAdventure(adventureId);\n        adventure.paragraphs = [];\n\n        let keys = Object.keys(localStorage);\n        let adventureIdKeyPrefix = this.constants.data.adventure + '.' + adventureId;\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(adventureIdKeyPrefix + \".paragraph\") !== -1) {\n                let currentAdventureIdPrefix = keys[i].substring(0, keys[i].indexOf('.paragraph'));\n                if (currentAdventureIdPrefix === adventureIdKeyPrefix) {\n                    let paragraph = this.persistenceService.get(keys[i]);\n                    if (!!paragraph) {\n                        delete paragraph.version;\n                        delete paragraph.adventureId;\n                        adventure.paragraphs.push(paragraph);\n                    }\n                }\n            }\n        }\n        adventure.paragraphs = this.sortParagraphs(adventure.paragraphs);\n        return adventure;\n    }\n\n    sortParagraphs(paragraphs) {\n        return paragraphs.sort(this.compareParagraph);\n    }\n\n    compareParagraph(p1, p2) {\n        if (!p1 && !p2) {\n            return 0;\n        } else if (!p1) {\n            return 1;\n        } else if (!p2) {\n            return -1;\n        } else {\n            return p1.paragraphNr - p2.paragraphNr;\n        }\n    }\n}\n\nexport default AdventurePersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/adventure-persistence/adventure-persistence.service.js\n **/","import angular from 'angular';\nimport libraryPersistenceService from './library-persistence.service';\n\nlet libraryPersistenceModule = angular.module('app.components.services.persistence.library', [])\n\n.service('libraryPersistenceService', libraryPersistenceService);\n\nexport default libraryPersistenceModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/library-persistence/library-persistence.js\n **/","class LibraryPersistenceService {\n\n    /*@ngInject*/\n    constructor(constants, persistenceService, messagesService, remoteJsonRetrieverService, $q, $filter, adventurePersistenceService) {\n        this.persistenceService = persistenceService;\n        this.constants = constants;\n        this.messagesService = messagesService;\n        this.remoteJsonRetrieverService = remoteJsonRetrieverService;\n        this.$q = $q;\n        this.$filter = $filter;\n        this.adventurePersistenceService = adventurePersistenceService;\n    }\n\n    downloadLibrary(library) {\n        let self = this;\n        let deferred = this.$q.defer();\n        let promise = this.remoteJsonRetrieverService.retrieveJson(library.libraryUrl);\n        promise.then(\n            function(json) {\n                library.downloadHistory.push(self.now() + ' : downloaded');\n                self.updateLibrary(library);\n                self.adventurePersistenceService.updateDownloadableAdventures(json);\n                self.messagesService.successMessage('List of the adventures of the library is downloaded', false);\n                deferred.resolve('Success');\n            },\n            function(reason) {\n                library.downloadHistory.push(self.now() + ' : error');\n                self.updateLibrary(library);\n                self.messagesService.errorMessage(reason, false);\n                deferred.reject(reason);\n            }\n        );\n        return deferred.promise;\n    }\n\n    now() {\n        let now = new Date();\n        return this.$filter('date')(now, 'dd.MM.yyyy HH:mm');\n    }\n\n\n    deleteLibrary(libraryId) {\n        this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n    }\n\n    importLibraries(librariesStr) {\n        try {\n            let libraries = JSON.parse(librariesStr);\n            this.checkMissingFields(libraries);\n            for (let i = 0; i < libraries.length; i++) {\n                let library = libraries[i];\n                this.updateLibrary(library);\n            }\n        } catch (error) {\n            this.messagesService.errorMessage('Cannot import libraries', false);\n            throw error;\n        }\n    }\n\n    checkMissingFields(libraries) {\n        for (let i = 0; i < libraries.length; i++) {\n            let library = libraries[i];\n            let missingMandatoryFields = [];\n            if (!library.siteName) {\n                missingMandatoryFields.push('siteName');\n            }\n            if (!library.libraryUrl) {\n                missingMandatoryFields.push('libraryUrl');\n            }\n            if (missingMandatoryFields.length > 0) {\n                this.messagesService.errorMessage('Cannot import a library because of missing mandatory fields: ' + missingMandatoryFields.join(', '), false);\n                throw this.constants.errors.missingMandatoryFields;\n            }\n        }\n    }\n\n    updateLibrary(library) {\n        if (!library.id) {\n            this.checkDupplicateLibrary(library);\n            library.id = this.getIdFromLibrarySiteName(library.siteName);\n        }\n        if (!library.downloadHistory) {\n            library.downloadHistory = [];\n            library.downloadHistory.push('Not downloaded yet');\n        }\n        this.persistenceService.save(this.getLibraryPersistenceKey(library.id), library);\n    }\n\n    getIdFromLibrarySiteName(siteName) {\n        return encodeURIComponent(siteName.replace(/\\s+/g, '-').toLowerCase()) + new Date().getTime().toString();\n    }\n\n    checkDupplicateLibrary(library) {\n        if (!!library.libraryUrl) {\n            let libraries = this.getLibraries();\n            for (let i = 0; i < libraries.length; i++) {\n                if (library.libraryUrl === libraries[i].libraryUrl) {\n                    throw this.constants.errors.libraryAlreadyExist;\n                }\n            }\n        }\n    }\n\n    exportLibraries() {\n        let libraries = this.getLibraries();\n        for (let i = 0; i < libraries.length; i++) {\n            delete libraries[i].id;\n            delete libraries[i].lastDownload;\n        }\n        return JSON.stringify(libraries);\n    }\n\n    getLibraries() {\n        let result = [];\n        let keys = this.getLibraryPersistenceKeys();\n        for (let i = 0; i < keys.length; i++) {\n            result.push(this.getLibrary(keys[i]));\n        }\n        return result;\n    }\n\n    getLibraryPersistenceKeys() {\n        let keys = Object.keys(localStorage);\n        let result = [];\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(this.constants.data.library)) {\n                result.push(keys[i]);\n            }\n        }\n        return result;\n    }\n\n    getLibrary(libraryId) {\n        return this.persistenceService.get(this.getLibraryPersistenceKey(libraryId));\n    }\n\n    deleteLibrary(libraryId) {\n        this.persistenceService.remove(this.getLibraryPersistenceKey(libraryId));\n    }\n\n    getLibraryPersistenceKey(libraryId) {\n        let key = libraryId;\n        if (!key.startsWith(this.constants.data.library)) {\n            key = this.constants.data.library + \".\" + key;\n        }\n        return key;\n    }\n}\n\nexport default LibraryPersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/library-persistence/library-persistence.service.js\n **/","class PersistenceService {\n\n    /*@ngInject*/\n    constructor(softwareRequirementsCheckerService, messagesService) {\n        this.isLocalStorageSupported = softwareRequirementsCheckerService.isLocalStorageSupported();\n        this.messagesService = messagesService;\n    }\n\n\n    findKeysWithPrefix(keyPrefix) {\n        if (!this.isLocalStorageSupported) {\n            return null;\n        }\n        let keys = Object.keys(localStorage);\n        let result = [];\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i].startsWith(keyPrefix)) {\n                result.push(keys[i]);\n            }\n        }\n        return result;\n    }\n\n    get(key) {\n        if (!this.isLocalStorageSupported) {\n            return null;\n        }\n        let value = localStorage.getItem(key);\n        if (value === null || value === \"undefined\" || value === undefined) {\n            return null;\n        } else {\n            try {\n                return JSON.parse(value);\n            } catch (e) {\n                // cannot be parsed, must be a string\n                return value;\n            }\n        }\n    }\n\n    save(key, value) {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        if (typeof value === 'string') {\n            localStorage.setItem(key, value);\n        } else {\n            localStorage.setItem(key, JSON.stringify(value));\n        }\n    }\n\n    remove(key) {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        localStorage.removeItem(key);\n    }\n\n    import(importDataAsJson) {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        this.cleanAllData();\n        let importData = JSON.parse(importDataAsJson);\n        let keys = Object.keys(importData);\n        for (let i = 0; i < keys.length; i++) {\n            this.save(keys[i], importData[keys[i]]);\n        }\n    }\n\n    export() {\n        return JSON.stringify(localStorage);\n\n    }\n\n    cleanAllData() {\n        if (!this.isLocalStorageSupported) {\n            return ;\n        }\n        localStorage.clear();\n    }\n\n    getUsedCapacity() {\n        if (!this.isLocalStorageSupported) {\n            return 0;\n        }\n        return unescape(encodeURIComponent(JSON.stringify(localStorage))).length;\n    }\n\n    getRemainingCapacity() {\n        let b10 = \"0123456789\";\n        let b100 = this.repeat(b10, 10);\n        let b1000 = this.repeat(b100, 10);\n        let b10k = this.repeat(b1000, 10);\n        let b100k = this.repeat(b10k, 10);\n        let b1M = this.repeat(b100k, 10);\n        let buffers = [ b1M, b100k, b10k, b1000, b100, b10];\n        for (let i = 0; i < buffers.length; i++) {\n            while (this.setLocalStorageWithoutError(buffers[i])) {\n            }\n        }\n        let capacity = this.getUsedCapacity();\n        delete localStorage.test;\n        return capacity;\n    }\n\n    getUsedCapacityInPercent() {\n        let usedCapacity = this.getUsedCapacity();\n        let remainingCapacity = this.getRemainingCapacity();\n        let available = usedCapacity + remainingCapacity;\n        return usedCapacity / available * 100;\n    }\n\n    setLocalStorageWithoutError(value) {\n        try {\n            localStorage.test = localStorage.test + value;\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    repeat(string, count) {\n        var array = [];\n        while (count--) {\n            array.push(string);\n        }\n        return array.join('');\n    }\n}\n\nexport default PersistenceService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/persistence/persistence.service.js\n **/","import angular from 'angular';\nimport dicesService from './dices.service';\n\nlet dicesModule = angular.module('app.components.services.dices', [])\n\n.service('dicesService', dicesService);\n\nexport default dicesModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/dices/dices.js\n **/","class DicesService {\n\n    /*@ngInject*/\n    constructor() {\n    }\n\n    rollDices(qty, maxDiceValue) {\n        let dicesValue = 0;\n        for (let i = 0; i < qty; i++) {\n            dicesValue = dicesValue + this.randomIntInclusive(1, maxDiceValue);\n        }\n        return dicesValue;\n    }\n\n    randomIntInclusive(min, max) {\n      return (Math.floor(Math.random() * (max - min + 1)) + min);\n    }\n}\n\nexport default DicesService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/dices/dices.service.js\n **/","import angular from 'angular';\nimport formHelperService from './form-helper.service';\n\nlet formHelperModule = angular.module('app.components.services.form-helper', [])\n\n.service('formHelperService', formHelperService);\n\nexport default formHelperModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/form-helper/form-helper.js\n **/","class FormHelperService {\n\n    /*@ngInject*/\n    constructor(messagesService) {\n        this.messagesService = messagesService;\n    }\n\n    setErrorFieldsAsDirty(form, withMessage) {\n        if (form.$invalid) {\n            if (!!withMessage) {\n                this.messagesService.errorMessage('Please complete mandatory fields', false);\n            }\n\n            // error \"dirty\" field will be hightlighted (see app.css)\n            angular.forEach(form.$error, function(type) {\n                angular.forEach(type, function(field) {\n                    field.$setDirty();\n                });\n            });\n        }\n    }\n}\n\nexport default FormHelperService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/form-helper/form-helper.service.js\n **/","class RemoteJsonRetrieverService {\n\n    /*@ngInject*/\n    constructor($http, $q) {\n        this.$http = $http;\n        this.$q = $q;\n    }\n\n    retrieveJson(jsonUrl) {\n        let deferred = this.$q.defer();\n        let that = this;\n        this.$http.get(jsonUrl).then(\n            function successCallback(response) {\n                if (!!response && !!response.data) {\n                    deferred.resolve(response.data);\n                } else {\n                    deferred.reject('Cannot get data from ' + jsonUrl);\n                }\n            },\n            function errorCallback(response) {\n                deferred.reject('Cannot get data from ' + jsonUrl);\n            }\n        );\n        return deferred.promise;\n    }\n}\n\nexport default RemoteJsonRetrieverService;\n\n\n/** WEBPACK FOOTER **\n ** ./components/services/remote-json-retriever/remote-json-retriever.service.js\n **/","import angular from 'angular';\n\nlet constantsModule = angular.module('app.components.constants', [])\n    .constant('constants', {\n        version: '20160909',\n        supportedLanguages: ['en', 'fr'],\n        data: {\n            selectedLanguage: 'selectedLanguage',\n            adventure: 'adventure',\n            game: 'game',\n            library: 'library'\n        },\n        url: {\n            battle : '/battle',\n            chooseLanguage : '/choose-language',\n            administration: '/administration',\n            games : '/games',\n            root: '/',\n            selectAdventureForNewGame : '/games/create/select-adventure',\n            createPlayerForNewGame : '/games/create/create-player',\n            chooseItemsForNewGame : '/games/create/choose-items',\n            gameDetail: '/{adventureId}/{paragraphNr}/game/{gameId}',\n            about: '/about?admin',\n            adventures: '/adventures',\n            adventureDetail: '/adventures',\n            libraries: '/libraries',\n            libraryDetail: '/libraries',\n        },\n        choices : {\n            yes : 'Yes',\n            no : 'No',\n            ok: 'Ok',\n            cancel: 'Cancel'\n        },\n        errors: {\n            adventureAlreadyExist : 'error.adventureAlreadyExist',\n            libraryAlreadyExist : 'error.libraryAlreadyExist',\n            missingMandatoryFields: 'error.missingMandatoryFields'\n        }\n    });\n\nexport default constantsModule;\n\n\n/** WEBPACK FOOTER **\n ** ./components/constants/constants.js\n **/","/**\n * Copyright (C) Schweizerische Bundesbahnen SBB, 2015.\n *\n * ESTA WebJS: Hauptkomponente der Angular-Applikation\n *\n * @author u220374 (Reto Lehmann)\n * @version: 0.0.1\n * @since 23.10.2015, 2015.\n */\nimport template from './app.html';\nimport './app.css';\n\nlet appComponent = () => {\n    return {\n        template, restrict: 'E'\n    };\n};\n\nexport default appComponent;\n\n\n/** WEBPACK FOOTER **\n ** ./app.component.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./app.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./app.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./app.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app.css\n ** module id = 132\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body{padding-top:70px}.ng-invalid.ng-dirty:required{background-color:#f99!important}.error{color:#f99}.spacer{margin:0;padding:0;height:10px}.table-borderless tbody tr td,.table-borderless tbody tr th,.table-borderless thead tr th{border:none}.editable-div{height:auto;min-height:34px}.modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:30%}.close{float:right}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/pascal/Documents/dev/gamebooks-assistant/~/css-loader!./app.css\n ** module id = 133\n ** module chunks = 0\n **/","/*! http://mths.be/startswith v0.2.0 by @mathias */\nif (!String.prototype.startsWith) {\n\t(function() {\n\t\t'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\t\tvar defineProperty = (function() {\n\t\t\t// IE 8 only supports `Object.defineProperty` on DOM elements\n\t\t\ttry {\n\t\t\t\tvar object = {};\n\t\t\t\tvar $defineProperty = Object.defineProperty;\n\t\t\t\tvar result = $defineProperty(object, object, object) && $defineProperty;\n\t\t\t} catch(error) {}\n\t\t\treturn result;\n\t\t}());\n\t\tvar toString = {}.toString;\n\t\tvar startsWith = function(search) {\n\t\t\tif (this == null) {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar string = String(this);\n\t\t\tif (search && toString.call(search) == '[object RegExp]') {\n\t\t\t\tthrow TypeError();\n\t\t\t}\n\t\t\tvar stringLength = string.length;\n\t\t\tvar searchString = String(search);\n\t\t\tvar searchLength = searchString.length;\n\t\t\tvar position = arguments.length > 1 ? arguments[1] : undefined;\n\t\t\t// `ToInteger`\n\t\t\tvar pos = position ? Number(position) : 0;\n\t\t\tif (pos != pos) { // better `isNaN`\n\t\t\t\tpos = 0;\n\t\t\t}\n\t\t\tvar start = Math.min(Math.max(pos, 0), stringLength);\n\t\t\t// Avoid the `indexOf` call if no match is possible\n\t\t\tif (searchLength + start > stringLength) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar index = -1;\n\t\t\twhile (++index < searchLength) {\n\t\t\t\tif (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tif (defineProperty) {\n\t\t\tdefineProperty(String.prototype, 'startsWith', {\n\t\t\t\t'value': startsWith,\n\t\t\t\t'configurable': true,\n\t\t\t\t'writable': true\n\t\t\t});\n\t\t} else {\n\t\t\tString.prototype.startsWith = startsWith;\n\t\t}\n\t}());\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /home/pascal/Documents/dev/gamebooks-assistant/~/string.prototype.startswith/startswith.js\n ** module id = 136\n ** module chunks = 0\n **/"],"sourceRoot":""}