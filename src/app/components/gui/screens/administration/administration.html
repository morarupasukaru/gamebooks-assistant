<toolbar title="Gamebook Assistant - {{ 'Administration' | translate}}"></toolbar>
<messages></messages>
<main>
    <div layout="row" role="contentinfo">
        <div flex="20" hide-sm hide-xs>
        </div>
        <div flex>
            <div layout="column" ng-cloak class="md-inline-form">
                <md-content layout-padding ng-if="!!$ctrl.loading">
                    <div layout="column" layout-align="center center">
                        <h2>Please wait</h2>
                        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
                    </div>
                </md-content>
                <md-content layout-padding>
                    <div>
                        <form>
                            <div ng-if="!$ctrl.loading">
                                <section>
                                    <md-input-container class="md-block">
                                        <label>{{ "Application's version" | translate }}</label>
                                        <input ng-model="$ctrl.appVersion" disabled>
                                    </md-input-container>

                                    <md-input-container class="md-block">
                                        <label>{{ "Used Local's Storage" | translate }}</label>
                                        <input value="{{$ctrl.usedLocalStorage / 1024 | number : 2 }} / {{$ctrl.remainingCapacity / 1024 | number : 2 }}kb ({{ $ctrl.usedLocalStorageInPercent | number : 2}}%)" disabled>
                                    </md-input-container>

                                    <md-input-container class="md-block">
                                        <label>{{ "Application's data" | translate }}</label>
                                        <textarea ng-model="$ctrl.applicationData" rows="{{ $ctrl.applicationDataRows }}" md-no-autogrow disabled></textarea>
                                    </md-input-container>
                                </section>
                            </div>
                            <back-button></back-button>
                            <md-button class="md-raised"
                                       aria-label="{{ 'Import' | translate }}"
                                       title="{{ 'Import' | translate }}"
                                       ng-click="$ctrl.showPopupConfirmImportData()"
                                       ng-if="!$ctrl.loading">
                                {{ 'Import' | translate }}
                            </md-button>
                            <md-button class="md-raised"
                                       aria-label="{{ 'Delete application\'s data' | translate }}"
                                       title="{{ 'Delete application\'s data' | translate }}"
                                       ng-click="$ctrl.showPopupConfirmDeleteApplicationData()"
                                       ng-if="!$ctrl.loading">
                                {{ 'Delete application\'s data' | translate }}
                            </md-button>
                        </form>
                    </div>
                </md-content>
            </div>
        </div>
        <div flex="20" hide-sm hide-xs>
        </div>
    </div>
</main>