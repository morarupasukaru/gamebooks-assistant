<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamebooks Assistant</title>
    <meta name="description" content="Gamebook assistant">
    <meta name="application-name" content="Gamebooks Assistant"/>
    <meta name="author" content="morarupasukaru">

    <!-- build:css assets/styles.css -->
    <link rel="stylesheet" href="../assets/icons/icomoon/style.css">
    <link rel="stylesheet" href="../assets/normalize/normalize.css">
    <link rel="stylesheet" href="../assets/pure/base.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-grid.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-base-styles.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-typography.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-links.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-buttons.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-forms.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-code.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-tables.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-spacing.css">
    <link rel="stylesheet" href="../assets/skeleton/skeleton-utilities.css">
    <link rel="stylesheet" href="../style/trim-text.css">
    <link rel="stylesheet" href="../style/nowrap-text.css">
    <link rel="stylesheet" href="../style/anchor.css">
    <link rel="stylesheet" href="../style/footer.css">
    <link rel="stylesheet" href="../style/splash.css">
    <link rel="stylesheet" href="../i18n/i18n.css">
    <!-- /build -->
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

    <script>
        /**
         * polyfill : String.prototype.startsWith()
         * see https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String/startsWith
         */
        if (!String.prototype.startsWith) {
          String.prototype.startsWith = function (searchString, position) {
              position = position || 0;
              return this.substr(position, searchString.length) === searchString;
          };
        }

        $(function() {
          initLanguage();
        });
    </script>

    <meta name="viewport" content="width=device-width initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="shortcut icon" href="favicon.ico">


</head>

<body>
<div>
    <div class="splash">
        <h1 class="splash-head">Gamebook assistant</h1>
        <p class="splash-subhead i18n" data-fr="facilite la résolution de livre-jeu" data-en="ease the resolution of gamebooks"></p>
        <p>
            <a class="button i18n"
               href="http://localhost:3000/#/library-import?import=http://morarupasukaru.github.io/gamebooks-assistant/data/library-defis-fantastiques.json"
               data-fr="VERSION DESKTOP" data-en="DESKTOP VERSION"></a>
            <a class="button i18n" href="gamebooks" data-fr="VERSION MOBILE" data-en="MOBILE VERSION"></a>
        </p>
    </div>
</div>
<div class="footer">
    <div class="footer-left trim-text">
        <a href="https://github.com/morarupasukaru/gamebooks-assistant/">&nbsp;<span class="icon icon-github2"></span>&nbsp;<span class="i18n" data-fr="Projet GitHub" data-en="GitHub Project"></span></a>
    </div>
    <div class="footer-right nowrap-text">
        <a href="#" id="link_en" hreflang="en" onClick="setLanguage('en');" class="hidden"><span class="icon icon-globe"></span>&nbsp;English&nbsp;</a>
        <a href="#" id="link_fr" hreflang="fr" onClick="setLanguage('fr');"><span class="icon icon-globe"></span>&nbsp;Français&nbsp;</a>
    </div>
</div>

<script>
function initLanguage() {
    var language = navigator.languages && navigator.languages[0] || navigator.language || navigator.userLanguage;
    if (language === 'fr' || language.startsWith('fr-')) {
        setLanguage('fr');
    } else if (language === 'en' || language.startsWith('en-')) {
        setLanguage('en');
    }
}

function setLanguage(language) {
    var currentLanguage = $("html").attr("lang");
    if (!currentLanguage) {
        currentLanguage = "en";
    }
    if (currentLanguage !== language) {
        $("html").attr("lang", language);
        $("#link_" + currentLanguage).toggleClass("hidden");
        $("#link_" + language).toggleClass("hidden");
    }
}
</script>
</body>
</html>